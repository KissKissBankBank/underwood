var ZC=Object.defineProperty,JC=Object.defineProperties;var ew=Object.getOwnPropertyDescriptors;var mt=Object.getOwnPropertySymbols;var Pi=Object.prototype.hasOwnProperty,Mi=Object.prototype.propertyIsEnumerable;var Li=(C,p,K)=>p in C?ZC(C,p,{enumerable:!0,configurable:!0,writable:!0,value:K}):C[p]=K,j=(C,p)=>{for(var K in p||(p={}))Pi.call(p,K)&&Li(C,K,p[K]);if(mt)for(var K of mt(p))Mi.call(p,K)&&Li(C,K,p[K]);return C},vt=(C,p)=>JC(C,ew(p));var we=(C,p)=>{var K={};for(var _ in C)Pi.call(C,_)&&p.indexOf(_)<0&&(K[_]=C[_]);if(C!=null&&mt)for(var _ of mt(C))p.indexOf(_)<0&&Mi.call(C,_)&&(K[_]=C[_]);return K};(function(C,p){typeof exports=="object"&&typeof module!="undefined"?p(exports,require("draft-js"),require("prop-types"),require("react"),require("@kisskissbankbank/kitten"),require("classnames"),require("styled-components"),require("immutable"),require("formik"),require("linkify-it"),require("tlds"),require("yup"),require("qs"),require("draft-convert"),require("draft-js-export-html")):typeof define=="function"&&define.amd?define(["exports","draft-js","prop-types","react","@kisskissbankbank/kitten","classnames","styled-components","immutable","formik","linkify-it","tlds","yup","qs","draft-convert","draft-js-export-html"],p):(C=typeof globalThis!="undefined"?globalThis:C||self,p(C.Underwood={},C.DraftJS,C.PropTypes,C.React,C.Kitten,C.classnames,C.styled,C.Immutable,C.Formik,C.linkifyIt,C.tlds,C.Yup,C.qs,C.DraftConvert,C.DraftJsExportHtml))})(this,function(C,p,K,_,l,Di,xe,Ne,Y,Bi,Fi,Ni,Wi,_t,ji){"use strict";function de(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function ki(e){if(e&&e.__esModule)return e;var t={__proto__:null,[Symbol.toStringTag]:"Module"};return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var h=de(K),Gi=de(_),re=de(Di),N=de(xe),bt=de(Bi),$t=de(Fi),We=ki(Ni),Ki=de(Wi),je=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ke={exports:{}},Re={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var qr=Object.getOwnPropertySymbols,Ui=Object.prototype.hasOwnProperty,zi=Object.prototype.propertyIsEnumerable;function Hi(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function qi(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}qi();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=Gi.default,Yr=60103;if(Re.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var Vr=Symbol.for;Yr=Vr("react.element"),Re.Fragment=Vr("react.fragment")}var Vi=Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xi=Object.prototype.hasOwnProperty,Qi={key:!0,ref:!0,__self:!0,__source:!0};function Xr(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Xi.call(t,n)&&!Qi.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Yr,type:e,key:o,ref:i,props:a,_owner:Vi.current}}Re.jsx=Xr,Re.jsxs=Xr,ke.exports=Re;const u=ke.exports.jsx,I=ke.exports.jsxs,V=ke.exports.Fragment,Qr={editorState:p.EditorState.createEmpty(),focus:!1,editorRef:null,disabled:!1},M=_.createContext(Qr),Zi=(e,t)=>{switch(t.type){case"update":case"focus":return j(j({},e),t)}},At=({translations:e,configResponsiveImageHandler:t,children:r})=>u(M.Provider,{value:_.useReducer(Zi,vt(j({},Qr),{translations:e,configResponsiveImageHandler:t})),children:r}),F=e=>({type:"update",editorState:e}),Ji=e=>({type:"update",editorRef:e}),Tt=e=>({type:"update",disabled:e}),Zr=e=>({type:"focus",focus:e}),Jr=p.DefaultDraftBlockRenderMap.merge(Ne.Map({"header-one":{element:"span",wrapper:u(l.Title,{tag:"h1",modifier:"secondary",noMargin:!0,className:"k-u-margin-bottom-singleHalf k-u-margin-bottom-double@s-up"})},"header-two":{element:"span",wrapper:u(l.Title,{tag:"h2",modifier:"tertiary",noMargin:!0,className:"k-u-margin-bottom-singleHalf k-u-margin-bottom-double@l-up"})},"header-three":{element:"span",wrapper:u(l.Title,{tag:"h3",modifier:"quaternary",noMargin:!0,className:"k-u-margin-bottom-singleHalf"})},"header-four":{element:"span",wrapper:u(l.Title,{tag:"h4",modifier:"quinary",noMargin:!0,className:"k-u-margin-bottom-single k-u-margin-bottom-singleHalf@s-up"})}}));var en={};(function(e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={"1":["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],"2":["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],"3":["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],"4":["fill","setWith","updateWith"]},e.aryRearg={"2":[1,0],"3":[2,0,1],"4":[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,r=e.aliasToReal,n={};for(var a in r){var o=r[a];t.call(n,o)?n[o].push(a):n[o]=[a]}return n}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(en);var Z={},k=en,es=Z,tn=Array.prototype.push;function ts(e,t){return t==2?function(r,n){return e.apply(void 0,arguments)}:function(r){return e.apply(void 0,arguments)}}function St(e,t){return t==2?function(r,n){return e(r,n)}:function(r){return e(r)}}function rn(e){for(var t=e?e.length:0,r=Array(t);t--;)r[t]=e[t];return r}function rs(e){return function(t){return e({},t)}}function ns(e,t){return function(){for(var r=arguments.length,n=r-1,a=Array(r);r--;)a[r]=arguments[r];var o=a[t],i=a.slice(0,t);return o&&tn.apply(i,o),t!=n&&tn.apply(i,a.slice(t+1)),e.apply(this,i)}}function Et(e,t){return function(){var r=arguments.length;if(!!r){for(var n=Array(r);r--;)n[r]=arguments[r];var a=n[0]=t.apply(void 0,n);return e.apply(void 0,n),a}}}function Ct(e,t,r,n){var a=typeof t=="function",o=t===Object(t);if(o&&(n=r,r=t,t=void 0),r==null)throw new TypeError;n||(n={});var i={cap:"cap"in n?n.cap:!0,curry:"curry"in n?n.curry:!0,fixed:"fixed"in n?n.fixed:!0,immutable:"immutable"in n?n.immutable:!0,rearg:"rearg"in n?n.rearg:!0},s=a?r:es,c="curry"in n&&n.curry,d="fixed"in n&&n.fixed,f="rearg"in n&&n.rearg,g=a?r.runInContext():void 0,y=a?r:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},m=y.ary,T=y.assign,$=y.clone,A=y.curry,E=y.forEach,w=y.isArray,P=y.isError,O=y.isFunction,W=y.isWeakMap,G=y.keys,B=y.rearg,te=y.toInteger,KC=y.toPath,Ei=G(k.aryMethod),UC={castArray:function(S){return function(){var v=arguments[0];return w(v)?S(rn(v)):S.apply(void 0,arguments)}},iteratee:function(S){return function(){var v=arguments[0],b=arguments[1],x=S(v,b),R=x.length;return i.cap&&typeof b=="number"?(b=b>2?b-2:1,R&&R<=b?x:St(x,b)):x}},mixin:function(S){return function(v){var b=this;if(!O(b))return S(b,Object(v));var x=[];return E(G(v),function(R){O(v[R])&&x.push([R,b.prototype[R]])}),S(b,Object(v)),E(x,function(R){var H=R[1];O(H)?b.prototype[R[0]]=H:delete b.prototype[R[0]]}),b}},nthArg:function(S){return function(v){var b=v<0?1:te(v)+1;return A(S(v),b)}},rearg:function(S){return function(v,b){var x=b?b.length:0;return A(S(v,b),x)}},runInContext:function(S){return function(v){return Ct(e,S(v),n)}}};function zC(S,v){if(i.cap){var b=k.iterateeRearg[S];if(b)return XC(v,b);var x=!a&&k.iterateeAry[S];if(x)return VC(v,x)}return v}function HC(S,v,b){return c||i.curry&&b>1?A(v,b):v}function Ci(S,v,b){if(i.fixed&&(d||!k.skipFixed[S])){var x=k.methodSpread[S],R=x&&x.start;return R===void 0?m(v,b):ns(v,R)}return v}function wi(S,v,b){return i.rearg&&b>1&&(f||!k.skipRearg[S])?B(v,k.methodRearg[S]||k.aryRearg[b]):v}function qC(S,v){v=KC(v);for(var b=-1,x=v.length,R=x-1,H=$(Object(S)),oe=H;oe!=null&&++b<x;){var Q=v[b],ie=oe[Q];ie!=null&&!(O(ie)||P(ie)||W(ie))&&(oe[Q]=$(b==R?ie:Object(ie))),oe=oe[Q]}return H}function YC(S){return X.runInContext.convert(S)(void 0)}function xi(S,v){var b=k.aliasToReal[S]||S,x=k.remap[b]||b,R=n;return function(H){var oe=a?g:y,Q=a?g[x]:v,ie=T(T({},R),H);return Ct(oe,b,Q,ie)}}function VC(S,v){return Ri(S,function(b){return typeof b=="function"?St(b,v):b})}function XC(S,v){return Ri(S,function(b){var x=v.length;return ts(B(St(b,x),v),x)})}function Ri(S,v){return function(){var b=arguments.length;if(!b)return S();for(var x=Array(b);b--;)x[b]=arguments[b];var R=i.rearg?0:b-1;return x[R]=v(x[R]),S.apply(void 0,x)}}function Ii(S,v,b){var x,R=k.aliasToReal[S]||S,H=v,oe=UC[R];return oe?H=oe(v):i.immutable&&(k.mutate.array[R]?H=Et(v,rn):k.mutate.object[R]?H=Et(v,rs(v)):k.mutate.set[R]&&(H=Et(v,qC))),E(Ei,function(Q){return E(k.aryMethod[Q],function(ie){if(R==ie){var Oi=k.methodSpread[R],QC=Oi&&Oi.afterRearg;return x=QC?Ci(R,wi(R,H,Q),Q):wi(R,Ci(R,H,Q),Q),x=zC(R,x),x=HC(R,x,Q),!1}}),!x}),x||(x=H),x==v&&(x=c?A(x,1):function(){return v.apply(this,arguments)}),x.convert=xi(R,v),x.placeholder=v.placeholder=b,x}if(!o)return Ii(t,r,s);var X=r,Fe=[];return E(Ei,function(S){E(k.aryMethod[S],function(v){var b=X[k.remap[v]||v];b&&Fe.push([v,Ii(v,b,X)])})}),E(G(X),function(S){var v=X[S];if(typeof v=="function"){for(var b=Fe.length;b--;)if(Fe[b][0]==S)return;v.convert=xi(S,v),Fe.push([S,v])}}),E(Fe,function(S){X[S[0]]=S[1]}),X.convert=YC,X.placeholder=X,E(G(X),function(S){E(k.realToAlias[S]||[],function(v){X[v]=X[S]})}),X}var as=Ct;function os(e){return e}var wt=os,is=typeof je=="object"&&je&&je.Object===Object&&je,nn=is,ss=nn,ls=typeof self=="object"&&self&&self.Object===Object&&self,cs=ss||ls||Function("return this")(),q=cs,us=q,ds=us.Symbol,ve=ds,an=ve,on=Object.prototype,fs=on.hasOwnProperty,gs=on.toString,Ie=an?an.toStringTag:void 0;function ps(e){var t=fs.call(e,Ie),r=e[Ie];try{e[Ie]=void 0;var n=!0}catch{}var a=gs.call(e);return n&&(t?e[Ie]=r:delete e[Ie]),a}var hs=ps,ys=Object.prototype,ms=ys.toString;function vs(e){return ms.call(e)}var _s=vs,sn=ve,bs=hs,$s=_s,As="[object Null]",Ts="[object Undefined]",ln=sn?sn.toStringTag:void 0;function Ss(e){return e==null?e===void 0?Ts:As:ln&&ln in Object(e)?bs(e):$s(e)}var fe=Ss;function Es(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var se=Es,Cs=fe,ws=se,xs="[object AsyncFunction]",Rs="[object Function]",Is="[object GeneratorFunction]",Os="[object Proxy]";function Ls(e){if(!ws(e))return!1;var t=Cs(e);return t==Rs||t==Is||t==xs||t==Os}var xt=Ls,Ps=q,Ms=Ps["__core-js_shared__"],Ds=Ms,Rt=Ds,cn=function(){var e=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Bs(e){return!!cn&&cn in e}var Fs=Bs,Ns=Function.prototype,Ws=Ns.toString;function js(e){if(e!=null){try{return Ws.call(e)}catch{}try{return e+""}catch{}}return""}var un=js,ks=xt,Gs=Fs,Ks=se,Us=un,zs=/[\\^$.*+?()[\]{}|]/g,Hs=/^\[object .+?Constructor\]$/,qs=Function.prototype,Ys=Object.prototype,Vs=qs.toString,Xs=Ys.hasOwnProperty,Qs=RegExp("^"+Vs.call(Xs).replace(zs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zs(e){if(!Ks(e)||Gs(e))return!1;var t=ks(e)?Qs:Hs;return t.test(Us(e))}var Js=Zs;function el(e,t){return e==null?void 0:e[t]}var tl=el,rl=Js,nl=tl;function al(e,t){var r=nl(e,t);return rl(r)?r:void 0}var ge=al,ol=ge,il=q,sl=ol(il,"WeakMap"),dn=sl,fn=dn,ll=fn&&new fn,gn=ll,cl=wt,pn=gn,ul=pn?function(e,t){return pn.set(e,t),e}:cl,hn=ul,dl=se,yn=Object.create,fl=function(){function e(){}return function(t){if(!dl(t))return{};if(yn)return yn(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Ge=fl,gl=Ge,pl=se;function hl(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=gl(e.prototype),n=e.apply(r,t);return pl(n)?n:r}}var Ke=hl,yl=Ke,ml=q,vl=1;function _l(e,t,r){var n=t&vl,a=yl(e);function o(){var i=this&&this!==ml&&this instanceof o?a:e;return i.apply(n?r:this,arguments)}return o}var bl=_l;function $l(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var It=$l,Al=Math.max;function Tl(e,t,r,n){for(var a=-1,o=e.length,i=r.length,s=-1,c=t.length,d=Al(o-i,0),f=Array(c+d),g=!n;++s<c;)f[s]=t[s];for(;++a<i;)(g||a<o)&&(f[r[a]]=e[a]);for(;d--;)f[s++]=e[a++];return f}var mn=Tl,Sl=Math.max;function El(e,t,r,n){for(var a=-1,o=e.length,i=-1,s=r.length,c=-1,d=t.length,f=Sl(o-s,0),g=Array(f+d),y=!n;++a<f;)g[a]=e[a];for(var m=a;++c<d;)g[m+c]=t[c];for(;++i<s;)(y||a<o)&&(g[m+r[i]]=e[a++]);return g}var vn=El;function Cl(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var wl=Cl;function xl(){}var Ot=xl,Rl=Ge,Il=Ot,Ol=4294967295;function Ue(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ol,this.__views__=[]}Ue.prototype=Rl(Il.prototype),Ue.prototype.constructor=Ue;var Lt=Ue;function Ll(){}var _n=Ll,bn=gn,Pl=_n,Ml=bn?function(e){return bn.get(e)}:Pl,Pt=Ml,Dl={},Bl=Dl,$n=Bl,Fl=Object.prototype,Nl=Fl.hasOwnProperty;function Wl(e){for(var t=e.name+"",r=$n[t],n=Nl.call($n,t)?r.length:0;n--;){var a=r[n],o=a.func;if(o==null||o==e)return a.name}return t}var An=Wl,jl=Ge,kl=Ot;function ze(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}ze.prototype=jl(kl.prototype),ze.prototype.constructor=ze;var Mt=ze,Gl=Array.isArray,U=Gl;function Kl(e){return e!=null&&typeof e=="object"}var J=Kl;function Ul(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var He=Ul,zl=Lt,Hl=Mt,ql=He;function Yl(e){if(e instanceof zl)return e.clone();var t=new Hl(e.__wrapped__,e.__chain__);return t.__actions__=ql(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vl=Yl,Xl=Lt,Tn=Mt,Ql=Ot,Zl=U,Jl=J,ec=Vl,tc=Object.prototype,rc=tc.hasOwnProperty;function qe(e){if(Jl(e)&&!Zl(e)&&!(e instanceof Xl)){if(e instanceof Tn)return e;if(rc.call(e,"__wrapped__"))return ec(e)}return new Tn(e)}qe.prototype=Ql.prototype,qe.prototype.constructor=qe;var nc=qe,ac=Lt,oc=Pt,ic=An,sc=nc;function lc(e){var t=ic(e),r=sc[t];if(typeof r!="function"||!(t in ac.prototype))return!1;if(e===r)return!0;var n=oc(r);return!!n&&e===n[0]}var Sn=lc,cc=800,uc=16,dc=Date.now;function fc(e){var t=0,r=0;return function(){var n=dc(),a=uc-(n-r);if(r=n,a>0){if(++t>=cc)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var En=fc,gc=hn,pc=En,hc=pc(gc),Cn=hc,yc=/\{\n\/\* \[wrapped with (.+)\] \*/,mc=/,? & /;function vc(e){var t=e.match(yc);return t?t[1].split(mc):[]}var _c=vc,bc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function $c(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(bc,`{
/* [wrapped with `+t+`] */
`)}var Ac=$c;function Tc(e){return function(){return e}}var Sc=Tc,Ec=ge,Cc=function(){try{var e=Ec(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wn=Cc,wc=Sc,xn=wn,xc=wt,Rc=xn?function(e,t){return xn(e,"toString",{configurable:!0,enumerable:!1,value:wc(t),writable:!0})}:xc,Ic=Rc,Oc=Ic,Lc=En,Pc=Lc(Oc),Rn=Pc;function Mc(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Dt=Mc;function Dc(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Bc=Dc;function Fc(e){return e!==e}var Nc=Fc;function Wc(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var jc=Wc,kc=Bc,Gc=Nc,Kc=jc;function Uc(e,t,r){return t===t?Kc(e,t,r):kc(e,Gc,r)}var Bt=Uc,zc=Bt;function Hc(e,t){var r=e==null?0:e.length;return!!r&&zc(e,t,0)>-1}var In=Hc,qc=Dt,Yc=In,Vc=1,Xc=2,Qc=8,Zc=16,Jc=32,eu=64,tu=128,ru=256,nu=512,au=[["ary",tu],["bind",Vc],["bindKey",Xc],["curry",Qc],["curryRight",Zc],["flip",nu],["partial",Jc],["partialRight",eu],["rearg",ru]];function ou(e,t){return qc(au,function(r){var n="_."+r[0];t&r[1]&&!Yc(e,n)&&e.push(n)}),e.sort()}var iu=ou,su=_c,lu=Ac,cu=Rn,uu=iu;function du(e,t,r){var n=t+"";return cu(e,lu(n,uu(su(n),r)))}var On=du,fu=Sn,gu=Cn,pu=On,hu=1,yu=2,mu=4,vu=8,Ln=32,Pn=64;function _u(e,t,r,n,a,o,i,s,c,d){var f=t&vu,g=f?i:void 0,y=f?void 0:i,m=f?o:void 0,T=f?void 0:o;t|=f?Ln:Pn,t&=~(f?Pn:Ln),t&mu||(t&=~(hu|yu));var $=[e,t,a,m,g,T,y,s,c,d],A=r.apply(void 0,$);return fu(e)&&gu(A,$),A.placeholder=n,pu(A,e,t)}var Mn=_u;function bu(e){var t=e;return t.placeholder}var Dn=bu,$u=9007199254740991,Au=/^(?:0|[1-9]\d*)$/;function Tu(e,t){var r=typeof e;return t=t==null?$u:t,!!t&&(r=="number"||r!="symbol"&&Au.test(e))&&e>-1&&e%1==0&&e<t}var Ye=Tu,Su=He,Eu=Ye,Cu=Math.min;function wu(e,t){for(var r=e.length,n=Cu(t.length,r),a=Su(e);n--;){var o=t[n];e[n]=Eu(o,r)?a[o]:void 0}return e}var xu=wu,Bn="__lodash_placeholder__";function Ru(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var i=e[r];(i===t||i===Bn)&&(e[r]=Bn,o[a++]=r)}return o}var Ft=Ru,Iu=mn,Ou=vn,Lu=wl,Fn=Ke,Pu=Mn,Mu=Dn,Du=xu,Bu=Ft,Fu=q,Nu=1,Wu=2,ju=8,ku=16,Gu=128,Ku=512;function Nn(e,t,r,n,a,o,i,s,c,d){var f=t&Gu,g=t&Nu,y=t&Wu,m=t&(ju|ku),T=t&Ku,$=y?void 0:Fn(e);function A(){for(var E=arguments.length,w=Array(E),P=E;P--;)w[P]=arguments[P];if(m)var O=Mu(A),W=Lu(w,O);if(n&&(w=Iu(w,n,a,m)),o&&(w=Ou(w,o,i,m)),E-=W,m&&E<d){var G=Bu(w,O);return Pu(e,t,Nn,A.placeholder,r,w,G,s,c,d-E)}var B=g?r:this,te=y?B[e]:e;return E=w.length,s?w=Du(w,s):T&&E>1&&w.reverse(),f&&c<E&&(w.length=c),this&&this!==Fu&&this instanceof A&&(te=$||Fn(te)),te.apply(B,w)}return A}var Wn=Nn,Uu=It,zu=Ke,Hu=Wn,qu=Mn,Yu=Dn,Vu=Ft,Xu=q;function Qu(e,t,r){var n=zu(e);function a(){for(var o=arguments.length,i=Array(o),s=o,c=Yu(a);s--;)i[s]=arguments[s];var d=o<3&&i[0]!==c&&i[o-1]!==c?[]:Vu(i,c);if(o-=d.length,o<r)return qu(e,t,Hu,a.placeholder,void 0,i,d,void 0,void 0,r-o);var f=this&&this!==Xu&&this instanceof a?n:e;return Uu(f,this,i)}return a}var Zu=Qu,Ju=It,ed=Ke,td=q,rd=1;function nd(e,t,r,n){var a=t&rd,o=ed(e);function i(){for(var s=-1,c=arguments.length,d=-1,f=n.length,g=Array(f+c),y=this&&this!==td&&this instanceof i?o:e;++d<f;)g[d]=n[d];for(;c--;)g[d++]=arguments[++s];return Ju(y,a?r:this,g)}return i}var ad=nd,od=mn,id=vn,jn=Ft,kn="__lodash_placeholder__",Nt=1,sd=2,ld=4,Gn=8,Oe=128,Kn=256,cd=Math.min;function ud(e,t){var r=e[1],n=t[1],a=r|n,o=a<(Nt|sd|Oe),i=n==Oe&&r==Gn||n==Oe&&r==Kn&&e[7].length<=t[8]||n==(Oe|Kn)&&t[7].length<=t[8]&&r==Gn;if(!(o||i))return e;n&Nt&&(e[2]=t[2],a|=r&Nt?0:ld);var s=t[3];if(s){var c=e[3];e[3]=c?od(c,s,t[4]):s,e[4]=c?jn(e[3],kn):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?id(c,s,t[6]):s,e[6]=c?jn(e[5],kn):t[6]),s=t[7],s&&(e[7]=s),n&Oe&&(e[8]=e[8]==null?t[8]:cd(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}var dd=ud,fd=/\s/;function gd(e){for(var t=e.length;t--&&fd.test(e.charAt(t)););return t}var pd=gd,hd=pd,yd=/^\s+/;function md(e){return e&&e.slice(0,hd(e)+1).replace(yd,"")}var Un=md,vd=fe,_d=J,bd="[object Symbol]";function $d(e){return typeof e=="symbol"||_d(e)&&vd(e)==bd}var Le=$d,Ad=Un,zn=se,Td=Le,Hn=0/0,Sd=/^[-+]0x[0-9a-f]+$/i,Ed=/^0b[01]+$/i,Cd=/^0o[0-7]+$/i,wd=parseInt;function xd(e){if(typeof e=="number")return e;if(Td(e))return Hn;if(zn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ad(e);var r=Ed.test(e);return r||Cd.test(e)?wd(e.slice(2),r?2:8):Sd.test(e)?Hn:+e}var Rd=xd,Id=Rd,qn=1/0,Od=17976931348623157e292;function Ld(e){if(!e)return e===0?e:0;if(e=Id(e),e===qn||e===-qn){var t=e<0?-1:1;return t*Od}return e===e?e:0}var Pd=Ld,Md=Pd;function Dd(e){var t=Md(e),r=t%1;return t===t?r?t-r:t:0}var Yn=Dd,Bd=hn,Fd=bl,Nd=Zu,Wd=Wn,jd=ad,kd=Pt,Gd=dd,Kd=Cn,Ud=On,Vn=Yn,zd="Expected a function",Xn=1,Hd=2,Wt=8,jt=16,kt=32,Qn=64,Zn=Math.max;function qd(e,t,r,n,a,o,i,s){var c=t&Hd;if(!c&&typeof e!="function")throw new TypeError(zd);var d=n?n.length:0;if(d||(t&=~(kt|Qn),n=a=void 0),i=i===void 0?i:Zn(Vn(i),0),s=s===void 0?s:Vn(s),d-=a?a.length:0,t&Qn){var f=n,g=a;n=a=void 0}var y=c?void 0:kd(e),m=[e,t,r,n,a,f,g,o,i,s];if(y&&Gd(m,y),e=m[0],t=m[1],r=m[2],n=m[3],a=m[4],s=m[9]=m[9]===void 0?c?0:e.length:Zn(m[9]-d,0),!s&&t&(Wt|jt)&&(t&=~(Wt|jt)),!t||t==Xn)var T=Fd(e,t,r);else t==Wt||t==jt?T=Nd(e,t,s):(t==kt||t==(Xn|kt))&&!a.length?T=jd(e,t,r,n):T=Wd.apply(void 0,m);var $=y?Bd:Kd;return Ud($(T,m),e,t)}var Gt=qd,Yd=Gt,Vd=128;function Xd(e,t,r){return t=r?void 0:t,t=e&&t==null?e.length:t,Yd(e,Vd,void 0,void 0,void 0,void 0,t)}var Qd=Xd,Jn=wn;function Zd(e,t,r){t=="__proto__"&&Jn?Jn(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ea=Zd;function Jd(e,t){return e===t||e!==e&&t!==t}var Kt=Jd,ef=ea,tf=Kt,rf=Object.prototype,nf=rf.hasOwnProperty;function af(e,t,r){var n=e[t];(!(nf.call(e,t)&&tf(n,r))||r===void 0&&!(t in e))&&ef(e,t,r)}var Ut=af,of=Ut,sf=ea;function lf(e,t,r,n){var a=!r;r||(r={});for(var o=-1,i=t.length;++o<i;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;c===void 0&&(c=e[s]),a?sf(r,s,c):of(r,s,c)}return r}var Pe=lf;function cf(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var uf=cf,df=fe,ff=J,gf="[object Arguments]";function pf(e){return ff(e)&&df(e)==gf}var hf=pf,ta=hf,yf=J,ra=Object.prototype,mf=ra.hasOwnProperty,vf=ra.propertyIsEnumerable,_f=ta(function(){return arguments}())?ta:function(e){return yf(e)&&mf.call(e,"callee")&&!vf.call(e,"callee")},Ve=_f,_e={exports:{}};function bf(){return!1}var $f=bf;(function(e,t){var r=q,n=$f,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,c=s?s.isBuffer:void 0,d=c||n;e.exports=d})(_e,_e.exports);var Af=9007199254740991;function Tf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Af}var zt=Tf,Sf=fe,Ef=zt,Cf=J,wf="[object Arguments]",xf="[object Array]",Rf="[object Boolean]",If="[object Date]",Of="[object Error]",Lf="[object Function]",Pf="[object Map]",Mf="[object Number]",Df="[object Object]",Bf="[object RegExp]",Ff="[object Set]",Nf="[object String]",Wf="[object WeakMap]",jf="[object ArrayBuffer]",kf="[object DataView]",Gf="[object Float32Array]",Kf="[object Float64Array]",Uf="[object Int8Array]",zf="[object Int16Array]",Hf="[object Int32Array]",qf="[object Uint8Array]",Yf="[object Uint8ClampedArray]",Vf="[object Uint16Array]",Xf="[object Uint32Array]",D={};D[Gf]=D[Kf]=D[Uf]=D[zf]=D[Hf]=D[qf]=D[Yf]=D[Vf]=D[Xf]=!0,D[wf]=D[xf]=D[jf]=D[Rf]=D[kf]=D[If]=D[Of]=D[Lf]=D[Pf]=D[Mf]=D[Df]=D[Bf]=D[Ff]=D[Nf]=D[Wf]=!1;function Qf(e){return Cf(e)&&Ef(e.length)&&!!D[Sf(e)]}var Zf=Qf;function Jf(e){return function(t){return e(t)}}var Ht=Jf,Me={exports:{}};(function(e,t){var r=nn,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Me,Me.exports);var eg=Zf,tg=Ht,na=Me.exports,aa=na&&na.isTypedArray,rg=aa?tg(aa):eg,qt=rg,ng=uf,ag=Ve,og=U,ig=_e.exports,sg=Ye,lg=qt,cg=Object.prototype,ug=cg.hasOwnProperty;function dg(e,t){var r=og(e),n=!r&&ag(e),a=!r&&!n&&ig(e),o=!r&&!n&&!a&&lg(e),i=r||n||a||o,s=i?ng(e.length,String):[],c=s.length;for(var d in e)(t||ug.call(e,d))&&!(i&&(d=="length"||a&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||sg(d,c)))&&s.push(d);return s}var oa=dg,fg=Object.prototype;function gg(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||fg;return e===r}var Xe=gg;function pg(e,t){return function(r){return e(t(r))}}var ia=pg,hg=ia,yg=hg(Object.keys,Object),mg=yg,vg=Xe,_g=mg,bg=Object.prototype,$g=bg.hasOwnProperty;function Ag(e){if(!vg(e))return _g(e);var t=[];for(var r in Object(e))$g.call(e,r)&&r!="constructor"&&t.push(r);return t}var Yt=Ag,Tg=xt,Sg=zt;function Eg(e){return e!=null&&Sg(e.length)&&!Tg(e)}var Qe=Eg,Cg=oa,wg=Yt,xg=Qe;function Rg(e){return xg(e)?Cg(e):wg(e)}var De=Rg,Ig=Pe,Og=De;function Lg(e,t){return e&&Ig(t,Og(t),e)}var sa=Lg;function Pg(){this.__data__=[],this.size=0}var Mg=Pg,Dg=Kt;function Bg(e,t){for(var r=e.length;r--;)if(Dg(e[r][0],t))return r;return-1}var Ze=Bg,Fg=Ze,Ng=Array.prototype,Wg=Ng.splice;function jg(e){var t=this.__data__,r=Fg(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Wg.call(t,r,1),--this.size,!0}var kg=jg,Gg=Ze;function Kg(e){var t=this.__data__,r=Gg(t,e);return r<0?void 0:t[r][1]}var Ug=Kg,zg=Ze;function Hg(e){return zg(this.__data__,e)>-1}var qg=Hg,Yg=Ze;function Vg(e,t){var r=this.__data__,n=Yg(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Xg=Vg,Qg=Mg,Zg=kg,Jg=Ug,ep=qg,tp=Xg;function be(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}be.prototype.clear=Qg,be.prototype.delete=Zg,be.prototype.get=Jg,be.prototype.has=ep,be.prototype.set=tp;var Je=be,rp=Je;function np(){this.__data__=new rp,this.size=0}var ap=np;function op(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ip=op;function sp(e){return this.__data__.get(e)}var lp=sp;function cp(e){return this.__data__.has(e)}var up=cp,dp=ge,fp=q,gp=dp(fp,"Map"),Vt=gp,pp=ge,hp=pp(Object,"create"),et=hp,la=et;function yp(){this.__data__=la?la(null):{},this.size=0}var mp=yp;function vp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _p=vp,bp=et,$p="__lodash_hash_undefined__",Ap=Object.prototype,Tp=Ap.hasOwnProperty;function Sp(e){var t=this.__data__;if(bp){var r=t[e];return r===$p?void 0:r}return Tp.call(t,e)?t[e]:void 0}var Ep=Sp,Cp=et,wp=Object.prototype,xp=wp.hasOwnProperty;function Rp(e){var t=this.__data__;return Cp?t[e]!==void 0:xp.call(t,e)}var Ip=Rp,Op=et,Lp="__lodash_hash_undefined__";function Pp(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Op&&t===void 0?Lp:t,this}var Mp=Pp,Dp=mp,Bp=_p,Fp=Ep,Np=Ip,Wp=Mp;function $e(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$e.prototype.clear=Dp,$e.prototype.delete=Bp,$e.prototype.get=Fp,$e.prototype.has=Np,$e.prototype.set=Wp;var jp=$e,ca=jp,kp=Je,Gp=Vt;function Kp(){this.size=0,this.__data__={hash:new ca,map:new(Gp||kp),string:new ca}}var Up=Kp;function zp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Hp=zp,qp=Hp;function Yp(e,t){var r=e.__data__;return qp(t)?r[typeof t=="string"?"string":"hash"]:r.map}var tt=Yp,Vp=tt;function Xp(e){var t=Vp(this,e).delete(e);return this.size-=t?1:0,t}var Qp=Xp,Zp=tt;function Jp(e){return Zp(this,e).get(e)}var eh=Jp,th=tt;function rh(e){return th(this,e).has(e)}var nh=rh,ah=tt;function oh(e,t){var r=ah(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ih=oh,sh=Up,lh=Qp,ch=eh,uh=nh,dh=ih;function Ae(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ae.prototype.clear=sh,Ae.prototype.delete=lh,Ae.prototype.get=ch,Ae.prototype.has=uh,Ae.prototype.set=dh;var Xt=Ae,fh=Je,gh=Vt,ph=Xt,hh=200;function yh(e,t){var r=this.__data__;if(r instanceof fh){var n=r.__data__;if(!gh||n.length<hh-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ph(n)}return r.set(e,t),this.size=r.size,this}var mh=yh,vh=Je,_h=ap,bh=ip,$h=lp,Ah=up,Th=mh;function Te(e){var t=this.__data__=new vh(e);this.size=t.size}Te.prototype.clear=_h,Te.prototype.delete=bh,Te.prototype.get=$h,Te.prototype.has=Ah,Te.prototype.set=Th;var Qt=Te;function Sh(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Eh=Sh,Ch=se,wh=Xe,xh=Eh,Rh=Object.prototype,Ih=Rh.hasOwnProperty;function Oh(e){if(!Ch(e))return xh(e);var t=wh(e),r=[];for(var n in e)n=="constructor"&&(t||!Ih.call(e,n))||r.push(n);return r}var Lh=Oh,Ph=oa,Mh=Lh,Dh=Qe;function Bh(e){return Dh(e)?Ph(e,!0):Mh(e)}var Zt=Bh,Fh=Pe,Nh=Zt;function Wh(e,t){return e&&Fh(t,Nh(t),e)}var jh=Wh,Jt={exports:{}};(function(e,t){var r=q,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var g=d.length,y=s?s(g):new d.constructor(g);return d.copy(y),y}e.exports=c})(Jt,Jt.exports);function kh(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var Gh=kh;function Kh(){return[]}var ua=Kh,Uh=Gh,zh=ua,Hh=Object.prototype,qh=Hh.propertyIsEnumerable,da=Object.getOwnPropertySymbols,Yh=da?function(e){return e==null?[]:(e=Object(e),Uh(da(e),function(t){return qh.call(e,t)}))}:zh,er=Yh,Vh=Pe,Xh=er;function Qh(e,t){return Vh(e,Xh(e),t)}var Zh=Qh;function Jh(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var tr=Jh,ey=ia,ty=ey(Object.getPrototypeOf,Object),rr=ty,ry=tr,ny=rr,ay=er,oy=ua,iy=Object.getOwnPropertySymbols,sy=iy?function(e){for(var t=[];e;)ry(t,ay(e)),e=ny(e);return t}:oy,fa=sy,ly=Pe,cy=fa;function uy(e,t){return ly(e,cy(e),t)}var dy=uy,fy=tr,gy=U;function py(e,t,r){var n=t(e);return gy(e)?n:fy(n,r(e))}var ga=py,hy=ga,yy=er,my=De;function vy(e){return hy(e,my,yy)}var pa=vy,_y=ga,by=fa,$y=Zt;function Ay(e){return _y(e,$y,by)}var nr=Ay,Ty=ge,Sy=q,Ey=Ty(Sy,"DataView"),Cy=Ey,wy=ge,xy=q,Ry=wy(xy,"Promise"),Iy=Ry,Oy=ge,Ly=q,Py=Oy(Ly,"Set"),ha=Py,ar=Cy,or=Vt,ir=Iy,sr=ha,lr=dn,ya=fe,Se=un,ma="[object Map]",My="[object Object]",va="[object Promise]",_a="[object Set]",ba="[object WeakMap]",$a="[object DataView]",Dy=Se(ar),By=Se(or),Fy=Se(ir),Ny=Se(sr),Wy=Se(lr),pe=ya;(ar&&pe(new ar(new ArrayBuffer(1)))!=$a||or&&pe(new or)!=ma||ir&&pe(ir.resolve())!=va||sr&&pe(new sr)!=_a||lr&&pe(new lr)!=ba)&&(pe=function(e){var t=ya(e),r=t==My?e.constructor:void 0,n=r?Se(r):"";if(n)switch(n){case Dy:return $a;case By:return ma;case Fy:return va;case Ny:return _a;case Wy:return ba}return t});var Ee=pe,jy=Object.prototype,ky=jy.hasOwnProperty;function Gy(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&ky.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ky=Gy,Uy=q,zy=Uy.Uint8Array,Aa=zy,Ta=Aa;function Hy(e){var t=new e.constructor(e.byteLength);return new Ta(t).set(new Ta(e)),t}var cr=Hy,qy=cr;function Yy(e,t){var r=t?qy(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Vy=Yy,Xy=/\w*$/;function Qy(e){var t=new e.constructor(e.source,Xy.exec(e));return t.lastIndex=e.lastIndex,t}var Zy=Qy,Sa=ve,Ea=Sa?Sa.prototype:void 0,Ca=Ea?Ea.valueOf:void 0;function Jy(e){return Ca?Object(Ca.call(e)):{}}var em=Jy,tm=cr;function rm(e,t){var r=t?tm(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var nm=rm,am=cr,om=Vy,im=Zy,sm=em,lm=nm,cm="[object Boolean]",um="[object Date]",dm="[object Map]",fm="[object Number]",gm="[object RegExp]",pm="[object Set]",hm="[object String]",ym="[object Symbol]",mm="[object ArrayBuffer]",vm="[object DataView]",_m="[object Float32Array]",bm="[object Float64Array]",$m="[object Int8Array]",Am="[object Int16Array]",Tm="[object Int32Array]",Sm="[object Uint8Array]",Em="[object Uint8ClampedArray]",Cm="[object Uint16Array]",wm="[object Uint32Array]";function xm(e,t,r){var n=e.constructor;switch(t){case mm:return am(e);case cm:case um:return new n(+e);case vm:return om(e,r);case _m:case bm:case $m:case Am:case Tm:case Sm:case Em:case Cm:case wm:return lm(e,r);case dm:return new n;case fm:case hm:return new n(e);case gm:return im(e);case pm:return new n;case ym:return sm(e)}}var Rm=xm,Im=Ge,Om=rr,Lm=Xe;function Pm(e){return typeof e.constructor=="function"&&!Lm(e)?Im(Om(e)):{}}var Mm=Pm,Dm=Ee,Bm=J,Fm="[object Map]";function Nm(e){return Bm(e)&&Dm(e)==Fm}var Wm=Nm,jm=Wm,km=Ht,wa=Me.exports,xa=wa&&wa.isMap,Gm=xa?km(xa):jm,Km=Gm,Um=Ee,zm=J,Hm="[object Set]";function qm(e){return zm(e)&&Um(e)==Hm}var Ym=qm,Vm=Ym,Xm=Ht,Ra=Me.exports,Ia=Ra&&Ra.isSet,Qm=Ia?Xm(Ia):Vm,Zm=Qm,Jm=Qt,ev=Dt,tv=Ut,rv=sa,nv=jh,av=Jt.exports,ov=He,iv=Zh,sv=dy,lv=pa,cv=nr,uv=Ee,dv=Ky,fv=Rm,gv=Mm,pv=U,hv=_e.exports,yv=Km,mv=se,vv=Zm,_v=De,bv=Zt,$v=1,Av=2,Tv=4,Oa="[object Arguments]",Sv="[object Array]",Ev="[object Boolean]",Cv="[object Date]",wv="[object Error]",La="[object Function]",xv="[object GeneratorFunction]",Rv="[object Map]",Iv="[object Number]",Pa="[object Object]",Ov="[object RegExp]",Lv="[object Set]",Pv="[object String]",Mv="[object Symbol]",Dv="[object WeakMap]",Bv="[object ArrayBuffer]",Fv="[object DataView]",Nv="[object Float32Array]",Wv="[object Float64Array]",jv="[object Int8Array]",kv="[object Int16Array]",Gv="[object Int32Array]",Kv="[object Uint8Array]",Uv="[object Uint8ClampedArray]",zv="[object Uint16Array]",Hv="[object Uint32Array]",L={};L[Oa]=L[Sv]=L[Bv]=L[Fv]=L[Ev]=L[Cv]=L[Nv]=L[Wv]=L[jv]=L[kv]=L[Gv]=L[Rv]=L[Iv]=L[Pa]=L[Ov]=L[Lv]=L[Pv]=L[Mv]=L[Kv]=L[Uv]=L[zv]=L[Hv]=!0,L[wv]=L[La]=L[Dv]=!1;function rt(e,t,r,n,a,o){var i,s=t&$v,c=t&Av,d=t&Tv;if(r&&(i=a?r(e,n,a,o):r(e)),i!==void 0)return i;if(!mv(e))return e;var f=pv(e);if(f){if(i=dv(e),!s)return ov(e,i)}else{var g=uv(e),y=g==La||g==xv;if(hv(e))return av(e,s);if(g==Pa||g==Oa||y&&!a){if(i=c||y?{}:gv(e),!s)return c?sv(e,nv(i,e)):iv(e,rv(i,e))}else{if(!L[g])return a?e:{};i=fv(e,g,s)}}o||(o=new Jm);var m=o.get(e);if(m)return m;o.set(e,i),vv(e)?e.forEach(function(A){i.add(rt(A,t,r,A,e,o))}):yv(e)&&e.forEach(function(A,E){i.set(E,rt(A,t,r,E,e,o))});var T=d?c?cv:lv:c?bv:_v,$=f?void 0:T(e);return ev($||e,function(A,E){$&&(E=A,A=e[E]),tv(i,E,rt(A,t,r,E,e,o))}),i}var ur=rt,qv=ur,Yv=4;function Vv(e){return qv(e,Yv)}var Xv=Vv,Qv=Gt,Zv=8;function dr(e,t,r){t=r?void 0:t;var n=Qv(e,Zv,void 0,void 0,void 0,void 0,void 0,t);return n.placeholder=dr.placeholder,n}dr.placeholder={};var Jv=dr,e_=fe,t_=rr,r_=J,n_="[object Object]",a_=Function.prototype,o_=Object.prototype,Ma=a_.toString,i_=o_.hasOwnProperty,s_=Ma.call(Object);function l_(e){if(!r_(e)||e_(e)!=n_)return!1;var t=t_(e);if(t===null)return!0;var r=i_.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Ma.call(r)==s_}var Da=l_,c_=fe,u_=J,d_=Da,f_="[object DOMException]",g_="[object Error]";function p_(e){if(!u_(e))return!1;var t=c_(e);return t==g_||t==f_||typeof e.message=="string"&&typeof e.name=="string"&&!d_(e)}var h_=p_,y_=Ee,m_=J,v_="[object WeakMap]";function __(e){return m_(e)&&y_(e)==v_}var b_=__,$_="__lodash_hash_undefined__";function A_(e){return this.__data__.set(e,$_),this}var T_=A_;function S_(e){return this.__data__.has(e)}var E_=S_,C_=Xt,w_=T_,x_=E_;function nt(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new C_;++t<r;)this.add(e[t])}nt.prototype.add=nt.prototype.push=w_,nt.prototype.has=x_;var Ba=nt;function R_(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var I_=R_;function O_(e,t){return e.has(t)}var Fa=O_,L_=Ba,P_=I_,M_=Fa,D_=1,B_=2;function F_(e,t,r,n,a,o){var i=r&D_,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var g=-1,y=!0,m=r&B_?new L_:void 0;for(o.set(e,t),o.set(t,e);++g<s;){var T=e[g],$=t[g];if(n)var A=i?n($,T,g,t,e,o):n(T,$,g,e,t,o);if(A!==void 0){if(A)continue;y=!1;break}if(m){if(!P_(t,function(E,w){if(!M_(m,w)&&(T===E||a(T,E,r,n,o)))return m.push(w)})){y=!1;break}}else if(!(T===$||a(T,$,r,n,o))){y=!1;break}}return o.delete(e),o.delete(t),y}var Na=F_;function N_(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var W_=N_;function j_(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var fr=j_,Wa=ve,ja=Aa,k_=Kt,G_=Na,K_=W_,U_=fr,z_=1,H_=2,q_="[object Boolean]",Y_="[object Date]",V_="[object Error]",X_="[object Map]",Q_="[object Number]",Z_="[object RegExp]",J_="[object Set]",eb="[object String]",tb="[object Symbol]",rb="[object ArrayBuffer]",nb="[object DataView]",ka=Wa?Wa.prototype:void 0,gr=ka?ka.valueOf:void 0;function ab(e,t,r,n,a,o,i){switch(r){case nb:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rb:return!(e.byteLength!=t.byteLength||!o(new ja(e),new ja(t)));case q_:case Y_:case Q_:return k_(+e,+t);case V_:return e.name==t.name&&e.message==t.message;case Z_:case eb:return e==t+"";case X_:var s=K_;case J_:var c=n&z_;if(s||(s=U_),e.size!=t.size&&!c)return!1;var d=i.get(e);if(d)return d==t;n|=H_,i.set(e,t);var f=G_(s(e),s(t),n,a,o,i);return i.delete(e),f;case tb:if(gr)return gr.call(e)==gr.call(t)}return!1}var ob=ab,Ga=pa,ib=1,sb=Object.prototype,lb=sb.hasOwnProperty;function cb(e,t,r,n,a,o){var i=r&ib,s=Ga(e),c=s.length,d=Ga(t),f=d.length;if(c!=f&&!i)return!1;for(var g=c;g--;){var y=s[g];if(!(i?y in t:lb.call(t,y)))return!1}var m=o.get(e),T=o.get(t);if(m&&T)return m==t&&T==e;var $=!0;o.set(e,t),o.set(t,e);for(var A=i;++g<c;){y=s[g];var E=e[y],w=t[y];if(n)var P=i?n(w,E,y,t,e,o):n(E,w,y,e,t,o);if(!(P===void 0?E===w||a(E,w,r,n,o):P)){$=!1;break}A||(A=y=="constructor")}if($&&!A){var O=e.constructor,W=t.constructor;O!=W&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof W=="function"&&W instanceof W)&&($=!1)}return o.delete(e),o.delete(t),$}var ub=cb,pr=Qt,db=Na,fb=ob,gb=ub,Ka=Ee,Ua=U,za=_e.exports,pb=qt,hb=1,Ha="[object Arguments]",qa="[object Array]",at="[object Object]",yb=Object.prototype,Ya=yb.hasOwnProperty;function mb(e,t,r,n,a,o){var i=Ua(e),s=Ua(t),c=i?qa:Ka(e),d=s?qa:Ka(t);c=c==Ha?at:c,d=d==Ha?at:d;var f=c==at,g=d==at,y=c==d;if(y&&za(e)){if(!za(t))return!1;i=!0,f=!1}if(y&&!f)return o||(o=new pr),i||pb(e)?db(e,t,r,n,a,o):fb(e,t,c,r,n,a,o);if(!(r&hb)){var m=f&&Ya.call(e,"__wrapped__"),T=g&&Ya.call(t,"__wrapped__");if(m||T){var $=m?e.value():e,A=T?t.value():t;return o||(o=new pr),a($,A,r,n,o)}}return y?(o||(o=new pr),gb(e,t,r,n,a,o)):!1}var vb=mb,_b=vb,Va=J;function Xa(e,t,r,n,a){return e===t?!0:e==null||t==null||!Va(e)&&!Va(t)?e!==e&&t!==t:_b(e,t,r,n,Xa,a)}var hr=Xa,bb=Qt,$b=hr,Ab=1,Tb=2;function Sb(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var c=s[0],d=e[c],f=s[1];if(i&&s[2]){if(d===void 0&&!(c in e))return!1}else{var g=new bb;if(n)var y=n(d,f,c,e,t,g);if(!(y===void 0?$b(f,d,Ab|Tb,n,g):y))return!1}}return!0}var Eb=Sb,Cb=se;function wb(e){return e===e&&!Cb(e)}var Qa=wb,xb=Qa,Rb=De;function Ib(e){for(var t=Rb(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,xb(a)]}return t}var Ob=Ib;function Lb(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Za=Lb,Pb=Eb,Mb=Ob,Db=Za;function Bb(e){var t=Mb(e);return t.length==1&&t[0][2]?Db(t[0][0],t[0][1]):function(r){return r===e||Pb(r,e,t)}}var Fb=Bb,Nb=U,Wb=Le,jb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kb=/^\w*$/;function Gb(e,t){if(Nb(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Wb(e)?!0:kb.test(e)||!jb.test(e)||t!=null&&e in Object(t)}var yr=Gb,Ja=Xt,Kb="Expected a function";function mr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Kb);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(mr.Cache||Ja),r}mr.Cache=Ja;var eo=mr,Ub=eo,zb=500;function Hb(e){var t=Ub(e,function(n){return r.size===zb&&r.clear(),n}),r=t.cache;return t}var qb=Hb,Yb=qb,Vb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xb=/\\(\\)?/g,Qb=Yb(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Vb,function(r,n,a,o){t.push(a?o.replace(Xb,"$1"):n||r)}),t}),to=Qb;function Zb(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var ot=Zb,ro=ve,Jb=ot,e$=U,t$=Le,r$=1/0,no=ro?ro.prototype:void 0,ao=no?no.toString:void 0;function oo(e){if(typeof e=="string")return e;if(e$(e))return Jb(e,oo)+"";if(t$(e))return ao?ao.call(e):"";var t=e+"";return t=="0"&&1/e==-r$?"-0":t}var io=oo,n$=io;function a$(e){return e==null?"":n$(e)}var vr=a$,o$=U,i$=yr,s$=to,l$=vr;function c$(e,t){return o$(e)?e:i$(e,t)?[e]:s$(l$(e))}var Ce=c$,u$=Le,d$=1/0;function f$(e){if(typeof e=="string"||u$(e))return e;var t=e+"";return t=="0"&&1/e==-d$?"-0":t}var he=f$,g$=Ce,p$=he;function h$(e,t){t=g$(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[p$(t[r++])];return r&&r==n?e:void 0}var it=h$,y$=it;function m$(e,t,r){var n=e==null?void 0:y$(e,t);return n===void 0?r:n}var so=m$;function v$(e,t){return e!=null&&t in Object(e)}var _$=v$,b$=Ce,$$=Ve,A$=U,T$=Ye,S$=zt,E$=he;function C$(e,t,r){t=b$(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=E$(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&S$(a)&&T$(i,a)&&(A$(e)||$$(e)))}var w$=C$,x$=_$,R$=w$;function I$(e,t){return e!=null&&R$(e,t,x$)}var O$=I$,L$=hr,P$=so,M$=O$,D$=yr,B$=Qa,F$=Za,N$=he,W$=1,j$=2;function k$(e,t){return D$(e)&&B$(t)?F$(N$(e),t):function(r){var n=P$(r,e);return n===void 0&&n===t?M$(r,e):L$(t,n,W$|j$)}}var G$=k$;function K$(e){return function(t){return t==null?void 0:t[e]}}var U$=K$,z$=it;function H$(e){return function(t){return z$(t,e)}}var q$=H$,Y$=U$,V$=q$,X$=yr,Q$=he;function Z$(e){return X$(e)?Y$(Q$(e)):V$(e)}var J$=Z$,e1=Fb,t1=G$,r1=wt,n1=U,a1=J$;function o1(e){return typeof e=="function"?e:e==null?r1:typeof e=="object"?n1(e)?t1(e[0],e[1]):e1(e):a1(e)}var st=o1,i1=ur,s1=st,l1=1;function c1(e){return s1(typeof e=="function"?e:i1(e,l1))}var u1=c1,lo=ve,d1=Ve,f1=U,co=lo?lo.isConcatSpreadable:void 0;function g1(e){return f1(e)||d1(e)||!!(co&&e&&e[co])}var p1=g1,h1=tr,y1=p1;function uo(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=y1),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?uo(s,t-1,r,n,a):h1(a,s):n||(a[a.length]=s)}return a}var m1=uo,v1=m1;function _1(e){var t=e==null?0:e.length;return t?v1(e,1):[]}var b1=_1,$1=It,fo=Math.max;function A1(e,t,r){return t=fo(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=fo(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),$1(e,this,s)}}var T1=A1,S1=b1,E1=T1,C1=Rn;function w1(e){return C1(E1(e,void 0,S1),e+"")}var _r=w1,x1=Gt,R1=_r,I1=256,O1=R1(function(e,t){return x1(e,I1,void 0,void 0,void 0,t)}),L1=O1,P1=ot,M1=He,D1=U,B1=Le,F1=to,N1=he,W1=vr;function j1(e){return D1(e)?P1(e,N1):B1(e)?[e]:M1(F1(W1(e)))}var k1=j1,G1={ary:Qd,assign:sa,clone:Xv,curry:Jv,forEach:Dt,isArray:U,isError:h_,isFunction:xt,isWeakMap:b_,iteratee:u1,keys:Yt,rearg:L1,toInteger:Yn,toPath:k1},K1=as,U1=G1;function z1(e,t,r){return K1(U1,e,t,r)}var ne=z1,go=Mt,H1=_r,q1=Pt,br=An,Y1=U,po=Sn,V1="Expected a function",X1=8,Q1=32,Z1=128,J1=256;function eA(e){return H1(function(t){var r=t.length,n=r,a=go.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if(typeof o!="function")throw new TypeError(V1);if(a&&!i&&br(o)=="wrapper")var i=new go([],!0)}for(n=i?n:r;++n<r;){o=t[n];var s=br(o),c=s=="wrapper"?q1(o):void 0;c&&po(c[0])&&c[1]==(Z1|X1|Q1|J1)&&!c[4].length&&c[9]==1?i=i[br(c[0])].apply(i,c[3]):i=o.length==1&&po(o)?i[s]():i.thru(o)}return function(){var d=arguments,f=d[0];if(i&&d.length==1&&Y1(f))return i.plant(f).value();for(var g=0,y=r?t[g].apply(this,d):f;++g<r;)y=t[g].call(this,y);return y}})}var tA=eA,rA=tA,nA=rA(),aA=nA,oA=ne,ho=oA("flow",aA);ho.placeholder=Z;var ye=ho,iA=ne,yo=iA("get",so);yo.placeholder=Z;var me=yo,sA=Yt,lA=Ee,cA=Ve,uA=U,dA=Qe,fA=_e.exports,gA=Xe,pA=qt,hA="[object Map]",yA="[object Set]",mA=Object.prototype,vA=mA.hasOwnProperty;function _A(e){if(e==null)return!0;if(dA(e)&&(uA(e)||typeof e=="string"||typeof e.splice=="function"||fA(e)||pA(e)||cA(e)))return!e.length;var t=lA(e);if(t==hA||t==yA)return!e.size;if(gA(e))return!sA(e).length;for(var r in e)if(vA.call(e,r))return!1;return!0}var bA=_A,mo={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1},$A=ne,vo=$A("isEmpty",bA,mo);vo.placeholder=Z;var le=vo;function AA(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var TA=AA;function SA(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var _o=SA,EA=it,CA=_o;function wA(e,t){return t.length<2?e:EA(e,CA(t,0,-1))}var xA=wA,RA=Ce,IA=TA,OA=xA,LA=he;function PA(e,t){return t=RA(t,e),e=OA(e,t),e==null||delete e[LA(IA(t))]}var MA=PA,DA=Da;function BA(e){return DA(e)?void 0:e}var FA=BA,NA=ot,WA=ur,jA=MA,kA=Ce,GA=Pe,KA=FA,UA=_r,zA=nr,HA=1,qA=2,YA=4,VA=UA(function(e,t){var r={};if(e==null)return r;var n=!1;t=NA(t,function(o){return o=kA(o,e),n||(n=o.length>1),o}),GA(e,zA(e),r),n&&(r=WA(r,HA|qA|YA,KA));for(var a=t.length;a--;)jA(r,t[a]);return r}),XA=VA,QA=ne,bo=QA("omit",XA);bo.placeholder=Z;var ZA=bo;function JA(e,t,r,n){var a=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}var eT=JA;function tT(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(r(o[c],c,o)===!1)break}return t}}var rT=tT,nT=rT,aT=nT(),oT=aT,iT=oT,sT=De;function lT(e,t){return e&&iT(e,t,sT)}var cT=lT,uT=Qe;function dT(e,t){return function(r,n){if(r==null)return r;if(!uT(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var fT=dT,gT=cT,pT=fT,hT=pT(gT),yT=hT;function mT(e,t,r,n,a){return a(e,function(o,i,s){r=n?(n=!1,o):t(r,o,i,s)}),r}var vT=mT,_T=eT,bT=yT,$T=st,AT=vT,TT=U;function ST(e,t,r){var n=TT(e)?_T:AT,a=arguments.length<3;return n(e,$T(t),r,a,bT)}var ET=ST,CT=ne,$o=CT("reduce",ET);$o.placeholder=Z;var wT=$o,xT=_o;function RT(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:xT(e,t,r)}var IT=RT,OT=Bt;function LT(e,t){for(var r=e.length;r--&&OT(t,e[r],0)>-1;);return r}var PT=LT,MT=Bt;function DT(e,t){for(var r=-1,n=e.length;++r<n&&MT(t,e[r],0)>-1;);return r}var BT=DT;function FT(e){return e.split("")}var NT=FT,WT="\\ud800-\\udfff",jT="\\u0300-\\u036f",kT="\\ufe20-\\ufe2f",GT="\\u20d0-\\u20ff",KT=jT+kT+GT,UT="\\ufe0e\\ufe0f",zT="\\u200d",HT=RegExp("["+zT+WT+KT+UT+"]");function qT(e){return HT.test(e)}var YT=qT,Ao="\\ud800-\\udfff",VT="\\u0300-\\u036f",XT="\\ufe20-\\ufe2f",QT="\\u20d0-\\u20ff",ZT=VT+XT+QT,JT="\\ufe0e\\ufe0f",eS="["+Ao+"]",$r="["+ZT+"]",Ar="\\ud83c[\\udffb-\\udfff]",tS="(?:"+$r+"|"+Ar+")",To="[^"+Ao+"]",So="(?:\\ud83c[\\udde6-\\uddff]){2}",Eo="[\\ud800-\\udbff][\\udc00-\\udfff]",rS="\\u200d",Co=tS+"?",wo="["+JT+"]?",nS="(?:"+rS+"(?:"+[To,So,Eo].join("|")+")"+wo+Co+")*",aS=wo+Co+nS,oS="(?:"+[To+$r+"?",$r,So,Eo,eS].join("|")+")",iS=RegExp(Ar+"(?="+Ar+")|"+oS+aS,"g");function sS(e){return e.match(iS)||[]}var lS=sS,cS=NT,uS=YT,dS=lS;function fS(e){return uS(e)?dS(e):cS(e)}var gS=fS,pS=io,hS=Un,yS=IT,mS=PT,vS=BT,xo=gS,_S=vr;function bS(e,t,r){if(e=_S(e),e&&(r||t===void 0))return hS(e);if(!e||!(t=pS(t)))return e;var n=xo(e),a=xo(t),o=vS(n,a),i=mS(n,a)+1;return yS(n,o,i).join("")}var $S=bS,AS=ne,Ro=AS("trim",$S);Ro.placeholder=Z;var Io=Ro;const Oo=N.default(l.Button)`
  &.Editor__toolbar__button--large {
    width: ${l.pxToRem(80)};
  }

  &:not(:last-of-type) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }
  &:not(:first-of-type) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[aria-checked="true"] {
    z-index: 2;
    position: relative;
  }
`,TS={format_bold:l.BoldIcon,format_italic:l.ItalicIcon,format_list_bulleted:l.ListIcon,["k-u-align-left"]:l.AlignLeftIcon,["k-u-align-center"]:l.AlignCenterIcon,["k-u-align-right"]:l.AlignRightIcon,image:l.ImageIcon,video:l.VideoIcon,link:l.LinkIcon,button_link:l.EditorButtonIcon,quote:l.BlockquoteIcon},ee=({tag:e,onToggle:t,style:r,active:n,icon:a,disabled:o})=>{const[{focus:i,translations:s}]=_.useContext(M),c=TS[a],d=s==null?void 0:s.controls[n?`activated_${a}`:a];return u(Oo,{disabled:o,active:n&&i,"aria-checked":n&&i,onMouseDown:g=>{g.preventDefault(),!o&&t(r)},title:d,"aria-label":d,fit:"icon",tag:e,type:e==="button"?e:null,children:u(c,{})})};ee.propTypes={disabled:h.default.bool,active:h.default.bool,onToggle:h.default.func,tag:h.default.string},ee.defaultProps={disabled:!1,active:!1,onToggle:()=>null,tag:"button"};const ae=({htmlFor:e,size:t,label:r,children:n,tooltip:a})=>{var i;const[{translations:o}]=_.useContext(M);return u(l.Field.Label,{labelProps:{htmlFor:e,size:t},tooltipId:`tooltip-${e}`,tooltip:a,tooltipProps:{actionLabel:(i=o==null?void 0:o.form)==null?void 0:i.tooltip_action_label},children:r||n})};ae.propTypes={htmlFor:h.default.string.isRequired,size:h.default.string,label:h.default.string,tooltip:h.default.string},ae.defaultProps={size:"micro"};const ce=w=>{var P=w,{name:e,form:t,placeholder:r,limit:n,unit:a,type:o,digits:i,disabled:s,rows:c,defaultValue:d,style:f,className:g,onFocus:y,onChange:m,onBlur:T,normalize:$,validate:A}=P,E=we(P,["name","form","placeholder","limit","unit","type","digits","disabled","rows","defaultValue","style","className","onFocus","onChange","onBlur","normalize","validate"]);const[O,W,{setValue:G}]=Y.useField({name:e,validate:A});return _.useEffect(()=>{!d||O.value||G(d)},[]),I(V,{children:[u("div",{style:f,className:g,children:u(l.Field.Input,j(vt(j({},O),{id:e,error:W.error&&W.touched,onFocus:y,onChange:B=>{O.onChange(B),$&&G($(B.target.value)),m(B)},onBlur:B=>{O.onBlur(B),$&&G($(B.target.value)),T(B)},"data-test-id":e,placeholder:r,limit:n,unit:a,type:o,tag:o,rows:c,digits:i,disabled:s}),E))}),u(Y.ErrorMessage,{name:e,children:B=>u(l.Field.ErrorMessage,{children:B})})]})};ce.defaultProps={type:"input",disabled:!1,validate:()=>{},onFocus:()=>{},onBlur:()=>{},onChange:()=>{}},ce.propTypes={name:h.default.string.isRequired,placeholder:h.default.string,defaultValue:h.default.string,rows:h.default.oneOfType([h.default.string,h.default.number]),limit:h.default.oneOfType([h.default.string,h.default.number]),unit:h.default.string,type:h.default.string,digits:h.default.oneOfType([h.default.string,h.default.number]),disabled:h.default.bool,validate:h.default.func,onFocus:h.default.func,onBlur:h.default.func,onChange:h.default.func,normalize:h.default.func};const lt=a=>{var o=a,{name:e,onClick:t,isDisabled:r}=o,n=we(o,["name","onClick","isDisabled"]);const[d,...f]=Y.useField(e),g=d,{value:i}=g,s=we(g,["value"]),[c]=f;return u(V,{children:u(l.TextInputWithButton,j(j({id:e,buttonProps:{onClick:t,disabled:r||c.error&&c.touched},error:c.error&&c.touched},s),n))})};lt.defaultProps={onClick:()=>{},isDisabled:!1},lt.propTypes={name:h.default.string.isRequired,onClick:h.default.func,isDisabled:h.default.bool};var Lo=r=>{var n=r,{className:e}=n,t=we(n,["className"]);const[{translations:a}]=_.useContext(M);return I(l.Button,vt(j({modifier:"helium",size:"large","aria-live":"polite",as:"div",className:re.default("k-u-cursor-not-allowed",e)},t),{children:[u(l.KissKissLoadingAnimation,{color:l.COLORS.background1}),u(l.VisuallyHidden,{children:a.button_loading})]}))};const Tr=bt.default();Tr.tlds($t.default);const Po=N.default.div`
  position: relative;
  margin: ${l.pxToRem(30)} 0;

  @media (min-width: ${l.pxToRem(l.ScreenConfig.S.min)}) {
    display: inline-block;
  }
`,SS=N.default(l.Button)`
  @media (max-width: ${l.pxToRem(l.ScreenConfig.XS.max)}) {
    min-width: initial;
    width: 100%;
  }
`,ES=N.default(l.ArrowContainer)`
  display: flex;
  position: absolute;
  min-width: max-content;
  padding: 0 ${l.pxToRem(20)};
  background-color: ${l.COLORS.background1};
  margin-top: ${l.pxToRem(5)};
  transition: opacity 0.1s ease-out, margin-top 0.1s ease-out;
`,CS=N.default(l.Text)`
  display: block;
  width: 100%;
  padding: 0;
  text-align: center;
`,wS=N.default.span`
  margin: ${l.pxToRem(5)} ${l.pxToRem(10)};
  border-left: var(--border-width, 1px) solid ${l.COLORS.font2};
`,xS=N.default(l.Text)`
  overflow: hidden;
  display: inline-block;
  max-width: ${l.pxToRem(150)};
  text-overflow: ellipsis;
  white-space: nowrap;
`,Mo=({href:e,children:t})=>u(SS,{tag:"a",href:e,target:"_blank",rel:"nofollow noopener",modifier:"helium",size:"large",children:t}),RS=({contentState:e,entityKey:t,children:r})=>{const[n,a]=_.useState(!1),{url:o}=e.getEntity(t).getData(),[{editorState:i,focus:s,translations:c},d]=_.useContext(M),f=ht(e,i,t);return _.useEffect(()=>{setTimeout(()=>a(f&&s),0)},[s,i]),I(Po,{"aria-live":"assertive",children:[u(Mo,{href:o,children:r}),n&&I(ES,{position:"top",shadow:!0,borderWidth:1,borderColor:l.COLORS.line1,contentEditable:!1,children:[u(CS,{href:"#",tag:"a",size:"micro",weight:"regular",color:"error",onClick:g=>{g.preventDefault(),e.getBlockForKey(i.getSelection().getFocusKey()).findEntityRanges(m=>m.getEntity()===t,(m,T)=>{const $=i.getSelection().merge({focusOffset:T,anchorOffset:m}),A=p.Modifier.applyEntity(e,$,null);d(F(p.EditorState.push(i,A,"apply-entity")))})},children:c.link.button.delete}),u(wS,{}),u(xS,{href:o,target:"_blank",rel:"noopener",tag:"a",size:"micro",weight:"regular",color:"font1",children:o})]})]})},Do=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="BUTTON_LINK"},t)},IS={strategy:Do,component:RS},OS={strategy:Do,component:e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return u(Po,{children:u(Mo,{href:t,children:e.children})})}},Sr=({disabled:e,onChange:t})=>{const[{editorState:r,editorRef:n,translations:a},o]=_.useContext(M),i=pt(r),s=Lr(r),c=()=>i?pi(r,s):gi(r);return u(l.ModalNext,{headerTitle:u(l.Title,{noMargin:!0,modifier:"quaternary",children:a.button_link.title}),trigger:u(ee,{icon:"button_link",className:"Editor__toolbar__button--large",disabled:e}),children:({close:d})=>u(Y.Formik,{enableReinitialize:!0,initialValues:{url:i?i.getData().url:"",text:c()},onSubmit:({url:f})=>{t(f);const g=Tr.match(f),y=r.getCurrentContent();if(i){const m=y.replaceEntityData(s,{url:g[0].url});o(F(p.EditorState.push(r,m,"change-block-data")))}else{const m=y.createEntity("BUTTON_LINK","MUTABLE",{url:g[0].url}),T=m.getLastCreatedEntityKey(),$=p.EditorState.set(r,{currentContent:m});o(F(p.RichUtils.toggleLink($,$.getSelection(),T)))}d(),setTimeout(()=>n.current.blur(),0)},children:({handleSubmit:f})=>I(V,{children:[I(l.ModalNext.Block,{className:"k-u-margin-bottom-quadruple",children:[I("div",{className:"k-u-margin-bottom-double",children:[u(ae,{htmlFor:"",children:a.button_link.text}),u(ce,{name:"text",disabled:!0})]}),u(ae,{htmlFor:"url",children:a.button_link.url}),u(ce,{name:"url",validate:g=>{if(!Tr.test(g))return a.link.error}})]}),u(l.ModalNext.Button,{fit:"fluid",size:"large",type:"button",modifier:"helium",onClick:f,children:a.submit})]})})})};Sr.propTypes={disabled:h.default.bool,onChange:h.default.func},Sr.defaultProps={disabled:!1,onChange:()=>null};const LS=N.default(l.ArrowContainer)`
  display: flex;
  position: absolute;
  min-width: max-content;
  padding: 0 ${l.pxToRem(20)};
  background-color: ${l.COLORS.background1};
  margin-top: ${l.pxToRem(0)};
  transition: opacity 0.1s ease-out, margin-top 0.1s ease-out;
  z-index: 99999;
`,PS=N.default(l.Text)`
  flex: 1;
  width: 100%;
  text-align: center;
  display: block;
  padding: 0;
`,MS=N.default.span`
  flex: 0;
  border-left: var(--border-width, 1px) solid ${l.COLORS.font2};
  margin: ${l.pxToRem(5)} ${l.pxToRem(10)};
`,DS=N.default(l.Text)`
  flex: 2;
  max-width: ${l.pxToRem(240)};
  text-overflow: ellipsis;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
`,Bo=({onDelete:e,url:t})=>{const[{translations:r}]=_.useContext(M);return I(LS,{position:"top",shadow:!0,borderWidth:1,borderColor:l.COLORS.line1,contentEditable:!1,children:[u(PS,{href:"#",tag:"a",size:"micro",color:"error",onClick:n=>{n.preventDefault(),n.stopPropagation(),e(n)},children:r.link.button.delete}),u(MS,{}),u(DS,{href:t,target:"_blank",rel:"noopener",tag:"a",size:"micro",color:"font1",onClick:n=>{n.preventDefault(),n.stopPropagation(),window.open(t,"_blank").focus()},children:t})]})},BS=N.default(l.ButtonGroup)`
  .k-ButtonGroup__button {
    width: 50%;
  }
`,FS=N.default.img`
  width: 100%;
  object-fit: contain;
  aspect-ratio: 16/10;
`,ue={URL:"URL",FILE:"FILE"},NS=({imageUrl:e,setImageUrl:t,errorMessage:r,onChange:n=()=>null})=>{const[a,o]=_.useState(ue.FILE),[{translations:i}]=_.useContext(M),{handleSubmit:s,values:c,isSubmitting:d}=Y.useFormikContext(),[,,f]=Y.useField("url"),[,,g]=Y.useField("file");return I(V,{children:[I(BS,{className:"k-u-margin-bottom-double",children:[u(l.ButtonGroup.Button,{active:a===ue.FILE,onClick:()=>{o(ue.FILE),t(void 0)},children:i.image_upload.button_file}),u(l.ButtonGroup.Button,{active:a===ue.URL,onClick:()=>{o(ue.URL),t(void 0)},children:i.image_upload.button_url})]}),a===ue.FILE&&!e&&u(l.ImageDropUploader,{id:"underwood-image-drop-uploader",dimensionErrorText:i.image_upload.dimension_error,sizeErrorText:i.image_upload.max_size,errorMessage:r,onChange:y=>{var T;n(y);const m=y.file;!((T=m==null?void 0:m.type)!=null&&T.match("image.*"))||(g.setValue(m),f.setValue(""),t(y.value))},acceptedFileSize:5242880,acceptedImageDimensions:{height:1e3,width:4e3},acceptedMimeTypes:["image/jpeg","image/png","image/gif","image/webp"],buttonTitle:i.image_upload.button_title,buttonText:I("div",{className:"k-u-flex k-u-flex-direction-column k-u-flex-gap-noneHalf",children:[u("span",{children:i.image_upload.help_file.formats}),u("span",{children:i.image_upload.help_file.width}),u("span",{children:i.image_upload.help_file.size})]})}),a===ue.URL&&I(V,{children:[u("div",{className:"k-u-margin-top-single",children:u(ae,{htmlFor:"url",children:i.image_upload.label})}),u(lt,{name:"url",placeholder:"https://",buttonValue:i.image_upload.preview,onClick:()=>{t(c.url)}})]}),u("div",{className:"k-u-margin-vertical-single",children:e&&I(V,{children:[u(FS,{src:e,alt:""}),a===ue.FILE&&u("div",{className:"k-u-margin-top-singleHalf k-u-align-center",children:u(l.Text,{size:"small",tag:"button",weight:"regular",onClick:()=>t(void 0),className:"k-u-reset-button k-u-link k-u-link-primary1",children:i.image_upload.modify_image})})]})}),e&&I(V,{children:[I("div",{className:"k-u-margin-vertical-double",children:[u(ae,{htmlFor:"description",children:i.image_upload.description.label}),u(ce,{name:"description",tag:"autoresize",placeholder:i.image_upload.description.placeholder})]}),u(l.AlertBox,{children:i.image_upload.description.helper})]}),u(Y.ErrorMessage,{name:"url",children:y=>u(l.Field.ErrorMessage,{children:y})}),e&&u(l.ModalNext.Actions,{children:d?u(Lo,{fit:"fluid"}):u(l.ModalNext.Button,{type:"button",size:"large",modifier:"helium",onClick:s,children:i.submit})})]})},WS=({onClose:e,description:t,entityKey:r})=>{const[{editorState:n,translations:a},o]=_.useContext(M);return _.useEffect(()=>(o(Tt(!0)),()=>o(Tt(!1))),[]),u(l.ModalNext,{isOpen:!0,onClose:e,headerTitle:u(l.Title,{modifier:"quaternary",children:a.image_upload.description.title}),children:({close:i})=>u(Y.Formik,{initialValues:{description:t},onSubmit:({description:s})=>{const d=n.getCurrentContent().mergeEntityData(r,{description:s}),f=n.getSelection(),g=p.EditorState.push(n,d,"change-block-data");o(F(p.EditorState.forceSelection(g,f))),i(),e()},children:()=>u(Y.Form,{children:I(l.ModalNext.Block,{children:[I("div",{className:"k-u-margin-vertical-double",children:[u(ae,{htmlFor:"description",children:a.image_upload.description.label}),u(ce,{name:"description",tag:"autoresize",placeholder:a.image_upload.description.placeholder})]}),u(l.AlertBox,{children:a.image_upload.description.helper}),u(l.ModalNext.Actions,{children:u(l.ModalNext.Button,{type:"submit",size:"large",modifier:"helium",fit:"fluid",children:a.submit})})]})})})})},Fo=N.default.div`
  position: relative;
  width: 100%;
  img {
    display: inline;
    height: auto;
    max-width: 100%;
  }

  .image-menu {
    position: absolute;
    left: 0;
    width: 100%;
    top: 0;
    height: 100%;
  }
`,jS=({url:e,entityKey:t})=>{const[{editorState:r},n]=_.useContext(M);return u(Bo,{url:e,onDelete:()=>{n(F(CC(r,t,["url"])))}})},kS=({contentState:e,entityKey:t,blockKey:r})=>{const[{editorState:n,translations:a},o]=_.useContext(M),[i,s]=_.useState(!1),c=ht(e,n,t),{src:d,url:f,description:g}=e.getEntity(t).getData();return I(Fo,{className:"kiss-Draft__image",onClick:()=>{o(F(mi(n,r)))},children:[I("div",{className:re.default("kiss-Draft__image-focus",{"kiss-Draft__image-focus__focused":c}),children:[I("div",{className:"k-u-align-center",children:[u("img",{src:yt(d),alt:g}),u(l.DropdownMenu,{className:"image-menu",menuPosition:"center",positionedButton:!0,children:u(l.DropdownMenu.Button,{onClick:()=>s(!0),children:le(g)?a.image_upload.add_label:a.image_upload.modify_label})})]}),c&&!!f&&u(jS,{url:f,entityKey:t})]}),i&&u(WS,{onClose:()=>s(!1),entityKey:t,description:g})]})},GS=({contentState:e,entityKey:t})=>{const{src:r,url:n,description:a}=e.getEntity(t).getData();return u(Fo,{className:"kiss-Draft__image-read",children:n?u("a",{href:n,target:"_blank",rel:"nofollow noopener",children:u("div",{className:"k-u-align-center",children:u("img",{src:yt(r),alt:a})})}):u("div",{className:"k-u-align-center",children:u("img",{src:yt(r),alt:a})})})},No=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="IMAGE"},t)},KS={strategy:No,component:kS},US={strategy:No,component:GS},Er=({disabled:e,onUpload:t,onChange:r,errorMessage:n})=>{const[a,o]=_.useState(!1),[{editorState:i,translations:s,disabled:c},d]=_.useContext(M),[f,g]=_.useState("");return _.useEffect(()=>{a||g("")},[a]),I(V,{children:[u(ee,{icon:"image",disabled:c||e,onToggle:()=>{o(!a)}}),u(l.ModalNext,{onClose:()=>o(!1),isOpen:a,headerTitle:u(l.Title,{modifier:"quaternary",children:s.image_upload.title}),children:({close:y})=>u(l.ModalNext.Block,{children:u(Y.Formik,{initialValues:{url:"",description:""},validationSchema:We.object().shape({url:We.string().url(s.image.invalid_url).matches(/(?:jpg|jpeg|gif|png)$/,s.image.invalid_extension)}),onSubmit:({url:m,fileSize:T,file:$,description:A},{setSubmitting:E})=>new Promise((w,P)=>{$&&$.size===0&&(P("WRONG"),E(!1)),le(m)?t($).then(O=>w(O)).catch(()=>{E(!1)}):w(m)}).then(w=>{const W=i.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:w,description:A}).getLastCreatedEntityKey(),G=p.AtomicBlockUtils.insertAtomicBlock(i,W," "),B=p.EditorState.forceSelection(G,G.getCurrentContent().getSelectionAfter());if(hi(B)){const te=yi(B);d(F(te))}else d(F(B));y(),o(!1),setTimeout(()=>o(!1),500)}),children:()=>u(NS,{imageUrl:f,setImageUrl:g,errorMessage:n,onChange:r})})})})]})};Er.propTypes={disabled:h.default.bool,onUpload:h.default.func,errorMessage:h.default.string},Er.defaultProps={disabled:!1,onUpload:()=>null};const Cr=bt.default();Cr.tlds($t.default);const Wo=N.default.div`
  display: inline-block;
  position: relative;
`,zS=N.default.div`
  display: flex;
  justify-content: center;
  img {
    max-height: ${l.pxToRem(200)};
    max-width: 100%;
  }
`,HS=({src:e})=>u(zS,{children:u("img",{src:yt(e),alt:""})}),qS=({contentState:e,entityKey:t,children:r})=>{const[n,a]=_.useState(!1),{url:o}=e.getEntity(t).getData(),[{editorState:i,focus:s},c]=_.useContext(M),d=ht(e,i,t);return _.useEffect(()=>{setTimeout(()=>a(d&&s),0)},[s,i]),I(Wo,{"aria-live":"assertive",children:[u("a",{href:o,target:"_blank",className:"k-u-link k-u-link-primary1",rel:"nofollow noopener",children:r}),n&&u(Bo,{url:o,onDelete:()=>{var g;const f=e==null?void 0:e.getBlockForKey((g=i==null?void 0:i.getSelection())==null?void 0:g.getFocusKey());!f||f.findEntityRanges(y=>y.getEntity()===t,(y,m)=>{const T=i.getSelection().merge({focusOffset:m,anchorOffset:y}),$=p.Modifier.applyEntity(e,T,null);c(F(p.EditorState.push(i,$,"apply-entity")))})}})]})},jo=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="LINK"},t)},YS={strategy:jo,component:qS},VS={strategy:jo,component:e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return u(Wo,{children:u("a",{href:t,target:"_blank",rel:"nofollow noopener",className:"k-u-link k-u-link-primary1",children:e.children})})}},wr=({disabled:e,onChange:t})=>{const[r,n]=_.useState(!1),[{editorState:a,editorRef:o,translations:i,disabled:s},c]=_.useContext(M),d=pt(a),f=Lr(a),g=()=>d?pi(a,f):gi(a),y=()=>{const T=a.getSelection();setTimeout(()=>o.current.focus(),0);const $=T.merge({anchorOffset:T.getFocusOffset(),hasFocus:!0});c(F(p.EditorState.forceSelection(a,$)))},m=!s&&!e&&(d||!le(g()));return I(V,{children:[u(ee,{icon:"link",disabled:!m,onToggle:()=>{n(!r)}}),u(l.ModalNext,{onClose:()=>{n(!1),y()},isOpen:r,headerTitle:u(l.Title,{modifier:"quaternary",children:i.link.title}),children:({close:T})=>u(l.ModalNext.Block,{children:u(Y.Formik,{enableReinitialize:!0,initialValues:{url:d?d.getData().url:"",text:g()},onSubmit:({url:$})=>{const A=Cr.match($),E=a.getCurrentContent();if(t(),d)if((d==null?void 0:d.get("type"))==="IMAGE"){const w=E.mergeEntityData(f,{url:A[0].url});c(F(p.EditorState.push(a,w,"change-block-data")))}else{const w=E.replaceEntityData(f,{url:A[0].url});c(F(p.EditorState.push(a,w,"change-block-data")))}else{const w=E.createEntity("LINK","MUTABLE",{url:A[0].url}),P=w.getLastCreatedEntityKey(),O=p.EditorState.set(a,{currentContent:w});c(F(p.RichUtils.toggleLink(O,O.getSelection(),P)))}T(),n(!1),setTimeout(()=>o.current.focus(),0)},children:({handleSubmit:$})=>{var A;return I(V,{children:[u("div",{className:"k-u-margin-bottom-double",children:(d==null?void 0:d.get("type"))==="IMAGE"?u(HS,{src:(A=d==null?void 0:d.getData())==null?void 0:A.src}):I(V,{children:[u(ae,{htmlFor:"",children:i.link.text.label}),u(ce,{name:"text",disabled:!0})]})}),I("div",{className:"k-u-margin-vertical-double",children:[u(ae,{size:"micro",htmlFor:"url",children:i.image_upload.url}),u(ce,{name:"url",validate:E=>{if(!Cr.test(E))return i.link.error}})]}),u(l.ModalNext.Actions,{children:u(l.ModalNext.Button,{size:"large",type:"button",modifier:"helium",onClick:$,children:i.submit})})]})}})})})]})};wr.propTypes={disabled:h.default.bool,onChange:h.default.func},wr.defaultProps={disabled:!1,onChange:()=>null};const XS="https://api.embed.ly/1/",ko=e=>{if(!e.key)throw new Error("You need an API key to call Embedly");return fetch(`${XS}oembed?${Ki.default.stringify(j({secure:document.location.protocol==="https:",scheme:document.location.protocol.replace(":","")},e))}`).then(t=>t.json())},xr=({height:e,width:t})=>(e/t*100).toPrecision(4),Go=e=>{if(console.log(e),e.type==="video"||e.type==="rich"&&e.provider_name!=="SoundCloud")return{ratio:xr({height:e.height,width:e.width}),html:e.html};switch(e.provider_name){case"SoundCloud":return{ratio:xr({height:6,width:16}),html:e.html};case"Ovizer":return{ratio:xr({height:e.thumbnail_height||1,width:e.thumbnail_width||1}),html:`<iframe src="${e.url}" width="100%" height="auto" allowFullScreen></iframe>`};case"Apple Podcasts":const t=e.url.replace("podcasts.apple.com","embed.podcasts.apple.com");return{height:183,ratio:.1,html:`<iframe allow="autoplay *; encrypted-media *; fullscreen *" height="175" style=";overflow:hidden;background:transparent;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="${t}&theme=auto"></iframe>`};default:return{ratio:67.5,html:`<iframe src="${e.url}" width="100%" height="auto" allowFullScreen></iframe>`}}},QS=({contentState:e,entityKey:t,blockKey:r})=>{const{embedlyHtml:n,embedRatio:a,html:o,height:i}=e.getEntity(t).getData(),[{editorState:s},c]=_.useContext(M),d=g=>{g.preventDefault(),g.stopPropagation(),c(F(mi(s,r)))},f=ht(e,s,t);return u(l.ResponsiveIframeContainer,{ratio:a||67.5,className:"kiss-Draft__media",style:j({},i&&{height:i}),children:u("div",{className:re.default("kiss-Draft__media-focus",{"kiss-Draft__media-focus__focused":f}),onClick:d,children:l.parseHtml(n||o,{sanitize:!1})})})},ZS=e=>{const{embedlyHtml:t,embedRatio:r,height:n,html:a}=e.contentState.getEntity(e.entityKey).getData();return u(l.ResponsiveIframeContainer,{ratio:r||67.5,className:"kiss-Draft__media-read",style:j({},n&&{height:n}),children:l.parseHtml(t||a,{sanitize:!1})})},Ko=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&["VIDEO","MEDIA"].includes(r.getEntity(a).getType())},t)},JS={strategy:Ko,component:QS},eE={strategy:Ko,component:ZS},Rr=({disabled:e,onChange:t,embedlyApiKey:r})=>{const[{editorState:n,translations:a,disabled:o},i]=_.useContext(M),[s,c]=_.useState(!1),[d,f]=_.useState(void 0),[g,y]=_.useState(void 0),[m,T]=_.useState(void 0),[$,A]=_.useState(!1);return I(V,{children:[u(ee,{icon:"video",disabled:o||e,onToggle:()=>{c(!s)}}),u(l.ModalNext,{onClose:()=>c(!1),isOpen:s,headerTitle:u(l.Title,{modifier:"quaternary",children:a.media_upload.title}),children:({close:E})=>u(l.ModalNext.Block,{children:u(Y.Formik,{initialValues:{url:""},validationSchema:We.object().shape({url:We.string().url(a.video.invalid_url)}),onSubmit:({url:w})=>(t(w),A(!1),ko({key:r,maxwidth:640,url:w}).then(P=>{if(P.type==="error"){A(!0);return}const{html:O,ratio:W,height:G}=Go(P),B=RC(n,j({html:O,embedRatio:W},G&&{height:G}));if(hi(B)){const te=yi(B);i(F(te))}else i(F(B));E(),setTimeout(()=>{c(!1),f(void 0)},500)})),children:({handleSubmit:w,isSubmitting:P,values:O})=>I(V,{children:[u(ae,{size:"micro",className:"k-u-margin-bottom-single",htmlFor:"url",children:a.image_upload.label}),u(lt,{name:"url",placeholder:"https://",buttonValue:a.image_upload.preview,onClick:()=>{A(!1),ko({key:r,maxwidth:640,url:O.url}).then(W=>{if(W.type==="error"){A(!0);return}const{html:G,ratio:B,height:te=void 0}=Go(W);y(B),f(G),T(te)})}}),d&&u("div",{className:"k-u-margin-vertical-single",children:u(l.ResponsiveIframeContainer,{ratio:g,style:j({},m&&{height:m}),children:l.parseHtml(d,{sanitize:!1})})}),$&&u(l.Field.ErrorMessage,{children:a.video.problem}),d&&u(l.ModalNext.Actions,{children:P?u(Lo,{fit:"fluid"}):u(l.ModalNext.Button,{size:"large",type:"button",modifier:"helium",onClick:w,children:a.submit})})]})})})})]})};Rr.propTypes={embedlyApiKey:h.default.string.isRequired,disabled:h.default.bool,onChange:h.default.func},Rr.defaultProps={disabled:!1,onChange:()=>null};const Uo=bt.default({fuzzyLink:!1});Uo.tlds($t.default);var zo={strategy:(e,t)=>{const r=Uo.match(e.get("text"));if(typeof r!="undefined"&&r!==null)for(let n=0;n<r.length;n+=1)t(r[n].index,r[n].lastIndex)},component:e=>u("a",{target:"_blank",rel:"nofollow noopener",className:"k-u-link k-u-link-primary1",href:e.decoratedText,children:e.children})},ct={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="LINK"},t)},component:e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return u("a",{href:t,className:"k-u-link k-u-link-primary1",target:"_blank",rel:"nofollow noopener noreferrer",children:e.children})}};function tE(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var rE=tE,Ir=ha,nE=_n,aE=fr,oE=1/0,iE=Ir&&1/aE(new Ir([,-0]))[1]==oE?function(e){return new Ir(e)}:nE,sE=iE,lE=Ba,cE=In,uE=rE,dE=Fa,fE=sE,gE=fr,pE=200;function hE(e,t,r){var n=-1,a=cE,o=e.length,i=!0,s=[],c=s;if(r)i=!1,a=uE;else if(o>=pE){var d=t?null:fE(e);if(d)return gE(d);i=!1,a=dE,c=new lE}else c=t?[]:s;e:for(;++n<o;){var f=e[n],g=t?t(f):f;if(f=r||f!==0?f:0,i&&g===g){for(var y=c.length;y--;)if(c[y]===g)continue e;t&&c.push(g),s.push(f)}else a(c,g,r)||(c!==s&&c.push(g),s.push(f))}return s}var yE=hE,mE=yE;function vE(e){return e&&e.length?mE(e):[]}var _E=vE,bE=ne,Ho=bE("uniq",_E,mo);Ho.placeholder=Z;var $E=Ho;const qo=e=>/(.gif)$/gim.test(e),Yo=e=>/(.svg)$/gim.test(e),AE=["jpg","jpeg","png","webp"],Vo=(e,t)=>{const r=e.replace(/https?:\/\/([0-9a-z.:]+)\/\S+/gi,"$1");return(t==null?void 0:t.allowedServers.indexOf(r))>-1},TE=e=>encodeURIComponent(encodeURIComponent(e)),Xo=(e,{width:t=0,height:r=0,filters:n=[],upscale:a=!0},o)=>{if(Yo(e)||qo(e)||!ENABLE_RESPONSIVE_IMAGES)return e;const i=TE(e),c=`${o==null?void 0:o.host}/${t}x${r}`;a||n.push("no_upscale:1");let d="";n.forEach(g=>{const[y,m]=g.split(":");y==="format"&&AE.includes(m)&&(d=`.${m}`)});const f=$E(n).join(",");return f?`${c}/${f}/${i}${d}`:`${c}/options:false/${i}`},Qo=(e,{imageSizes:t,breakpoints:r,imageSizesInViewport:n,ratio:a=0,upscale:o=!0,format:i="jpg",config:s}={})=>{if(!e)return;if(Yo(e)||qo(e)||!ENABLE_RESPONSIVE_IMAGES||!Vo(e,s))return{src:e,srcSet:"",sizes:""};if(r.length!==n.length)return;const c=`format:${i}`,d=["quality:90",c],g=[...t].sort(($,A)=>A-$)[0],y=Xo(e,{width:g,height:Math.floor(g*a),filters:d,upscale:o},s),m=t.reduce(($,A)=>$.concat(`${Xo(e,{width:A,height:Math.floor(A*a),filters:d,upscale:o},s)} ${A}w`),[]).join(", "),T=r.reduce(($,A,E)=>$.concat(`(min-width: ${A}px) calc(${n[E]})`),[`calc(${n[0]})`]).reverse().join(", ");return{src:y,srcSet:m,sizes:T}},SE=`100vw - ${l.CONTAINER_PADDING_THIN*2}px`,EE=`(100vw - ${l.CONTAINER_PADDING*2}px) * (7/12)`,CE=`(${l.ScreenConfig.XL.min-l.CONTAINER_PADDING*2}px) * (7/12))`,Zo=[280,335,380,785,944];function wE(e,t){for(var r=0;r<e.length;r++)if(e[r]>=t)return e[r]}var Jo={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="IMAGE"},t)},component:e=>{const[{configResponsiveImageHandler:t}]=_.useContext(M),{src:r,alt:n,style:a,width:o,height:i,imageLink:s}=e.contentState.getEntity(e.entityKey).getData(),c=_.useRef(null),d=l.useLazyObserver(c),f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><path fill='%23caf4fe' d='M0 0h400v300H0z'/></svg>";let g={src:r,sizes:null,srcSet:null};Vo(r,t)&&(g=a.width&&a.height?Qo(r,{imageSizes:[wE(Zo,parseInt(a.width))],breakpoints:[0],imageSizesInViewport:[parseInt(a.width)],upscale:!1,resolutions:1,config:t}):Qo(r,{imageSizes:Zo,breakpoints:[0,1080,1440],imageSizesInViewport:[SE,EE,CE],upscale:!1,config:t}));const y=u("img",{src:d?g.src:f,srcSet:d?g.srcSet:"",sizes:g.sizes,alt:n,width:o&&i?o:void 0,height:o&&i?i:void 0,style:{width:a.width}});return s?u("a",{href:s,className:"k-u-align-center",target:"_blank",rel:"nofollow noopener noreferrer",ref:c,children:y}):u("div",{className:"k-u-align-center",ref:c,children:y})}},ut={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="MEDIA"},t)},component:e=>{const{html:t}=e.contentState.getEntity(e.entityKey).getData();return u(l.LazyLoader,{children:u(l.ResponsiveIframeContainer,{ratio:67.5,children:l.parseHtml(t,{sanitize:!1})})})}},ei={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="IMAGE"},t)},component:e=>{const{src:t,alt:r,style:n,width:a,height:o,imageLink:i}=e.contentState.getEntity(e.entityKey).getData(),s=_.useRef(null),c=l.useLazyObserver(s),f=u("img",{src:c?t:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><path fill='%23caf4fe' d='M0 0h400v300H0z'/></svg>",alt:r,width:a&&o?a:void 0,height:a&&o?o:void 0,style:{width:n.width}});return i?u("a",{href:i,className:"k-u-align-center",target:"_blank",rel:"nofollow noopener noreferrer",ref:s,children:f}):u("div",{className:"k-u-align-center",ref:s,children:f})}},dt={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="SEPARATOR"},t)},component:()=>u("hr",{})},ft={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="BLOCKQUOTE"},t)},component:e=>e.children.length===1&&e.children[0].props.text===" "?null:u("span",{children:e.children})},xE=hr;function RE(e,t){return xE(e,t)}var IE=RE,OE=ne,ti=OE("isEqual",IE);ti.placeholder=Z;var gt=ti,LE="Expected a function";function PE(e){if(typeof e!="function")throw new TypeError(LE);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var ME=PE,DE=Ut,BE=Ce,FE=Ye,ri=se,NE=he;function WE(e,t,r,n){if(!ri(e))return e;t=BE(t,e);for(var a=-1,o=t.length,i=o-1,s=e;s!=null&&++a<o;){var c=NE(t[a]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=i){var f=s[c];d=n?n(f,c,s):void 0,d===void 0&&(d=ri(f)?f:FE(t[a+1])?[]:{})}DE(s,c,d),s=s[c]}return e}var jE=WE,kE=it,GE=jE,KE=Ce;function UE(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var i=t[n],s=kE(e,i);r(s,i)&&GE(o,KE(i,e),s)}return o}var zE=UE,HE=ot,qE=st,YE=zE,VE=nr;function XE(e,t){if(e==null)return{};var r=HE(VE(e),function(n){return[n]});return t=qE(t),YE(e,r,function(n,a){return t(n,a[0])})}var QE=XE,ZE=st,JE=ME,eC=QE;function tC(e,t){return eC(e,JE(ZE(t)))}var rC=tC,nC=ne,ni=nC("omitBy",rC);ni.placeholder=Z;var ai=ni;const aC=me("children[0]"),oi=ye(me("children[0].nodeName"),gt("IMG")),oC=ye(me("parentElement.nodeName"),gt("A")),ii=ai(le),iC=new p.CompositeDecorator([ct,Jo,ut,dt,ft]),sC=new p.CompositeDecorator([ct,ei,ut,dt,ft]),lC=e=>_t.convertFromHTML({htmlToStyle:(t,r,n)=>r.style&&r.style["margin-left"]!==""?n.add("MARGIN_LEFT"):n,htmlToEntity:(t,r,n)=>{if(t==="a"){if(oi(r)){const a=aC(r);return n("IMAGE","IMMUTABLE",{src:a.src,alt:a.alt,width:a.width,height:a.height,style:ii(a.style),imageLink:r.href})}return n("LINK","MUTABLE",{url:r.href})}if(t==="img"&&!oC(r))return n("IMAGE","IMMUTABLE",{src:r.src,alt:r.alt,width:r.width,height:r.height,style:ii(r.style)});if(t==="iframe")return n("MEDIA","IMMUTABLE",{html:r.outerHTML});if(t==="hr")return n("SEPARATOR","IMMUTABLE");if(t==="blockquote")return n("BLOCKQUOTE","IMMUTABLE")},htmlToBlock:(t,r)=>{if(["img","iframe","hr"].includes(t)||oi(r))return"atomic";if(r.textContent===" ")return"br";if(t==="p"&&r.style["text-align"]!==void 0)return{type:"paragraph",data:{textAlign:r.style["text-align"]}};if(t==="h2"&&r.style["text-align"]!==void 0)return{type:"header-two",data:{textAlign:r.style["text-align"]}};if(t==="h3"&&r.style["text-align"]!==void 0)return{type:"header-three",data:{textAlign:r.style["text-align"]}};if(t==="h4"&&r.style["text-align"]!==void 0)return{type:"header-four",data:{textAlign:r.style["text-align"]}};if(t==="p")return"paragraph"}})(e),cC=me("children[0]"),uC=ye(me("children[0].nodeName"),gt("IMG")),dC=ye(me("parentElement.nodeName"),gt("A")),si=ai(le);new p.CompositeDecorator([ct,Jo,ut,dt,ft]),new p.CompositeDecorator([ct,ei,ut,dt,ft]);const fC=e=>_t.convertFromHTML({htmlToStyle:(t,r,n)=>r.style&&r.style["margin-left"]!==""?n.add("MARGIN_LEFT"):n,htmlToEntity:(t,r,n)=>{if(t==="a"){if(uC(r)){const a=cC(r);return n("IMAGE","IMMUTABLE",{src:a.src,alt:a.alt,width:a.width,height:a.height,style:si(a.style),imageLink:r.href})}return n("LINK","MUTABLE",{url:r.href})}if(t==="img"&&!dC(r))return n("IMAGE","IMMUTABLE",{src:r.src,alt:r.alt,width:r.width,height:r.height,style:si(r.style)});if(t==="iframe")return n("MEDIA","IMMUTABLE",{html:r.outerHTML});if(t==="hr")return n("SEPARATOR","IMMUTABLE");if(t==="blockquote")return n("BLOCKQUOTE","IMMUTABLE")},htmlToBlock:(t,r)=>{if(["img","iframe","hr"].includes(t))return"atomic";if(r.textContent===" ")return"br";if(t==="p"&&r.style["text-align"]!==void 0)return{type:"paragraph",data:{textAlign:r.style["text-align"]}};if(t==="h2"&&r.style["text-align"]!==void 0)return{type:"header-two",data:{textAlign:r.style["text-align"]}};if(t==="h3"&&r.style["text-align"]!==void 0)return{type:"header-three",data:{textAlign:r.style["text-align"]}};if(t==="h4"&&r.style["text-align"]!==void 0)return{type:"header-four",data:{textAlign:r.style["text-align"]}};if(t==="p")return"paragraph"}})(e),gC=Ne.Map({paragraph:{element:"p"}}),li=(e,t=!1)=>{const r=t?fC(e):lC(e);return r.set("blockMap",r.getBlockMap().filter(n=>!(!["atomic","br"].includes(n.getType())&&n.getText()==="")))},ci=(e,t=!1)=>p.convertToRaw(li(e,t)),ui=e=>p.EditorState.createWithContent(li(e)),Or=({html:e,perfEnabled:t,useRichTextStyle:r})=>{if(!e)return null;if(!l.domElementHelper.canUseDom()){const n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><path fill='%23caf4fe' d='M0 0h400v300H0z'/></svg>",a=/<img([\S ]*?) src="[\S]+?"/gm,o=`<img $1 src="${n}"`;return e=e.replace(a,o),t&&(e=e.replace(/<(img|iframe)([\S ]+?) (src=")/gm,"<$1 $2 data-$3")),u("section",{className:re.default({"kiss-RichText":r}),children:l.parseHtml(e)})}return u("section",{className:re.default({"kiss-RichText":r}),children:u(p.Editor,{editorState:p.EditorState.set(e!==null?ui(e):p.EditorState.createEmpty(),{decorator:t?iC:sC}),onChange:()=>null,blockRenderMap:p.DefaultDraftBlockRenderMap.merge(gC),blockStyleFn:n=>{switch(n.getData().get("textAlign")){case"right":return"draft-align-right";case"center":return"draft-align-center";case"left":return"draft-align-left";default:return""}},readOnly:!0})})};Or.propTypes={useRichTextStyle:h.default.bool},Or.defaultProps={useRichTextStyle:!0};const di=e=>{try{return JSON.parse(e),!0}catch{return!1}},pC=e=>l.domElementHelper.canUseDom()?di(e)?JSON.parse(e):ci(e,!0):{},hC=e=>{if(!l.domElementHelper.canUseDom())return null;if(!e||le(e))return p.EditorState.createEmpty();try{return p.EditorState.createWithContent(di(e)?p.convertFromRaw(JSON.parse(e)):p.convertFromRaw(ci(e,!0)))}catch{return p.EditorState.createEmpty()}},fi=e=>p.EditorState.set(e,{decorator:new p.CompositeDecorator([KS,JS,YS,IS,zo])}),yC=e=>{const t=e.getCurrentContent();return p.EditorState.push(e,p.Modifier.setBlockType(t,t.getSelectionAfter(),"unstyled"),"change-block-type")},mC=e=>{const t=e.getCurrentContent(),r=e.getSelection();return t.getBlockForKey(r.getStartKey()).getData().get("alignmentStyle")},vC=e=>{const r=e.getSelection().getAnchorKey();return e.getCurrentContent().getBlockForKey(r)},gi=e=>{const t=vC(e),r=e.getSelection(),n=r.getStartOffset(),a=r.getEndOffset();return t.getText().slice(n,a)},Lr=e=>{const t=e.getCurrentContent(),r=e.getSelection().getStartKey(),n=e.getSelection().getStartOffset();return t.getBlockForKey(r).getEntityAt(n)},pt=e=>{const t=e.getCurrentContent(),r=Lr(e);return r?t.getEntity(r):void 0},pi=(e,t)=>{let r;const n=e.getCurrentContent(),a=e.getSelection(),o=n.getBlockForKey(a.getFocusKey());return o.findEntityRanges(i=>i.getEntity()===t,(i,s)=>{r=o.getText().slice(i,s)}),r},ht=(e,t,r)=>{const n=e.getBlockForKey(t.getSelection().getFocusKey());if(!n)return!1;const a=n.getEntityAt(t.getSelection().getStartOffset());return r===a},_C=e=>ye(me("blocks"),wT((t,r)=>`${t}${r.text}`,""),le)(e),bC=e=>{const t=e.getCurrentContent(),n=e.getSelection().getAnchorKey(),a=t.getBlockBefore(n);return(a==null?void 0:a.get("type"))==="atomic"},$C=e=>{const t=e.getCurrentContent(),r=e.getSelection(),n=t.getBlockForKey(r.getAnchorKey()),a=n.getEntityAt(r.getStartOffset());let o=null;n.findEntityRanges(s=>s.getEntity()===a,(s,c)=>{o=r.merge({anchorOffset:s,focusOffset:c})});const i=p.Modifier.applyEntity(t,o,null);return p.EditorState.push(e,i,"apply-entity")},hi=e=>{const t=e.getCurrentContent(),n=t.getSelectionBefore().getAnchorKey(),a=t.getBlockForKey(n);return ye(Io,le)(a.getText())},AC=e=>{const t=e.getCurrentContent(),n=e.getSelection().getAnchorKey(),a=t.getBlockForKey(n);return ye(Io,le)(a.getText())},TC=e=>{const t=e.getCurrentContent(),n=e.getSelection().getAnchorKey();return!t.getBlockBefore(n)},SC=e=>{var c,d,f;const t=e.getSelection(),r=t.getAnchorKey(),a=e.getCurrentContent().getBlockForKey(r),o=(c=a==null?void 0:a.get("text"))==null?void 0:c.length,i=(d=t==null?void 0:t.getStartOffset())!=null?d:0,s=(f=t==null?void 0:t.getEndOffset())!=null?f:0;return o===s-i},yi=e=>{const t=e.getCurrentContent().getBlockMap().delete(e.getCurrentContent().getSelectionBefore().getFocusKey()),r=e.getCurrentContent().merge({blockMap:t});return p.EditorState.push(e,r,"remove-range")},EC=(e,t)=>{const r=e.getCurrentContent(),n=r.getBlockForKey(t);let a=p.SelectionState.createEmpty(n.getKey());a=a.merge({anchorKey:n.getKey(),anchorOffset:0,focusKey:n.getKey(),focusOffset:n.getLength()});const o=p.Modifier.removeRange(r,a,"backward"),i=o.getBlockMap().delete(t),s=o.merge({blockMap:i});return p.EditorState.push(e,s,"remove-range")},mi=(e,t,r=0)=>{const n=p.SelectionState.createEmpty(t).merge({focusOffset:r});return p.EditorState.forceSelection(e,n)},CC=(e,t,r)=>{const n=e.getCurrentContent().getEntity(t).getData(),a=e.getCurrentContent().replaceEntityData(t,ZA(r)(n));return p.EditorState.push(e,a,"apply-entity")},Pr=e=>{var s,c;const r=e.getSelection().getAnchorKey(),n=e.getCurrentContent().getKeyBefore(r),a=e.getCurrentContent().getKeyAfter(r),o=e.getCurrentContent().getBlockBefore(r);if(!a&&!n){const d=fi(p.EditorState.createEmpty());return p.EditorState.moveSelectionToEnd(d)}let i=p.SelectionState.createEmpty(n||a);return i=i.merge({anchorOffset:(s=o==null?void 0:o.getLength())!=null?s:0,focusOffset:(c=o==null?void 0:o.getLength())!=null?c:0}),p.EditorState.forceSelection(EC(e,r),i)},vi=e=>{var r;const t=(r=e==null?void 0:e.get("data"))==null?void 0:r.src;return xC(t)||wC(t)},wC=e=>/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e),xC=e=>/<img.*?src="(.*?)"[^\\>]+>/.test(e),yt=e=>{var r;const[,t]=(r=e==null?void 0:e.match(/src\s*=\s*"(.+?)"/))!=null?r:[];return t||e},_i=e=>{var t,r;return!!((t=e==null?void 0:e.get("data"))!=null&&t.embedlyHtml)||!!((r=e==null?void 0:e.get("data"))!=null&&r.html)},bi=(e,t,r={})=>{const n=new p.ContentBlock(j({key:p.genKey(),type:"unstyled",text:""},r)),a=e.getCurrentContent(),o=a.getBlockMap(),i=Ne.OrderedMap().withMutations(s=>{for(let[c,d]of o.entries())s.set(c,d),t===c&&s.set(n.getKey(),n)});return p.EditorState.forceSelection(p.EditorState.push(e,p.ContentState.createFromBlockArray(Array.from(i.values())).set("selectionBefore",a.getSelectionBefore()).set("selectionAfter",a.getSelectionAfter())),p.SelectionState.createEmpty(n.getKey()))},RC=(e,t={})=>{const a=e.getCurrentContent().createEntity("VIDEO","MUTABLE",t).getLastCreatedEntityKey();return p.AtomicBlockUtils.insertAtomicBlock(e,a," ")};var IC=e=>(t,r)=>{const n=pt(r);if(t==="backspace"&&vi(n)||_i(n))return e(Pr(r)),"handled";if(t==="backspace"&&(n==null?void 0:n.getType())==="IMAGE")return e($C(r)),"handled";if(t==="backspace"&&SC(r)&&bC(r)||t==="backspace"&&TC(r)&&AC(r))return e(Pr(r)),"handled";const a=p.RichUtils.handleKeyCommand(r,t);return a?(e(a),"handled"):"not-handled"},OC=e=>(t,r)=>{const n=r.getCurrentContent(),a=r.getSelection().getAnchorKey(),o=n.getBlockForKey(a),i=pt(r);return _i(i)||vi(i)?(e(bi(r,a)),"handled"):o.getText()===""&&["unordered-list-item","blockquote"].includes(o.getType())?(e(yC(r)),"handled"):["header-two","header-three"].includes(o.getType())?(e(bi(r,a)),"handled"):"not-handled"};const $i=xe.createGlobalStyle`
  .public-DraftEditorPlaceholder-root {
    ${l.TYPOGRAPHY.fontStyles.light};
    font-size: ${l.pxToRem(20)};
    line-height: ${l.pxToRem(32)};
    color: ${l.COLORS.font2};
    position: absolute;
    z-index: -1;
  }

  .public-DraftEditor-content {
    font-size: ${l.pxToRem(20)};
    line-height: ${l.pxToRem(32)};
  }

  .DraftEditor-editorContainer {
    ${l.TYPOGRAPHY.fontStyles.light};
    color: ${l.COLORS.font1};
    cursor: text;
    word-break: break-word;
    letter-spacing: 0;

    .public-DraftStyleDefault-ul {
      margin-top: ${l.pxToRem(10)};
      margin-bottom: ${l.pxToRem(10)};
      list-style: disc;

      .public-DraftStyleDefault-unorderedListItem {
        margin-left: ${l.pxToRem(20)};
      }
    }

    .kiss-Draft__image-read, .kiss-Draft__media-read {
      margin: ${l.pxToRem(40)} auto;
    }
    
    .kiss-Draft__image, .kiss-Draft__media {
      margin: ${l.pxToRem(34)} auto;
      display: flex;
      justify-content: center;
      
      img {
        display: block;
      }
    }

    .kiss-Draft__media-focus {
      padding: ${l.pxToRem(2)};
      border: ${l.pxToRem(4)} solid ${l.COLORS.background1};
      cursor: pointer;
      transition: all ease-in-out 100ms;
      > iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }
    }

    .kiss-Draft__image-focus {
      width: fit-content;
      padding: ${l.pxToRem(2)};
      border: ${l.pxToRem(4)} solid ${l.COLORS.background1};
      cursor: pointer;
      transition: all ease-in-out 100ms;
    }

    .kiss-Draft__image-focus:hover, .kiss-Draft__media-focus:hover {
      border-color: ${l.COLORS.primary4};
    }

    .kiss-Draft__image-focus__focused, .kiss-Draft__media-focus__focused {
      border-color: ${l.COLORS.primary1} !important;
      caret-color: transparent;
    }

    blockquote {
      font-style: italic;
      padding-left: ${l.pxToRem(15)};
      margin-left: ${l.pxToRem(50)};
      margin-top: ${l.pxToRem(20)};
      margin-bottom: ${l.pxToRem(20)};
      border-left: ${l.pxToRem(3)} solid ${l.COLORS.line1};
    }
  }

  .DraftEditor-editorContainer__disabled {
    color: ${l.COLORS.font2};
    cursor: not-allowed;

    a {
      color: ${l.COLORS.line2};
      &:hover,
      &:focus {
        color: ${l.COLORS.line2};
      }
    }
  }

  .DraftEditor-editorContainer__no-richText {
    font-size: ${l.pxToRem(14)};
  }

  .DraftEditor-editorContainer__compact {
    line-height: ${l.pxToRem(20)};
  }

  li.DraftEditor-editorContainer__compact,
  li.DraftEditor-editorContainer__richText {
    .public-DraftStyleDefault-block {
      margin: 0;
    }
  }

  .u-Editor__compact,
  .u-Editor__root {
    .public-DraftStyleDefault-ul {
      margin: 0;
    }
  }

  .public-DraftStyleDefault-block {
    margin: ${l.pxToRem(10)} auto;
  }
`,Ai=({isDisabled:e,useRichTextStyle:t,compact:r})=>n=>{const a=n.getData().get("alignmentStyle");return re.default({"DraftEditor-editorContainer__disabled":e,"DraftEditor-editorContainer__richText":t,"DraftEditor-editorContainer__no-richText":!t,"DraftEditor-editorContainer__compact":r,[a]:a})},LC=N.default.div`
  border-radius: var(--border-radius-s);
  cursor: text;

  &.u-Editor--hasBorder {
    border: var(--border);
    padding: ${l.pxToRem(15)};

    &.u-Editor--focused,
    &:focus-within {
      border: var(--border-active);
      outline: var(--outline-input);
      outline-offset: var(--outline-offset-input);
    }

    &.u-Editor--hasError {
      border: var(--border-danger);
    }
  }
`,Mr=y=>{var m=y,{className:e,hasError:t,onFocus:r,onBlur:n,rawValue:a,initialValue:o,placeholder:i,withoutBorder:s,useRichTextStyle:c,isDisabled:d,compact:f}=m,g=we(m,["className","hasError","onFocus","onBlur","rawValue","initialValue","placeholder","withoutBorder","useRichTextStyle","isDisabled","compact"]);const T=_.useRef(null),[{editorState:$,focus:A,disabled:E},w]=_.useContext(M),P=W=>w(F(W));_.useEffect(()=>{g.onChange(a?p.convertToRaw($.getCurrentContent()):$.getCurrentContent())},[$]),_.useEffect(()=>{w(Ji(T))},[T]),_.useEffect(()=>{P(fi(hC(o)))},[o]);const O=()=>{!(T!=null&&T.current)||T.current.focus()};return I(LC,{className:re.default("u-Editor",e,{"u-Editor--hasError":t,"u-Editor--focused":A,"u-Editor--hasBorder":!s}),onClick:O,children:[u($i,{}),u(l.Paragraph,{"data-test-id":g["data-test-id"],tag:"section",modifier:"tertiary",noMargin:!0,className:re.default("u-Editor__root",{"u-Editor__compact":f}),children:u(p.Editor,{stripPastedStyles:!0,ref:T,editorState:$,placeholder:i,readOnly:d||E,handleKeyCommand:IC(P),handleReturn:OC(P),onChange:P,onFocus:()=>{w(Zr(!0)),r()},onBlur:()=>{w(Zr(!1)),n()},blockStyleFn:Ai({isDisabled:d,useRichTextStyle:c,compact:f}),blockRenderMap:Jr})})]})};Mr.propTypes={onChange:h.default.func,onFocus:h.default.func,onBlur:h.default.func,onInit:h.default.func,hasError:h.default.bool,initialValue:h.default.oneOfType([h.default.string,h.default.object]),rawValue:h.default.bool,placeholder:h.default.string,withoutBorder:h.default.bool,useRichTextStyle:h.default.bool,isDisabled:h.default.bool,compact:h.default.bool},Mr.defaultProps={onChange:()=>null,onFocus:()=>null,onBlur:()=>null,hasError:!1,initialValue:p.EditorState.createEmpty(),rawValue:!0,placeholder:"",withoutBorder:!1,useRichTextStyle:!1,isDisabled:!1,compact:!1};const PC=N.default.div`
  display: flex;

  > * {
    margin-left: calc(-1 * var(--border-width, 1px));
  }

  :first-child > :first-child {
    margin-left: 0;
  }

  margin-right: ${l.pxToRem(10)};

  @media (min-width: ${l.pxToRem(l.ScreenConfig.S.min)}) {
    margin-right: ${l.pxToRem(20)};

    > :not(:first-child) {
      margin-left: calc(-1 * var(--border-width, 1px));
    }
  }

  > :hover:not(:disabled),
  > :focus:not(:disabled) {
    z-index: 1;
  }

  .Editor__toolbar__button--isSelected {
    z-index: 2;
  }
`,Be=({disabled:e,label:t,onChange:r})=>{var s;const[{editorState:n,disabled:a},o]=_.useContext(M),i=(s=mC(n))!=null?s:"k-u-align-left";return u(ee,{icon:t,disabled:a||e,active:i===t,onToggle:()=>{r();const c=n.getCurrentContent(),d=n.getSelection();o(F(p.EditorState.push(n,p.Modifier.setBlockData(c,d,Ne.Map({alignmentStyle:t})),"change-inline-style")))}},t)};Be.propTypes={label:h.default.string.isRequired,disabled:h.default.bool,onChange:h.default.func},Be.defaultProps={disabled:!1,onChange:()=>null};const Dr=e=>u(Be,j({label:"k-u-align-center"},e));Dr.propTypes={disabled:h.default.bool,onChange:h.default.func},Dr.defaultProps={disabled:!1,onChange:()=>null};const Br=e=>u(Be,j({label:"k-u-align-left"},e));Br.propTypes={disabled:h.default.bool,onChange:h.default.func},Br.defaultProps={disabled:!1,onChange:()=>null};const Fr=e=>u(Be,j({label:"k-u-align-right"},e));Fr.propTypes={disabled:h.default.bool,onChange:h.default.func},Fr.defaultProps={disabled:!1,onChange:()=>null};const Nr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=_.useContext(M),o=r.getCurrentInlineStyle();return u(ee,{active:o.has("BOLD"),icon:"format_bold",onToggle:i=>{t(),a(F(p.RichUtils.toggleInlineStyle(r,i)))},style:"BOLD",disabled:n||e},"format_bold")};Nr.propTypes={disabled:h.default.bool,onChange:h.default.func},Nr.defaultProps={disabled:!1,onChange:()=>null};const Wr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=_.useContext(M),o=r.getCurrentInlineStyle();return u(ee,{active:o.has("ITALIC"),icon:"format_italic",onToggle:i=>{t(),a(F(p.RichUtils.toggleInlineStyle(r,i)))},style:"ITALIC",disabled:n||e},"format_italic")};Wr.propTypes={disabled:h.default.bool,onChange:h.default.func},Wr.defaultProps={disabled:!1,onChange:()=>null};const jr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=_.useContext(M),o=r.getCurrentContent(),i=r.getSelection(),c=o.getBlockForKey(i.getStartKey()).get("type")==="blockquote";return u(ee,{icon:"quote",active:c,disabled:n||e,onToggle:()=>{t(),a(F(p.RichUtils.toggleBlockType(r,"blockquote")))}})};jr.propTypes={disabled:h.default.bool,onChange:h.default.func},jr.defaultProps={disabled:!1,onChange:()=>null};const MC=N.default(l.Details)`
  summary.Editor__toolbar__tagListToggle {
    border-radius: ${l.pxToRem(8)};

    .Editor__toolbar__tagListToggle__button {
      pointer-events: none;
      width: ${l.pxToRem(75)};
    }

    &:focus {
      z-index: 3;
    }
  }

  &[open] {
    summary.Editor__toolbar__tagListToggle {
      .Editor__toolbar__tagListToggle__button {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }

  ${({disabled:e})=>e&&xe.css`
      pointer-events: none;
      cursor: not-allowed;
    `}

  .Editor__toolbar__tagsList {
    position: absolute;
    z-index: 5;
    display: flex;
    flex-direction: column;
    width: ${l.pxToRem(75)};
    list-style: none;
    margin: 0;
    padding: 0;

    & li:last-child .Editor__toolbar__tagsList__Item {
      border-bottom: var(--border, ${l.pxToRem(1)} solid ${l.COLORS.line1});
    }

    .Editor__toolbar__tagsList__Item {
      width: 100%;
      position: relative;
      padding: ${l.pxToRem(15)} ${l.pxToRem(20)};
      background-color: var(--color-grey-000);
      border: ${l.pxToRem(1)} solid transparent;
      border-left: var(--border, ${l.pxToRem(1)} solid ${l.COLORS.line1});
      border-right: var(--border, ${l.pxToRem(1)} solid ${l.COLORS.line1});
      text-align: left;
      cursor: pointer;
      transition: border var(--transition), background-color var(--transition);

      appareance: none;
      box-sizing: border-box;

      &:hover,
      &:focus {
        background-color: var(--color-primary-100);
        border-color: var(--color-primary-700) !important;
      }

      &:focus {
        z-index: 3;
      }

      &[aria-selected="true"] {
        svg,
        path {
          fill: ${l.COLORS.primary1};
        }
      }

    }

  }
`,Ti=e=>{switch(e){case"header-one":return u(l.Title1Icon,{});case"header-two":return u(l.Title2Icon,{});case"header-three":return u(l.Title3Icon,{});case"header-four":return u(l.Title4Icon,{});case"unstyled":default:return u(l.ParagraphIcon,{})}},kr=({disabled:e,onChange:t,tags:r})=>{const[{editorState:n,disabled:a},o]=_.useContext(M),i=n.getCurrentContent(),s=n.getSelection(),c=i.getBlockForKey(s.getStartKey()).getType();_.useEffect(()=>{t(c)},[c]);const d=f=>()=>{o(F(p.RichUtils.toggleBlockType(n,f)))};return u(MC,{summaryRender:({open:f})=>I(Oo,{className:"Editor__toolbar__tagListToggle__button",tabIndex:"-1",disabled:a||e,fit:"icon",tag:"span",active:f,children:[Ti(c),u(l.ArrowIcon,{width:"6",direction:f?"top":"bottom"})]}),summaryProps:{className:"Editor__toolbar__tagListToggle"},disabled:a||e,children:u("ul",{className:"Editor__toolbar__tagsList",children:r.map(f=>{const g=Ti(f);if(!!g)return u("li",{children:u("button",{onClick:d(f),type:"button","aria-selected":f===c,className:"Editor__toolbar__tagsList__Item",children:g})},f)})})},i)};kr.propTypes={tags:h.default.array,disabled:h.default.bool,onChange:h.default.func},kr.defaultProps={tags:["header-one","header-two","header-three","header-four","unstyled"],disabled:!1,onChange:()=>null};const DC=N.default.div`
  display: flex;
  overflow-y: scroll;
  padding: ${l.pxToRem(12)} 0;
  background-color: ${l.COLORS.background3};

  > :last-child {
    margin-right: 0;
  }

  @media (min-width: ${l.pxToRem(l.ScreenConfig.M.min)}) {
    overflow-y: initial;
    padding: ${l.pxToRem(15)} 0;
  }

  &.Editor-Toolbar__whiteMode {
    background-color: ${l.COLORS.background1};
  }

  &.Editor-Toolbar__centered {
    justify-content: center;
  }

  ${({whiteMode:e})=>e&&xe.css`
      background-color: ${l.COLORS.background1};
    `}
`,Gr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=_.useContext(M),o=r.getCurrentContent(),i=r.getSelection(),s=o.getBlockForKey(i.getStartKey()).get("type");return u(ee,{active:s==="unordered-list-item",icon:"format_list_bulleted",onToggle:c=>{t(),a(F(p.RichUtils.toggleBlockType(r,c)))},style:"unordered-list-item",disabled:e||n},"format_list_bulleted")};Gr.propTypes={disabled:h.default.bool,onChange:h.default.func},Gr.defaultProps={disabled:!1,onChange:()=>null};const z=({whiteMode:e,disabled:t,className:r,centered:n,children:a})=>{const[,o]=_.useContext(M);return _.useEffect(()=>{o(Tt(t))},[t]),u(DC,{className:re.default(r,{"Editor-Toolbar__whiteMode":e,"Editor-Toolbar__centered":n}),children:a})};z.Image=Er,z.TagList=kr,z.Bold=Nr,z.Italic=Wr,z.Quote=jr,z.Left=Br,z.Right=Fr,z.Center=Dr,z.UnorderedList=Gr,z.Link=wr,z.Button=Sr,z.Video=Rr,z.Group=PC,z.propTypes={disabled:h.default.bool,whiteMode:h.default.bool,centered:h.default.bool,className:h.default.string},z.defaultProps={disabled:!1,whiteMode:!1,centered:!1};var BC=ne,Si=BC("memoize",eo);Si.placeholder=Z;var FC=Si;const NC=FC(e=>{if(!l.domElementHelper.canUseDom())return null;if(!e)return p.EditorState.createEmpty();try{return p.EditorState.createWithContent(p.convertFromRaw(JSON.parse(e)),new p.CompositeDecorator([US,eE,VS,OS,zo]))}catch{const r=p.convertFromHTML(`<p>${e}</p>`),n=p.ContentState.createFromBlockArray(r);return p.EditorState.createWithContent(n)}}),WC=e=>{try{return JSON.parse(e),!0}catch{return!1}},jC=e=>{try{const r=JSON.parse(e).blocks.reduce((n,a)=>`${n} ${a.text}`,"");return u("div",{children:r})}catch{return u("div",{children:e})}},Kr=({text:e,useRichTextStyle:t,perfEnabled:r,isDisabled:n,compact:a,configResponsiveImageHandler:o})=>l.domElementHelper.canUseDom()?WC(e)?I(At,{configResponsiveImageHandler:o,children:[u($i,{}),u("section",{className:re.default("u-Editor__root",{"u-Editor__compact":a}),children:u(p.Editor,{onChange:()=>null,editorState:NC(e),blockStyleFn:Ai({isDisabled:n,useRichTextStyle:t,compact:a}),blockRenderMap:Jr,readOnly:!0})})]}):u(At,{configResponsiveImageHandler:o,children:u(Or,{html:e,perfEnabled:r,useRichTextStyle:t})}):jC(e);Kr.propTypes={text:h.default.oneOfType([h.default.object,h.default.string]).isRequired,useRichTextStyle:h.default.bool,isDisabled:h.default.bool,perfEnabled:h.default.bool,compact:h.default.bool},Kr.defaultProps={useRichTextStyle:!1,isDisabled:!1,perfEnabled:!1,compact:!1};const kC=xe.createGlobalStyle`
  .DraftEditor-wrapper {
      .public-DraftEditorPlaceholder-root {
        ${l.TYPOGRAPHY.fontStyles.bold};
        font-size: ${l.pxToRem(28)};
        @media (min-width: ${l.pxToRem(l.ScreenConfig.M.min)}) {
          font-size: ${l.pxToRem(36)};
        }
        @media (min-width: ${l.pxToRem(l.ScreenConfig.L.min)}) {
          font-size: ${l.pxToRem(48)};
        }
      }
  }
  .DraftEditor-editorContainer__title {
    ${l.TYPOGRAPHY.fontStyles.bold};
    font-size: ${l.pxToRem(28)};
    @media (min-width: ${l.pxToRem(l.ScreenConfig.M.min)}) {
      font-size: ${l.pxToRem(36)};
    }
    @media (min-width: ${l.pxToRem(l.ScreenConfig.L.min)}) {
      font-size: ${l.pxToRem(48)};
    }
  }
`,Ur=({onFocus:e,onBlur:t,onChange:r,initialValue:n,placeholder:a})=>{const[o,i]=_.useState(p.EditorState.createEmpty());return _.useEffect(()=>{i(ui(n))},[n]),I("div",{className:"DraftEditor-wrapper",children:[u(kC,{}),u(p.Editor,{editorState:o,onChange:s=>{i(s),r(ji.stateToHTML(s.getCurrentContent(),{defaultBlockTag:"span",blockStyleFn:()=>({style:{display:"block"}})}))},onFocus:e,onBlur:t,placeholder:a,blockStyleFn:()=>"DraftEditor-editorContainer__title"})]})};Ur.propTypes={initialValue:h.default.string,placeholder:h.default.string,onFocus:h.default.func,onBlur:h.default.func,onChange:h.default.func},Ur.defaultProps={initalValue:"",placeholder:"",onFocus:()=>null,onBlur:()=>null,onChange:()=>null};const GC={button_link:{title:"Add a button",text:"Button text",url:"button URL"},link:{text:{label:"Your text"},title:"Add a link",error:"This link seems incorrect",button:{delete:"Delete"}},controls:{format_bold:"Bold",activated_format_bold:"Bold (activated)",format_italic:"Italic",activated_format_italic:"Italic (activated)",format_list_bulleted:"Add a list",activated_format_list_bulleted:"Add a list (activated)",["k-u-align-left"]:"Left Alignment",["activated_k-u-align-left"]:"Left Alignment (activated)",["k-u-align-center"]:"Alignment in the center",["activated_k-u-align-center"]:"Alignment in the center (activated)",["k-u-align-right"]:"Right Alignment",["activated_k-u-align-right"]:"Right Alignment (activated)",image:"Add an image",activated_image:"Add an image (activated)",video:"Add a video",activated_video:"Add a video (activated)",link:"Add a link",activated_link:"Add a link (activated)",quote:"Add a quote",activated_quote:"Add a quote (activated)"},image_upload:{title:"Insert a picture",button_title:"Insert a picture",button_file:"From my computer",button_url:"From a URL",modify_image:"Change image",modify_label:"Modify the image description",add_label:"Add a description to the image",label:"URL:",url:"URL:",preview:"Preview",upload:"Select a file on your computer",max_size:"The size of your image exceeds 5 MB",dimension_error:"Image dimensions too big (1000x4000 max)",description:{title:"Image description",label:I("span",{children:["Image description ",u("span",{className:"k-u-weight-light",children:"(optional)"})]}),placeholder:'Ex: Team photo "For us, cycling is freedom". ',helper:"Write a brief description of your image to make your content accessible to people with visual disabilities. Write the minimum text necessary to understand the context accurately (title, quote, graphic, description of the (title, quote, graphic, description of the image...). If your image is purely decorative, you can skip this step."},help_file:{formats:"Available formats: jpg, jpeg, gif, png, bmp",width:"Maximum weight: 5 MB",size:"Maximum width and height: 1000x4000 pixels"}},image:{invalid_url:"Your url doesn't seem correct",invalid_extension:"The format of your image is not supported",max_size:"The size of your image exceeds 5 MB"},media_upload:{title:"Insert a media"},video:{problem:"An error occurred while loading the content. Please try again",invalid_url:"Your url doesn't seem correct"},submit:"Validate",form:{tooltip_action_label:"More informations",button_loading:"Loading"}},zr=({onInit:e,translations:t,configResponsiveImageHandler:r,children:n})=>(_.useEffect(()=>{e()},[]),u(At,{translations:j(j({},GC),t),configResponsiveImageHandler:r,children:n})),Hr={props:{onInit:h.default.func,configResponsiveImageHandler:h.default.shape({}),translations:h.default.shape()},defaultProps:{onInit:()=>null,configResponsiveImageHandler:{},translations:{}}};zr.propTypes=Hr.props,zr.defaultProps=Hr.defaultProps,Object.defineProperty(C,"convertToRaw",{enumerable:!0,get:function(){return p.convertToRaw}}),Object.defineProperty(C,"convertToHTML",{enumerable:!0,get:function(){return _t.convertToHTML}}),C.Controls=z,C.Displayer=Kr,C.Editor=zr,C.Playground=Mr,C.Title=Ur,C.editorPropTypes=Hr,C.getJSONContent=pC,C.isEditorEmpty=_C,Object.defineProperty(C,"__esModule",{value:!0}),C[Symbol.toStringTag]="Module"});
