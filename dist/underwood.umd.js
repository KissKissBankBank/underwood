var bw=Object.defineProperty,$w=Object.defineProperties;var Aw=Object.getOwnPropertyDescriptors;var bt=Object.getOwnPropertySymbols;var ji=Object.prototype.hasOwnProperty,ki=Object.prototype.propertyIsEnumerable;var Wi=(C,h,K)=>h in C?bw(C,h,{enumerable:!0,configurable:!0,writable:!0,value:K}):C[h]=K,N=(C,h)=>{for(var K in h||(h={}))ji.call(h,K)&&Wi(C,K,h[K]);if(bt)for(var K of bt(h))ki.call(h,K)&&Wi(C,K,h[K]);return C},we=(C,h)=>$w(C,Aw(h));var xe=(C,h)=>{var K={};for(var _ in C)ji.call(C,_)&&h.indexOf(_)<0&&(K[_]=C[_]);if(C!=null&&bt)for(var _ of bt(C))h.indexOf(_)<0&&ki.call(C,_)&&(K[_]=C[_]);return K};(function(C,h){typeof exports=="object"&&typeof module!="undefined"?h(exports,require("draft-js"),require("prop-types"),require("react"),require("@kisskissbankbank/kitten"),require("classnames"),require("styled-components"),require("immutable"),require("formik"),require("linkify-it"),require("tlds"),require("yup"),require("qs"),require("draft-convert"),require("draft-js-export-html")):typeof define=="function"&&define.amd?define(["exports","draft-js","prop-types","react","@kisskissbankbank/kitten","classnames","styled-components","immutable","formik","linkify-it","tlds","yup","qs","draft-convert","draft-js-export-html"],h):(C=typeof globalThis!="undefined"?globalThis:C||self,h(C.Underwood={},C.DraftJS,C.PropTypes,C.React,C.Kitten,C.classnames,C.styled,C.Immutable,C.Formik,C.linkifyIt,C.tlds,C.Yup,C.qs,C.DraftConvert,C.DraftJsExportHtml))})(this,function(C,h,K,_,l,Gi,Re,We,Y,Ki,Ui,zi,Hi,$t,qi){"use strict";function de(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function Yi(e){if(e&&e.__esModule)return e;var t={__proto__:null,[Symbol.toStringTag]:"Module"};return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var y=de(K),Vr=de(_),ne=de(Gi),W=de(Re),At=de(Ki),St=de(Ui),je=Yi(zi),Vi=de(Hi),ke=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ge={exports:{}},Ie={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Xr=Object.getOwnPropertySymbols,Xi=Object.prototype.hasOwnProperty,Qi=Object.prototype.propertyIsEnumerable;function Zi(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Ji(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Ji();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Vr.default,Qr=60103;if(Ie.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var Zr=Symbol.for;Qr=Zr("react.element"),Ie.Fragment=Zr("react.fragment")}var ts=es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rs=Object.prototype.hasOwnProperty,ns={key:!0,ref:!0,__self:!0,__source:!0};function Jr(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)rs.call(t,n)&&!ns.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Qr,type:e,key:o,ref:i,props:a,_owner:ts.current}}Ie.jsx=Jr,Ie.jsxs=Jr,Ge.exports=Ie;const u=Ge.exports.jsx,I=Ge.exports.jsxs,V=Ge.exports.Fragment,en={editorState:h.EditorState.createEmpty(),focus:!1,editorRef:null,disabled:!1},M=_.createContext(en),as=(e,t)=>{switch(t.type){case"update":case"focus":return N(N({},e),t)}},Tt=({translations:e,configResponsiveImageHandler:t,children:r})=>u(M.Provider,{value:_.useReducer(as,we(N({},en),{translations:e,configResponsiveImageHandler:t})),children:r}),F=e=>({type:"update",editorState:e}),os=e=>({type:"update",editorRef:e}),Et=e=>({type:"update",disabled:e}),tn=e=>({type:"focus",focus:e}),rn=h.DefaultDraftBlockRenderMap.merge(We.Map({"header-one":{element:"span",wrapper:u(l.Title,{tag:"h1",modifier:"secondary",noMargin:!0,className:"k-u-margin-bottom-singleHalf k-u-margin-bottom-double@s-up"})},"header-two":{element:"span",wrapper:u(l.Title,{tag:"h2",modifier:"tertiary",noMargin:!0,className:"k-u-margin-bottom-singleHalf k-u-margin-bottom-double@l-up"})},"header-three":{element:"span",wrapper:u(l.Title,{tag:"h3",modifier:"quaternary",noMargin:!0,className:"k-u-margin-bottom-singleHalf"})},"header-four":{element:"span",wrapper:u(l.Title,{tag:"h4",modifier:"quinary",noMargin:!0,className:"k-u-margin-bottom-single k-u-margin-bottom-singleHalf@s-up"})}}));var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});var nn=Ct.sanitizeUrl=void 0,is=/^([^\w]*)(javascript|data|vbscript)/im,ss=/&#(\w+)(^\w|;)?/g,ls=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,cs=/^([^:]+):/gm,us=[".","/"];function ds(e){return us.indexOf(e[0])>-1}function fs(e){return e.replace(ss,function(t,r){return String.fromCharCode(r)})}function gs(e){var t=fs(e||"").replace(ls,"").trim();if(!t)return"about:blank";if(ds(t))return t;var r=t.match(cs);if(!r)return t;var n=r[0];return is.test(n)?"about:blank":t}nn=Ct.sanitizeUrl=gs;var an={};(function(e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={"1":["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],"2":["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],"3":["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],"4":["fill","setWith","updateWith"]},e.aryRearg={"2":[1,0],"3":[2,0,1],"4":[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,r=e.aliasToReal,n={};for(var a in r){var o=r[a];t.call(n,o)?n[o].push(a):n[o]=[a]}return n}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(an);var Q={},G=an,ps=Q,on=Array.prototype.push;function hs(e,t){return t==2?function(r,n){return e.apply(void 0,arguments)}:function(r){return e.apply(void 0,arguments)}}function wt(e,t){return t==2?function(r,n){return e(r,n)}:function(r){return e(r)}}function sn(e){for(var t=e?e.length:0,r=Array(t);t--;)r[t]=e[t];return r}function ys(e){return function(t){return e({},t)}}function vs(e,t){return function(){for(var r=arguments.length,n=r-1,a=Array(r);r--;)a[r]=arguments[r];var o=a[t],i=a.slice(0,t);return o&&on.apply(i,o),t!=n&&on.apply(i,a.slice(t+1)),e.apply(this,i)}}function xt(e,t){return function(){var r=arguments.length;if(!!r){for(var n=Array(r);r--;)n[r]=arguments[r];var a=n[0]=t.apply(void 0,n);return e.apply(void 0,n),a}}}function Rt(e,t,r,n){var a=typeof t=="function",o=t===Object(t);if(o&&(n=r,r=t,t=void 0),r==null)throw new TypeError;n||(n={});var i={cap:"cap"in n?n.cap:!0,curry:"curry"in n?n.curry:!0,fixed:"fixed"in n?n.fixed:!0,immutable:"immutable"in n?n.immutable:!0,rearg:"rearg"in n?n.rearg:!0},s=a?r:ps,c="curry"in n&&n.curry,d="fixed"in n&&n.fixed,f="rearg"in n&&n.rearg,g=a?r.runInContext():void 0,p=a?r:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},v=p.ary,E=p.assign,b=p.clone,$=p.curry,T=p.forEach,w=p.isArray,P=p.isError,O=p.isFunction,j=p.isWeakMap,k=p.keys,B=p.rearg,re=p.toInteger,dw=p.toPath,Li=k(G.aryMethod),fw={castArray:function(S){return function(){var m=arguments[0];return w(m)?S(sn(m)):S.apply(void 0,arguments)}},iteratee:function(S){return function(){var m=arguments[0],A=arguments[1],x=S(m,A),R=x.length;return i.cap&&typeof A=="number"?(A=A>2?A-2:1,R&&R<=A?x:wt(x,A)):x}},mixin:function(S){return function(m){var A=this;if(!O(A))return S(A,Object(m));var x=[];return T(k(m),function(R){O(m[R])&&x.push([R,A.prototype[R]])}),S(A,Object(m)),T(x,function(R){var H=R[1];O(H)?A.prototype[R[0]]=H:delete A.prototype[R[0]]}),A}},nthArg:function(S){return function(m){var A=m<0?1:re(m)+1;return $(S(m),A)}},rearg:function(S){return function(m,A){var x=A?A.length:0;return $(S(m,A),x)}},runInContext:function(S){return function(m){return Rt(e,S(m),n)}}};function gw(S,m){if(i.cap){var A=G.iterateeRearg[S];if(A)return mw(m,A);var x=!a&&G.iterateeAry[S];if(x)return vw(m,x)}return m}function pw(S,m,A){return c||i.curry&&A>1?$(m,A):m}function Pi(S,m,A){if(i.fixed&&(d||!G.skipFixed[S])){var x=G.methodSpread[S],R=x&&x.start;return R===void 0?v(m,A):vs(m,R)}return m}function Mi(S,m,A){return i.rearg&&A>1&&(f||!G.skipRearg[S])?B(m,G.methodRearg[S]||G.aryRearg[A]):m}function hw(S,m){m=dw(m);for(var A=-1,x=m.length,R=x-1,H=b(Object(S)),oe=H;oe!=null&&++A<x;){var Z=m[A],ie=oe[Z];ie!=null&&!(O(ie)||P(ie)||j(ie))&&(oe[Z]=b(A==R?ie:Object(ie))),oe=oe[Z]}return H}function yw(S){return X.runInContext.convert(S)(void 0)}function Di(S,m){var A=G.aliasToReal[S]||S,x=G.remap[A]||A,R=n;return function(H){var oe=a?g:p,Z=a?g[x]:m,ie=E(E({},R),H);return Rt(oe,A,Z,ie)}}function vw(S,m){return Bi(S,function(A){return typeof A=="function"?wt(A,m):A})}function mw(S,m){return Bi(S,function(A){var x=m.length;return hs(B(wt(A,x),m),x)})}function Bi(S,m){return function(){var A=arguments.length;if(!A)return S();for(var x=Array(A);A--;)x[A]=arguments[A];var R=i.rearg?0:A-1;return x[R]=m(x[R]),S.apply(void 0,x)}}function Fi(S,m,A){var x,R=G.aliasToReal[S]||S,H=m,oe=fw[R];return oe?H=oe(m):i.immutable&&(G.mutate.array[R]?H=xt(m,sn):G.mutate.object[R]?H=xt(m,ys(m)):G.mutate.set[R]&&(H=xt(m,hw))),T(Li,function(Z){return T(G.aryMethod[Z],function(ie){if(R==ie){var Ni=G.methodSpread[R],_w=Ni&&Ni.afterRearg;return x=_w?Pi(R,Mi(R,H,Z),Z):Mi(R,Pi(R,H,Z),Z),x=gw(R,x),x=pw(R,x,Z),!1}}),!x}),x||(x=H),x==m&&(x=c?$(x,1):function(){return m.apply(this,arguments)}),x.convert=Di(R,m),x.placeholder=m.placeholder=A,x}if(!o)return Fi(t,r,s);var X=r,Ne=[];return T(Li,function(S){T(G.aryMethod[S],function(m){var A=X[G.remap[m]||m];A&&Ne.push([m,Fi(m,A,X)])})}),T(k(X),function(S){var m=X[S];if(typeof m=="function"){for(var A=Ne.length;A--;)if(Ne[A][0]==S)return;m.convert=Di(S,m),Ne.push([S,m])}}),T(Ne,function(S){X[S[0]]=S[1]}),X.convert=yw,X.placeholder=X,T(k(X),function(S){T(G.realToAlias[S]||[],function(m){X[m]=X[S]})}),X}var ms=Rt;function _s(e){return e}var It=_s,bs=typeof ke=="object"&&ke&&ke.Object===Object&&ke,ln=bs,$s=ln,As=typeof self=="object"&&self&&self.Object===Object&&self,Ss=$s||As||Function("return this")(),q=Ss,Ts=q,Es=Ts.Symbol,me=Es,cn=me,un=Object.prototype,Cs=un.hasOwnProperty,ws=un.toString,Oe=cn?cn.toStringTag:void 0;function xs(e){var t=Cs.call(e,Oe),r=e[Oe];try{e[Oe]=void 0;var n=!0}catch{}var a=ws.call(e);return n&&(t?e[Oe]=r:delete e[Oe]),a}var Rs=xs,Is=Object.prototype,Os=Is.toString;function Ls(e){return Os.call(e)}var Ps=Ls,dn=me,Ms=Rs,Ds=Ps,Bs="[object Null]",Fs="[object Undefined]",fn=dn?dn.toStringTag:void 0;function Ns(e){return e==null?e===void 0?Fs:Bs:fn&&fn in Object(e)?Ms(e):Ds(e)}var fe=Ns;function Ws(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var se=Ws,js=fe,ks=se,Gs="[object AsyncFunction]",Ks="[object Function]",Us="[object GeneratorFunction]",zs="[object Proxy]";function Hs(e){if(!ks(e))return!1;var t=js(e);return t==Ks||t==Us||t==Gs||t==zs}var Ot=Hs,qs=q,Ys=qs["__core-js_shared__"],Vs=Ys,Lt=Vs,gn=function(){var e=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xs(e){return!!gn&&gn in e}var Qs=Xs,Zs=Function.prototype,Js=Zs.toString;function el(e){if(e!=null){try{return Js.call(e)}catch{}try{return e+""}catch{}}return""}var pn=el,tl=Ot,rl=Qs,nl=se,al=pn,ol=/[\\^$.*+?()[\]{}|]/g,il=/^\[object .+?Constructor\]$/,sl=Function.prototype,ll=Object.prototype,cl=sl.toString,ul=ll.hasOwnProperty,dl=RegExp("^"+cl.call(ul).replace(ol,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fl(e){if(!nl(e)||rl(e))return!1;var t=tl(e)?dl:il;return t.test(al(e))}var gl=fl;function pl(e,t){return e==null?void 0:e[t]}var hl=pl,yl=gl,vl=hl;function ml(e,t){var r=vl(e,t);return yl(r)?r:void 0}var ge=ml,_l=ge,bl=q,$l=_l(bl,"WeakMap"),hn=$l,yn=hn,Al=yn&&new yn,vn=Al,Sl=It,mn=vn,Tl=mn?function(e,t){return mn.set(e,t),e}:Sl,_n=Tl,El=se,bn=Object.create,Cl=function(){function e(){}return function(t){if(!El(t))return{};if(bn)return bn(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Ke=Cl,wl=Ke,xl=se;function Rl(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=wl(e.prototype),n=e.apply(r,t);return xl(n)?n:r}}var Ue=Rl,Il=Ue,Ol=q,Ll=1;function Pl(e,t,r){var n=t&Ll,a=Il(e);function o(){var i=this&&this!==Ol&&this instanceof o?a:e;return i.apply(n?r:this,arguments)}return o}var Ml=Pl;function Dl(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Pt=Dl,Bl=Math.max;function Fl(e,t,r,n){for(var a=-1,o=e.length,i=r.length,s=-1,c=t.length,d=Bl(o-i,0),f=Array(c+d),g=!n;++s<c;)f[s]=t[s];for(;++a<i;)(g||a<o)&&(f[r[a]]=e[a]);for(;d--;)f[s++]=e[a++];return f}var $n=Fl,Nl=Math.max;function Wl(e,t,r,n){for(var a=-1,o=e.length,i=-1,s=r.length,c=-1,d=t.length,f=Nl(o-s,0),g=Array(f+d),p=!n;++a<f;)g[a]=e[a];for(var v=a;++c<d;)g[v+c]=t[c];for(;++i<s;)(p||a<o)&&(g[v+r[i]]=e[a++]);return g}var An=Wl;function jl(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var kl=jl;function Gl(){}var Mt=Gl,Kl=Ke,Ul=Mt,zl=4294967295;function ze(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=zl,this.__views__=[]}ze.prototype=Kl(Ul.prototype),ze.prototype.constructor=ze;var Dt=ze;function Hl(){}var Sn=Hl,Tn=vn,ql=Sn,Yl=Tn?function(e){return Tn.get(e)}:ql,Bt=Yl,Vl={},Xl=Vl,En=Xl,Ql=Object.prototype,Zl=Ql.hasOwnProperty;function Jl(e){for(var t=e.name+"",r=En[t],n=Zl.call(En,t)?r.length:0;n--;){var a=r[n],o=a.func;if(o==null||o==e)return a.name}return t}var Cn=Jl,ec=Ke,tc=Mt;function He(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}He.prototype=ec(tc.prototype),He.prototype.constructor=He;var Ft=He,rc=Array.isArray,U=rc;function nc(e){return e!=null&&typeof e=="object"}var J=nc;function ac(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var qe=ac,oc=Dt,ic=Ft,sc=qe;function lc(e){if(e instanceof oc)return e.clone();var t=new ic(e.__wrapped__,e.__chain__);return t.__actions__=sc(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var cc=lc,uc=Dt,wn=Ft,dc=Mt,fc=U,gc=J,pc=cc,hc=Object.prototype,yc=hc.hasOwnProperty;function Ye(e){if(gc(e)&&!fc(e)&&!(e instanceof uc)){if(e instanceof wn)return e;if(yc.call(e,"__wrapped__"))return pc(e)}return new wn(e)}Ye.prototype=dc.prototype,Ye.prototype.constructor=Ye;var vc=Ye,mc=Dt,_c=Bt,bc=Cn,$c=vc;function Ac(e){var t=bc(e),r=$c[t];if(typeof r!="function"||!(t in mc.prototype))return!1;if(e===r)return!0;var n=_c(r);return!!n&&e===n[0]}var xn=Ac,Sc=800,Tc=16,Ec=Date.now;function Cc(e){var t=0,r=0;return function(){var n=Ec(),a=Tc-(n-r);if(r=n,a>0){if(++t>=Sc)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Rn=Cc,wc=_n,xc=Rn,Rc=xc(wc),In=Rc,Ic=/\{\n\/\* \[wrapped with (.+)\] \*/,Oc=/,? & /;function Lc(e){var t=e.match(Ic);return t?t[1].split(Oc):[]}var Pc=Lc,Mc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Dc(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Mc,`{
/* [wrapped with `+t+`] */
`)}var Bc=Dc;function Fc(e){return function(){return e}}var Nc=Fc,Wc=ge,jc=function(){try{var e=Wc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),On=jc,kc=Nc,Ln=On,Gc=It,Kc=Ln?function(e,t){return Ln(e,"toString",{configurable:!0,enumerable:!1,value:kc(t),writable:!0})}:Gc,Uc=Kc,zc=Uc,Hc=Rn,qc=Hc(zc),Pn=qc;function Yc(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Nt=Yc;function Vc(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Xc=Vc;function Qc(e){return e!==e}var Zc=Qc;function Jc(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var eu=Jc,tu=Xc,ru=Zc,nu=eu;function au(e,t,r){return t===t?nu(e,t,r):tu(e,ru,r)}var Wt=au,ou=Wt;function iu(e,t){var r=e==null?0:e.length;return!!r&&ou(e,t,0)>-1}var Mn=iu,su=Nt,lu=Mn,cu=1,uu=2,du=8,fu=16,gu=32,pu=64,hu=128,yu=256,vu=512,mu=[["ary",hu],["bind",cu],["bindKey",uu],["curry",du],["curryRight",fu],["flip",vu],["partial",gu],["partialRight",pu],["rearg",yu]];function _u(e,t){return su(mu,function(r){var n="_."+r[0];t&r[1]&&!lu(e,n)&&e.push(n)}),e.sort()}var bu=_u,$u=Pc,Au=Bc,Su=Pn,Tu=bu;function Eu(e,t,r){var n=t+"";return Su(e,Au(n,Tu($u(n),r)))}var Dn=Eu,Cu=xn,wu=In,xu=Dn,Ru=1,Iu=2,Ou=4,Lu=8,Bn=32,Fn=64;function Pu(e,t,r,n,a,o,i,s,c,d){var f=t&Lu,g=f?i:void 0,p=f?void 0:i,v=f?o:void 0,E=f?void 0:o;t|=f?Bn:Fn,t&=~(f?Fn:Bn),t&Ou||(t&=~(Ru|Iu));var b=[e,t,a,v,g,E,p,s,c,d],$=r.apply(void 0,b);return Cu(e)&&wu($,b),$.placeholder=n,xu($,e,t)}var Nn=Pu;function Mu(e){var t=e;return t.placeholder}var Wn=Mu,Du=9007199254740991,Bu=/^(?:0|[1-9]\d*)$/;function Fu(e,t){var r=typeof e;return t=t==null?Du:t,!!t&&(r=="number"||r!="symbol"&&Bu.test(e))&&e>-1&&e%1==0&&e<t}var Ve=Fu,Nu=qe,Wu=Ve,ju=Math.min;function ku(e,t){for(var r=e.length,n=ju(t.length,r),a=Nu(e);n--;){var o=t[n];e[n]=Wu(o,r)?a[o]:void 0}return e}var Gu=ku,jn="__lodash_placeholder__";function Ku(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var i=e[r];(i===t||i===jn)&&(e[r]=jn,o[a++]=r)}return o}var jt=Ku,Uu=$n,zu=An,Hu=kl,kn=Ue,qu=Nn,Yu=Wn,Vu=Gu,Xu=jt,Qu=q,Zu=1,Ju=2,ed=8,td=16,rd=128,nd=512;function Gn(e,t,r,n,a,o,i,s,c,d){var f=t&rd,g=t&Zu,p=t&Ju,v=t&(ed|td),E=t&nd,b=p?void 0:kn(e);function $(){for(var T=arguments.length,w=Array(T),P=T;P--;)w[P]=arguments[P];if(v)var O=Yu($),j=Hu(w,O);if(n&&(w=Uu(w,n,a,v)),o&&(w=zu(w,o,i,v)),T-=j,v&&T<d){var k=Xu(w,O);return qu(e,t,Gn,$.placeholder,r,w,k,s,c,d-T)}var B=g?r:this,re=p?B[e]:e;return T=w.length,s?w=Vu(w,s):E&&T>1&&w.reverse(),f&&c<T&&(w.length=c),this&&this!==Qu&&this instanceof $&&(re=b||kn(re)),re.apply(B,w)}return $}var Kn=Gn,ad=Pt,od=Ue,id=Kn,sd=Nn,ld=Wn,cd=jt,ud=q;function dd(e,t,r){var n=od(e);function a(){for(var o=arguments.length,i=Array(o),s=o,c=ld(a);s--;)i[s]=arguments[s];var d=o<3&&i[0]!==c&&i[o-1]!==c?[]:cd(i,c);if(o-=d.length,o<r)return sd(e,t,id,a.placeholder,void 0,i,d,void 0,void 0,r-o);var f=this&&this!==ud&&this instanceof a?n:e;return ad(f,this,i)}return a}var fd=dd,gd=Pt,pd=Ue,hd=q,yd=1;function vd(e,t,r,n){var a=t&yd,o=pd(e);function i(){for(var s=-1,c=arguments.length,d=-1,f=n.length,g=Array(f+c),p=this&&this!==hd&&this instanceof i?o:e;++d<f;)g[d]=n[d];for(;c--;)g[d++]=arguments[++s];return gd(p,a?r:this,g)}return i}var md=vd,_d=$n,bd=An,Un=jt,zn="__lodash_placeholder__",kt=1,$d=2,Ad=4,Hn=8,Le=128,qn=256,Sd=Math.min;function Td(e,t){var r=e[1],n=t[1],a=r|n,o=a<(kt|$d|Le),i=n==Le&&r==Hn||n==Le&&r==qn&&e[7].length<=t[8]||n==(Le|qn)&&t[7].length<=t[8]&&r==Hn;if(!(o||i))return e;n&kt&&(e[2]=t[2],a|=r&kt?0:Ad);var s=t[3];if(s){var c=e[3];e[3]=c?_d(c,s,t[4]):s,e[4]=c?Un(e[3],zn):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?bd(c,s,t[6]):s,e[6]=c?Un(e[5],zn):t[6]),s=t[7],s&&(e[7]=s),n&Le&&(e[8]=e[8]==null?t[8]:Sd(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}var Ed=Td,Cd=/\s/;function wd(e){for(var t=e.length;t--&&Cd.test(e.charAt(t)););return t}var xd=wd,Rd=xd,Id=/^\s+/;function Od(e){return e&&e.slice(0,Rd(e)+1).replace(Id,"")}var Yn=Od,Ld=fe,Pd=J,Md="[object Symbol]";function Dd(e){return typeof e=="symbol"||Pd(e)&&Ld(e)==Md}var Pe=Dd,Bd=Yn,Vn=se,Fd=Pe,Xn=0/0,Nd=/^[-+]0x[0-9a-f]+$/i,Wd=/^0b[01]+$/i,jd=/^0o[0-7]+$/i,kd=parseInt;function Gd(e){if(typeof e=="number")return e;if(Fd(e))return Xn;if(Vn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Vn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Bd(e);var r=Wd.test(e);return r||jd.test(e)?kd(e.slice(2),r?2:8):Nd.test(e)?Xn:+e}var Kd=Gd,Ud=Kd,Qn=1/0,zd=17976931348623157e292;function Hd(e){if(!e)return e===0?e:0;if(e=Ud(e),e===Qn||e===-Qn){var t=e<0?-1:1;return t*zd}return e===e?e:0}var qd=Hd,Yd=qd;function Vd(e){var t=Yd(e),r=t%1;return t===t?r?t-r:t:0}var Zn=Vd,Xd=_n,Qd=Ml,Zd=fd,Jd=Kn,ef=md,tf=Bt,rf=Ed,nf=In,af=Dn,Jn=Zn,of="Expected a function",ea=1,sf=2,Gt=8,Kt=16,Ut=32,ta=64,ra=Math.max;function lf(e,t,r,n,a,o,i,s){var c=t&sf;if(!c&&typeof e!="function")throw new TypeError(of);var d=n?n.length:0;if(d||(t&=~(Ut|ta),n=a=void 0),i=i===void 0?i:ra(Jn(i),0),s=s===void 0?s:Jn(s),d-=a?a.length:0,t&ta){var f=n,g=a;n=a=void 0}var p=c?void 0:tf(e),v=[e,t,r,n,a,f,g,o,i,s];if(p&&rf(v,p),e=v[0],t=v[1],r=v[2],n=v[3],a=v[4],s=v[9]=v[9]===void 0?c?0:e.length:ra(v[9]-d,0),!s&&t&(Gt|Kt)&&(t&=~(Gt|Kt)),!t||t==ea)var E=Qd(e,t,r);else t==Gt||t==Kt?E=Zd(e,t,s):(t==Ut||t==(ea|Ut))&&!a.length?E=ef(e,t,r,n):E=Jd.apply(void 0,v);var b=p?Xd:nf;return af(b(E,v),e,t)}var zt=lf,cf=zt,uf=128;function df(e,t,r){return t=r?void 0:t,t=e&&t==null?e.length:t,cf(e,uf,void 0,void 0,void 0,void 0,t)}var ff=df,na=On;function gf(e,t,r){t=="__proto__"&&na?na(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var aa=gf;function pf(e,t){return e===t||e!==e&&t!==t}var Ht=pf,hf=aa,yf=Ht,vf=Object.prototype,mf=vf.hasOwnProperty;function _f(e,t,r){var n=e[t];(!(mf.call(e,t)&&yf(n,r))||r===void 0&&!(t in e))&&hf(e,t,r)}var qt=_f,bf=qt,$f=aa;function Af(e,t,r,n){var a=!r;r||(r={});for(var o=-1,i=t.length;++o<i;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;c===void 0&&(c=e[s]),a?$f(r,s,c):bf(r,s,c)}return r}var Me=Af;function Sf(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Tf=Sf,Ef=fe,Cf=J,wf="[object Arguments]";function xf(e){return Cf(e)&&Ef(e)==wf}var Rf=xf,oa=Rf,If=J,ia=Object.prototype,Of=ia.hasOwnProperty,Lf=ia.propertyIsEnumerable,Pf=oa(function(){return arguments}())?oa:function(e){return If(e)&&Of.call(e,"callee")&&!Lf.call(e,"callee")},Xe=Pf,_e={exports:{}};function Mf(){return!1}var Df=Mf;(function(e,t){var r=q,n=Df,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,c=s?s.isBuffer:void 0,d=c||n;e.exports=d})(_e,_e.exports);var Bf=9007199254740991;function Ff(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Bf}var Yt=Ff,Nf=fe,Wf=Yt,jf=J,kf="[object Arguments]",Gf="[object Array]",Kf="[object Boolean]",Uf="[object Date]",zf="[object Error]",Hf="[object Function]",qf="[object Map]",Yf="[object Number]",Vf="[object Object]",Xf="[object RegExp]",Qf="[object Set]",Zf="[object String]",Jf="[object WeakMap]",eg="[object ArrayBuffer]",tg="[object DataView]",rg="[object Float32Array]",ng="[object Float64Array]",ag="[object Int8Array]",og="[object Int16Array]",ig="[object Int32Array]",sg="[object Uint8Array]",lg="[object Uint8ClampedArray]",cg="[object Uint16Array]",ug="[object Uint32Array]",D={};D[rg]=D[ng]=D[ag]=D[og]=D[ig]=D[sg]=D[lg]=D[cg]=D[ug]=!0,D[kf]=D[Gf]=D[eg]=D[Kf]=D[tg]=D[Uf]=D[zf]=D[Hf]=D[qf]=D[Yf]=D[Vf]=D[Xf]=D[Qf]=D[Zf]=D[Jf]=!1;function dg(e){return jf(e)&&Wf(e.length)&&!!D[Nf(e)]}var fg=dg;function gg(e){return function(t){return e(t)}}var Vt=gg,De={exports:{}};(function(e,t){var r=ln,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(De,De.exports);var pg=fg,hg=Vt,sa=De.exports,la=sa&&sa.isTypedArray,yg=la?hg(la):pg,Xt=yg,vg=Tf,mg=Xe,_g=U,bg=_e.exports,$g=Ve,Ag=Xt,Sg=Object.prototype,Tg=Sg.hasOwnProperty;function Eg(e,t){var r=_g(e),n=!r&&mg(e),a=!r&&!n&&bg(e),o=!r&&!n&&!a&&Ag(e),i=r||n||a||o,s=i?vg(e.length,String):[],c=s.length;for(var d in e)(t||Tg.call(e,d))&&!(i&&(d=="length"||a&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||$g(d,c)))&&s.push(d);return s}var ca=Eg,Cg=Object.prototype;function wg(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Cg;return e===r}var Qe=wg;function xg(e,t){return function(r){return e(t(r))}}var ua=xg,Rg=ua,Ig=Rg(Object.keys,Object),Og=Ig,Lg=Qe,Pg=Og,Mg=Object.prototype,Dg=Mg.hasOwnProperty;function Bg(e){if(!Lg(e))return Pg(e);var t=[];for(var r in Object(e))Dg.call(e,r)&&r!="constructor"&&t.push(r);return t}var Qt=Bg,Fg=Ot,Ng=Yt;function Wg(e){return e!=null&&Ng(e.length)&&!Fg(e)}var Ze=Wg,jg=ca,kg=Qt,Gg=Ze;function Kg(e){return Gg(e)?jg(e):kg(e)}var Be=Kg,Ug=Me,zg=Be;function Hg(e,t){return e&&Ug(t,zg(t),e)}var da=Hg;function qg(){this.__data__=[],this.size=0}var Yg=qg,Vg=Ht;function Xg(e,t){for(var r=e.length;r--;)if(Vg(e[r][0],t))return r;return-1}var Je=Xg,Qg=Je,Zg=Array.prototype,Jg=Zg.splice;function ep(e){var t=this.__data__,r=Qg(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Jg.call(t,r,1),--this.size,!0}var tp=ep,rp=Je;function np(e){var t=this.__data__,r=rp(t,e);return r<0?void 0:t[r][1]}var ap=np,op=Je;function ip(e){return op(this.__data__,e)>-1}var sp=ip,lp=Je;function cp(e,t){var r=this.__data__,n=lp(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var up=cp,dp=Yg,fp=tp,gp=ap,pp=sp,hp=up;function be(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}be.prototype.clear=dp,be.prototype.delete=fp,be.prototype.get=gp,be.prototype.has=pp,be.prototype.set=hp;var et=be,yp=et;function vp(){this.__data__=new yp,this.size=0}var mp=vp;function _p(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var bp=_p;function $p(e){return this.__data__.get(e)}var Ap=$p;function Sp(e){return this.__data__.has(e)}var Tp=Sp,Ep=ge,Cp=q,wp=Ep(Cp,"Map"),Zt=wp,xp=ge,Rp=xp(Object,"create"),tt=Rp,fa=tt;function Ip(){this.__data__=fa?fa(null):{},this.size=0}var Op=Ip;function Lp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Pp=Lp,Mp=tt,Dp="__lodash_hash_undefined__",Bp=Object.prototype,Fp=Bp.hasOwnProperty;function Np(e){var t=this.__data__;if(Mp){var r=t[e];return r===Dp?void 0:r}return Fp.call(t,e)?t[e]:void 0}var Wp=Np,jp=tt,kp=Object.prototype,Gp=kp.hasOwnProperty;function Kp(e){var t=this.__data__;return jp?t[e]!==void 0:Gp.call(t,e)}var Up=Kp,zp=tt,Hp="__lodash_hash_undefined__";function qp(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zp&&t===void 0?Hp:t,this}var Yp=qp,Vp=Op,Xp=Pp,Qp=Wp,Zp=Up,Jp=Yp;function $e(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$e.prototype.clear=Vp,$e.prototype.delete=Xp,$e.prototype.get=Qp,$e.prototype.has=Zp,$e.prototype.set=Jp;var eh=$e,ga=eh,th=et,rh=Zt;function nh(){this.size=0,this.__data__={hash:new ga,map:new(rh||th),string:new ga}}var ah=nh;function oh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ih=oh,sh=ih;function lh(e,t){var r=e.__data__;return sh(t)?r[typeof t=="string"?"string":"hash"]:r.map}var rt=lh,ch=rt;function uh(e){var t=ch(this,e).delete(e);return this.size-=t?1:0,t}var dh=uh,fh=rt;function gh(e){return fh(this,e).get(e)}var ph=gh,hh=rt;function yh(e){return hh(this,e).has(e)}var vh=yh,mh=rt;function _h(e,t){var r=mh(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var bh=_h,$h=ah,Ah=dh,Sh=ph,Th=vh,Eh=bh;function Ae(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ae.prototype.clear=$h,Ae.prototype.delete=Ah,Ae.prototype.get=Sh,Ae.prototype.has=Th,Ae.prototype.set=Eh;var Jt=Ae,Ch=et,wh=Zt,xh=Jt,Rh=200;function Ih(e,t){var r=this.__data__;if(r instanceof Ch){var n=r.__data__;if(!wh||n.length<Rh-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new xh(n)}return r.set(e,t),this.size=r.size,this}var Oh=Ih,Lh=et,Ph=mp,Mh=bp,Dh=Ap,Bh=Tp,Fh=Oh;function Se(e){var t=this.__data__=new Lh(e);this.size=t.size}Se.prototype.clear=Ph,Se.prototype.delete=Mh,Se.prototype.get=Dh,Se.prototype.has=Bh,Se.prototype.set=Fh;var er=Se;function Nh(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Wh=Nh,jh=se,kh=Qe,Gh=Wh,Kh=Object.prototype,Uh=Kh.hasOwnProperty;function zh(e){if(!jh(e))return Gh(e);var t=kh(e),r=[];for(var n in e)n=="constructor"&&(t||!Uh.call(e,n))||r.push(n);return r}var Hh=zh,qh=ca,Yh=Hh,Vh=Ze;function Xh(e){return Vh(e)?qh(e,!0):Yh(e)}var tr=Xh,Qh=Me,Zh=tr;function Jh(e,t){return e&&Qh(t,Zh(t),e)}var ey=Jh,rr={exports:{}};(function(e,t){var r=q,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var g=d.length,p=s?s(g):new d.constructor(g);return d.copy(p),p}e.exports=c})(rr,rr.exports);function ty(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var ry=ty;function ny(){return[]}var pa=ny,ay=ry,oy=pa,iy=Object.prototype,sy=iy.propertyIsEnumerable,ha=Object.getOwnPropertySymbols,ly=ha?function(e){return e==null?[]:(e=Object(e),ay(ha(e),function(t){return sy.call(e,t)}))}:oy,nr=ly,cy=Me,uy=nr;function dy(e,t){return cy(e,uy(e),t)}var fy=dy;function gy(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var ar=gy,py=ua,hy=py(Object.getPrototypeOf,Object),or=hy,yy=ar,vy=or,my=nr,_y=pa,by=Object.getOwnPropertySymbols,$y=by?function(e){for(var t=[];e;)yy(t,my(e)),e=vy(e);return t}:_y,ya=$y,Ay=Me,Sy=ya;function Ty(e,t){return Ay(e,Sy(e),t)}var Ey=Ty,Cy=ar,wy=U;function xy(e,t,r){var n=t(e);return wy(e)?n:Cy(n,r(e))}var va=xy,Ry=va,Iy=nr,Oy=Be;function Ly(e){return Ry(e,Oy,Iy)}var ma=Ly,Py=va,My=ya,Dy=tr;function By(e){return Py(e,Dy,My)}var ir=By,Fy=ge,Ny=q,Wy=Fy(Ny,"DataView"),jy=Wy,ky=ge,Gy=q,Ky=ky(Gy,"Promise"),Uy=Ky,zy=ge,Hy=q,qy=zy(Hy,"Set"),_a=qy,sr=jy,lr=Zt,cr=Uy,ur=_a,dr=hn,ba=fe,Te=pn,$a="[object Map]",Yy="[object Object]",Aa="[object Promise]",Sa="[object Set]",Ta="[object WeakMap]",Ea="[object DataView]",Vy=Te(sr),Xy=Te(lr),Qy=Te(cr),Zy=Te(ur),Jy=Te(dr),pe=ba;(sr&&pe(new sr(new ArrayBuffer(1)))!=Ea||lr&&pe(new lr)!=$a||cr&&pe(cr.resolve())!=Aa||ur&&pe(new ur)!=Sa||dr&&pe(new dr)!=Ta)&&(pe=function(e){var t=ba(e),r=t==Yy?e.constructor:void 0,n=r?Te(r):"";if(n)switch(n){case Vy:return Ea;case Xy:return $a;case Qy:return Aa;case Zy:return Sa;case Jy:return Ta}return t});var Ee=pe,ev=Object.prototype,tv=ev.hasOwnProperty;function rv(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&tv.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var nv=rv,av=q,ov=av.Uint8Array,Ca=ov,wa=Ca;function iv(e){var t=new e.constructor(e.byteLength);return new wa(t).set(new wa(e)),t}var fr=iv,sv=fr;function lv(e,t){var r=t?sv(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var cv=lv,uv=/\w*$/;function dv(e){var t=new e.constructor(e.source,uv.exec(e));return t.lastIndex=e.lastIndex,t}var fv=dv,xa=me,Ra=xa?xa.prototype:void 0,Ia=Ra?Ra.valueOf:void 0;function gv(e){return Ia?Object(Ia.call(e)):{}}var pv=gv,hv=fr;function yv(e,t){var r=t?hv(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var vv=yv,mv=fr,_v=cv,bv=fv,$v=pv,Av=vv,Sv="[object Boolean]",Tv="[object Date]",Ev="[object Map]",Cv="[object Number]",wv="[object RegExp]",xv="[object Set]",Rv="[object String]",Iv="[object Symbol]",Ov="[object ArrayBuffer]",Lv="[object DataView]",Pv="[object Float32Array]",Mv="[object Float64Array]",Dv="[object Int8Array]",Bv="[object Int16Array]",Fv="[object Int32Array]",Nv="[object Uint8Array]",Wv="[object Uint8ClampedArray]",jv="[object Uint16Array]",kv="[object Uint32Array]";function Gv(e,t,r){var n=e.constructor;switch(t){case Ov:return mv(e);case Sv:case Tv:return new n(+e);case Lv:return _v(e,r);case Pv:case Mv:case Dv:case Bv:case Fv:case Nv:case Wv:case jv:case kv:return Av(e,r);case Ev:return new n;case Cv:case Rv:return new n(e);case wv:return bv(e);case xv:return new n;case Iv:return $v(e)}}var Kv=Gv,Uv=Ke,zv=or,Hv=Qe;function qv(e){return typeof e.constructor=="function"&&!Hv(e)?Uv(zv(e)):{}}var Yv=qv,Vv=Ee,Xv=J,Qv="[object Map]";function Zv(e){return Xv(e)&&Vv(e)==Qv}var Jv=Zv,em=Jv,tm=Vt,Oa=De.exports,La=Oa&&Oa.isMap,rm=La?tm(La):em,nm=rm,am=Ee,om=J,im="[object Set]";function sm(e){return om(e)&&am(e)==im}var lm=sm,cm=lm,um=Vt,Pa=De.exports,Ma=Pa&&Pa.isSet,dm=Ma?um(Ma):cm,fm=dm,gm=er,pm=Nt,hm=qt,ym=da,vm=ey,mm=rr.exports,_m=qe,bm=fy,$m=Ey,Am=ma,Sm=ir,Tm=Ee,Em=nv,Cm=Kv,wm=Yv,xm=U,Rm=_e.exports,Im=nm,Om=se,Lm=fm,Pm=Be,Mm=tr,Dm=1,Bm=2,Fm=4,Da="[object Arguments]",Nm="[object Array]",Wm="[object Boolean]",jm="[object Date]",km="[object Error]",Ba="[object Function]",Gm="[object GeneratorFunction]",Km="[object Map]",Um="[object Number]",Fa="[object Object]",zm="[object RegExp]",Hm="[object Set]",qm="[object String]",Ym="[object Symbol]",Vm="[object WeakMap]",Xm="[object ArrayBuffer]",Qm="[object DataView]",Zm="[object Float32Array]",Jm="[object Float64Array]",e_="[object Int8Array]",t_="[object Int16Array]",r_="[object Int32Array]",n_="[object Uint8Array]",a_="[object Uint8ClampedArray]",o_="[object Uint16Array]",i_="[object Uint32Array]",L={};L[Da]=L[Nm]=L[Xm]=L[Qm]=L[Wm]=L[jm]=L[Zm]=L[Jm]=L[e_]=L[t_]=L[r_]=L[Km]=L[Um]=L[Fa]=L[zm]=L[Hm]=L[qm]=L[Ym]=L[n_]=L[a_]=L[o_]=L[i_]=!0,L[km]=L[Ba]=L[Vm]=!1;function nt(e,t,r,n,a,o){var i,s=t&Dm,c=t&Bm,d=t&Fm;if(r&&(i=a?r(e,n,a,o):r(e)),i!==void 0)return i;if(!Om(e))return e;var f=xm(e);if(f){if(i=Em(e),!s)return _m(e,i)}else{var g=Tm(e),p=g==Ba||g==Gm;if(Rm(e))return mm(e,s);if(g==Fa||g==Da||p&&!a){if(i=c||p?{}:wm(e),!s)return c?$m(e,vm(i,e)):bm(e,ym(i,e))}else{if(!L[g])return a?e:{};i=Cm(e,g,s)}}o||(o=new gm);var v=o.get(e);if(v)return v;o.set(e,i),Lm(e)?e.forEach(function($){i.add(nt($,t,r,$,e,o))}):Im(e)&&e.forEach(function($,T){i.set(T,nt($,t,r,T,e,o))});var E=d?c?Sm:Am:c?Mm:Pm,b=f?void 0:E(e);return pm(b||e,function($,T){b&&(T=$,$=e[T]),hm(i,T,nt($,t,r,T,e,o))}),i}var gr=nt,s_=gr,l_=4;function c_(e){return s_(e,l_)}var u_=c_,d_=zt,f_=8;function pr(e,t,r){t=r?void 0:t;var n=d_(e,f_,void 0,void 0,void 0,void 0,void 0,t);return n.placeholder=pr.placeholder,n}pr.placeholder={};var g_=pr,p_=fe,h_=or,y_=J,v_="[object Object]",m_=Function.prototype,__=Object.prototype,Na=m_.toString,b_=__.hasOwnProperty,$_=Na.call(Object);function A_(e){if(!y_(e)||p_(e)!=v_)return!1;var t=h_(e);if(t===null)return!0;var r=b_.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Na.call(r)==$_}var Wa=A_,S_=fe,T_=J,E_=Wa,C_="[object DOMException]",w_="[object Error]";function x_(e){if(!T_(e))return!1;var t=S_(e);return t==w_||t==C_||typeof e.message=="string"&&typeof e.name=="string"&&!E_(e)}var R_=x_,I_=Ee,O_=J,L_="[object WeakMap]";function P_(e){return O_(e)&&I_(e)==L_}var M_=P_,D_="__lodash_hash_undefined__";function B_(e){return this.__data__.set(e,D_),this}var F_=B_;function N_(e){return this.__data__.has(e)}var W_=N_,j_=Jt,k_=F_,G_=W_;function at(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new j_;++t<r;)this.add(e[t])}at.prototype.add=at.prototype.push=k_,at.prototype.has=G_;var ja=at;function K_(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var U_=K_;function z_(e,t){return e.has(t)}var ka=z_,H_=ja,q_=U_,Y_=ka,V_=1,X_=2;function Q_(e,t,r,n,a,o){var i=r&V_,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var g=-1,p=!0,v=r&X_?new H_:void 0;for(o.set(e,t),o.set(t,e);++g<s;){var E=e[g],b=t[g];if(n)var $=i?n(b,E,g,t,e,o):n(E,b,g,e,t,o);if($!==void 0){if($)continue;p=!1;break}if(v){if(!q_(t,function(T,w){if(!Y_(v,w)&&(E===T||a(E,T,r,n,o)))return v.push(w)})){p=!1;break}}else if(!(E===b||a(E,b,r,n,o))){p=!1;break}}return o.delete(e),o.delete(t),p}var Ga=Q_;function Z_(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var J_=Z_;function eb(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var hr=eb,Ka=me,Ua=Ca,tb=Ht,rb=Ga,nb=J_,ab=hr,ob=1,ib=2,sb="[object Boolean]",lb="[object Date]",cb="[object Error]",ub="[object Map]",db="[object Number]",fb="[object RegExp]",gb="[object Set]",pb="[object String]",hb="[object Symbol]",yb="[object ArrayBuffer]",vb="[object DataView]",za=Ka?Ka.prototype:void 0,yr=za?za.valueOf:void 0;function mb(e,t,r,n,a,o,i){switch(r){case vb:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yb:return!(e.byteLength!=t.byteLength||!o(new Ua(e),new Ua(t)));case sb:case lb:case db:return tb(+e,+t);case cb:return e.name==t.name&&e.message==t.message;case fb:case pb:return e==t+"";case ub:var s=nb;case gb:var c=n&ob;if(s||(s=ab),e.size!=t.size&&!c)return!1;var d=i.get(e);if(d)return d==t;n|=ib,i.set(e,t);var f=rb(s(e),s(t),n,a,o,i);return i.delete(e),f;case hb:if(yr)return yr.call(e)==yr.call(t)}return!1}var _b=mb,Ha=ma,bb=1,$b=Object.prototype,Ab=$b.hasOwnProperty;function Sb(e,t,r,n,a,o){var i=r&bb,s=Ha(e),c=s.length,d=Ha(t),f=d.length;if(c!=f&&!i)return!1;for(var g=c;g--;){var p=s[g];if(!(i?p in t:Ab.call(t,p)))return!1}var v=o.get(e),E=o.get(t);if(v&&E)return v==t&&E==e;var b=!0;o.set(e,t),o.set(t,e);for(var $=i;++g<c;){p=s[g];var T=e[p],w=t[p];if(n)var P=i?n(w,T,p,t,e,o):n(T,w,p,e,t,o);if(!(P===void 0?T===w||a(T,w,r,n,o):P)){b=!1;break}$||($=p=="constructor")}if(b&&!$){var O=e.constructor,j=t.constructor;O!=j&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof j=="function"&&j instanceof j)&&(b=!1)}return o.delete(e),o.delete(t),b}var Tb=Sb,vr=er,Eb=Ga,Cb=_b,wb=Tb,qa=Ee,Ya=U,Va=_e.exports,xb=Xt,Rb=1,Xa="[object Arguments]",Qa="[object Array]",ot="[object Object]",Ib=Object.prototype,Za=Ib.hasOwnProperty;function Ob(e,t,r,n,a,o){var i=Ya(e),s=Ya(t),c=i?Qa:qa(e),d=s?Qa:qa(t);c=c==Xa?ot:c,d=d==Xa?ot:d;var f=c==ot,g=d==ot,p=c==d;if(p&&Va(e)){if(!Va(t))return!1;i=!0,f=!1}if(p&&!f)return o||(o=new vr),i||xb(e)?Eb(e,t,r,n,a,o):Cb(e,t,c,r,n,a,o);if(!(r&Rb)){var v=f&&Za.call(e,"__wrapped__"),E=g&&Za.call(t,"__wrapped__");if(v||E){var b=v?e.value():e,$=E?t.value():t;return o||(o=new vr),a(b,$,r,n,o)}}return p?(o||(o=new vr),wb(e,t,r,n,a,o)):!1}var Lb=Ob,Pb=Lb,Ja=J;function eo(e,t,r,n,a){return e===t?!0:e==null||t==null||!Ja(e)&&!Ja(t)?e!==e&&t!==t:Pb(e,t,r,n,eo,a)}var mr=eo,Mb=er,Db=mr,Bb=1,Fb=2;function Nb(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var c=s[0],d=e[c],f=s[1];if(i&&s[2]){if(d===void 0&&!(c in e))return!1}else{var g=new Mb;if(n)var p=n(d,f,c,e,t,g);if(!(p===void 0?Db(f,d,Bb|Fb,n,g):p))return!1}}return!0}var Wb=Nb,jb=se;function kb(e){return e===e&&!jb(e)}var to=kb,Gb=to,Kb=Be;function Ub(e){for(var t=Kb(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Gb(a)]}return t}var zb=Ub;function Hb(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var ro=Hb,qb=Wb,Yb=zb,Vb=ro;function Xb(e){var t=Yb(e);return t.length==1&&t[0][2]?Vb(t[0][0],t[0][1]):function(r){return r===e||qb(r,e,t)}}var Qb=Xb,Zb=U,Jb=Pe,e$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t$=/^\w*$/;function r$(e,t){if(Zb(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Jb(e)?!0:t$.test(e)||!e$.test(e)||t!=null&&e in Object(t)}var _r=r$,no=Jt,n$="Expected a function";function br(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(n$);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(br.Cache||no),r}br.Cache=no;var ao=br,a$=ao,o$=500;function i$(e){var t=a$(e,function(n){return r.size===o$&&r.clear(),n}),r=t.cache;return t}var s$=i$,l$=s$,c$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u$=/\\(\\)?/g,d$=l$(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(c$,function(r,n,a,o){t.push(a?o.replace(u$,"$1"):n||r)}),t}),oo=d$;function f$(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var it=f$,io=me,g$=it,p$=U,h$=Pe,y$=1/0,so=io?io.prototype:void 0,lo=so?so.toString:void 0;function co(e){if(typeof e=="string")return e;if(p$(e))return g$(e,co)+"";if(h$(e))return lo?lo.call(e):"";var t=e+"";return t=="0"&&1/e==-y$?"-0":t}var uo=co,v$=uo;function m$(e){return e==null?"":v$(e)}var $r=m$,_$=U,b$=_r,$$=oo,A$=$r;function S$(e,t){return _$(e)?e:b$(e,t)?[e]:$$(A$(e))}var Ce=S$,T$=Pe,E$=1/0;function C$(e){if(typeof e=="string"||T$(e))return e;var t=e+"";return t=="0"&&1/e==-E$?"-0":t}var he=C$,w$=Ce,x$=he;function R$(e,t){t=w$(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[x$(t[r++])];return r&&r==n?e:void 0}var st=R$,I$=st;function O$(e,t,r){var n=e==null?void 0:I$(e,t);return n===void 0?r:n}var fo=O$;function L$(e,t){return e!=null&&t in Object(e)}var P$=L$,M$=Ce,D$=Xe,B$=U,F$=Ve,N$=Yt,W$=he;function j$(e,t,r){t=M$(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=W$(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&N$(a)&&F$(i,a)&&(B$(e)||D$(e)))}var k$=j$,G$=P$,K$=k$;function U$(e,t){return e!=null&&K$(e,t,G$)}var go=U$,z$=mr,H$=fo,q$=go,Y$=_r,V$=to,X$=ro,Q$=he,Z$=1,J$=2;function e1(e,t){return Y$(e)&&V$(t)?X$(Q$(e),t):function(r){var n=H$(r,e);return n===void 0&&n===t?q$(r,e):z$(t,n,Z$|J$)}}var t1=e1;function r1(e){return function(t){return t==null?void 0:t[e]}}var n1=r1,a1=st;function o1(e){return function(t){return a1(t,e)}}var i1=o1,s1=n1,l1=i1,c1=_r,u1=he;function d1(e){return c1(e)?s1(u1(e)):l1(e)}var f1=d1,g1=Qb,p1=t1,h1=It,y1=U,v1=f1;function m1(e){return typeof e=="function"?e:e==null?h1:typeof e=="object"?y1(e)?p1(e[0],e[1]):g1(e):v1(e)}var lt=m1,_1=gr,b1=lt,$1=1;function A1(e){return b1(typeof e=="function"?e:_1(e,$1))}var S1=A1,po=me,T1=Xe,E1=U,ho=po?po.isConcatSpreadable:void 0;function C1(e){return E1(e)||T1(e)||!!(ho&&e&&e[ho])}var w1=C1,x1=ar,R1=w1;function yo(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=R1),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?yo(s,t-1,r,n,a):x1(a,s):n||(a[a.length]=s)}return a}var I1=yo,O1=I1;function L1(e){var t=e==null?0:e.length;return t?O1(e,1):[]}var P1=L1,M1=Pt,vo=Math.max;function D1(e,t,r){return t=vo(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=vo(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),M1(e,this,s)}}var B1=D1,F1=P1,N1=B1,W1=Pn;function j1(e){return W1(N1(e,void 0,F1),e+"")}var ct=j1,k1=zt,G1=ct,K1=256,U1=G1(function(e,t){return k1(e,K1,void 0,void 0,void 0,t)}),z1=U1,H1=it,q1=qe,Y1=U,V1=Pe,X1=oo,Q1=he,Z1=$r;function J1(e){return Y1(e)?H1(e,Q1):V1(e)?[e]:q1(X1(Z1(e)))}var eA=J1,tA={ary:ff,assign:da,clone:u_,curry:g_,forEach:Nt,isArray:U,isError:R_,isFunction:Ot,isWeakMap:M_,iteratee:S1,keys:Qt,rearg:z1,toInteger:Zn,toPath:eA},rA=ms,nA=tA;function aA(e,t,r){return rA(nA,e,t,r)}var ee=aA,mo=Ft,oA=ct,iA=Bt,Ar=Cn,sA=U,_o=xn,lA="Expected a function",cA=8,uA=32,dA=128,fA=256;function gA(e){return oA(function(t){var r=t.length,n=r,a=mo.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if(typeof o!="function")throw new TypeError(lA);if(a&&!i&&Ar(o)=="wrapper")var i=new mo([],!0)}for(n=i?n:r;++n<r;){o=t[n];var s=Ar(o),c=s=="wrapper"?iA(o):void 0;c&&_o(c[0])&&c[1]==(dA|cA|uA|fA)&&!c[4].length&&c[9]==1?i=i[Ar(c[0])].apply(i,c[3]):i=o.length==1&&_o(o)?i[s]():i.thru(o)}return function(){var d=arguments,f=d[0];if(i&&d.length==1&&sA(f))return i.plant(f).value();for(var g=0,p=r?t[g].apply(this,d):f;++g<r;)p=t[g].call(this,p);return p}})}var pA=gA,hA=pA,yA=hA(),vA=yA,mA=ee,bo=mA("flow",vA);bo.placeholder=Q;var ye=bo,_A=ee,$o=_A("get",fo);$o.placeholder=Q;var ve=$o,bA=Qt,$A=Ee,AA=Xe,SA=U,TA=Ze,EA=_e.exports,CA=Qe,wA=Xt,xA="[object Map]",RA="[object Set]",IA=Object.prototype,OA=IA.hasOwnProperty;function LA(e){if(e==null)return!0;if(TA(e)&&(SA(e)||typeof e=="string"||typeof e.splice=="function"||EA(e)||wA(e)||AA(e)))return!e.length;var t=$A(e);if(t==xA||t==RA)return!e.size;if(CA(e))return!bA(e).length;for(var r in e)if(OA.call(e,r))return!1;return!0}var PA=LA,Ao={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1},MA=ee,So=MA("isEmpty",PA,Ao);So.placeholder=Q;var le=So;function DA(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var BA=DA;function FA(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var To=FA,NA=st,WA=To;function jA(e,t){return t.length<2?e:NA(e,WA(t,0,-1))}var kA=jA,GA=Ce,KA=BA,UA=kA,zA=he;function HA(e,t){return t=GA(t,e),e=UA(e,t),e==null||delete e[zA(KA(t))]}var qA=HA,YA=Wa;function VA(e){return YA(e)?void 0:e}var XA=VA,QA=it,ZA=gr,JA=qA,eS=Ce,tS=Me,rS=XA,nS=ct,aS=ir,oS=1,iS=2,sS=4,lS=nS(function(e,t){var r={};if(e==null)return r;var n=!1;t=QA(t,function(o){return o=eS(o,e),n||(n=o.length>1),o}),tS(e,aS(e),r),n&&(r=ZA(r,oS|iS|sS,rS));for(var a=t.length;a--;)JA(r,t[a]);return r}),cS=lS,uS=ee,Eo=uS("omit",cS);Eo.placeholder=Q;var dS=Eo,fS=qt,gS=Ce,pS=Ve,Co=se,hS=he;function yS(e,t,r,n){if(!Co(e))return e;t=gS(t,e);for(var a=-1,o=t.length,i=o-1,s=e;s!=null&&++a<o;){var c=hS(t[a]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=i){var f=s[c];d=n?n(f,c,s):void 0,d===void 0&&(d=Co(f)?f:pS(t[a+1])?[]:{})}fS(s,c,d),s=s[c]}return e}var vS=yS,mS=st,_S=vS,bS=Ce;function $S(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var i=t[n],s=mS(e,i);r(s,i)&&_S(o,bS(i,e),s)}return o}var wo=$S,AS=wo,SS=go;function TS(e,t){return AS(e,t,function(r,n){return SS(e,n)})}var ES=TS,CS=ES,wS=ct,xS=wS(function(e,t){return e==null?{}:CS(e,t)}),RS=xS,IS=ee,xo=IS("pick",RS);xo.placeholder=Q;var OS=xo;function LS(e,t,r,n){var a=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}var PS=LS;function MS(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(r(o[c],c,o)===!1)break}return t}}var DS=MS,BS=DS,FS=BS(),NS=FS,WS=NS,jS=Be;function kS(e,t){return e&&WS(e,t,jS)}var GS=kS,KS=Ze;function US(e,t){return function(r,n){if(r==null)return r;if(!KS(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var zS=US,HS=GS,qS=zS,YS=qS(HS),VS=YS;function XS(e,t,r,n,a){return a(e,function(o,i,s){r=n?(n=!1,o):t(r,o,i,s)}),r}var QS=XS,ZS=PS,JS=VS,eT=lt,tT=QS,rT=U;function nT(e,t,r){var n=rT(e)?ZS:tT,a=arguments.length<3;return n(e,eT(t),r,a,JS)}var aT=nT,oT=ee,Ro=oT("reduce",aT);Ro.placeholder=Q;var iT=Ro,sT=To;function lT(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:sT(e,t,r)}var cT=lT,uT=Wt;function dT(e,t){for(var r=e.length;r--&&uT(t,e[r],0)>-1;);return r}var fT=dT,gT=Wt;function pT(e,t){for(var r=-1,n=e.length;++r<n&&gT(t,e[r],0)>-1;);return r}var hT=pT;function yT(e){return e.split("")}var vT=yT,mT="\\ud800-\\udfff",_T="\\u0300-\\u036f",bT="\\ufe20-\\ufe2f",$T="\\u20d0-\\u20ff",AT=_T+bT+$T,ST="\\ufe0e\\ufe0f",TT="\\u200d",ET=RegExp("["+TT+mT+AT+ST+"]");function CT(e){return ET.test(e)}var wT=CT,Io="\\ud800-\\udfff",xT="\\u0300-\\u036f",RT="\\ufe20-\\ufe2f",IT="\\u20d0-\\u20ff",OT=xT+RT+IT,LT="\\ufe0e\\ufe0f",PT="["+Io+"]",Sr="["+OT+"]",Tr="\\ud83c[\\udffb-\\udfff]",MT="(?:"+Sr+"|"+Tr+")",Oo="[^"+Io+"]",Lo="(?:\\ud83c[\\udde6-\\uddff]){2}",Po="[\\ud800-\\udbff][\\udc00-\\udfff]",DT="\\u200d",Mo=MT+"?",Do="["+LT+"]?",BT="(?:"+DT+"(?:"+[Oo,Lo,Po].join("|")+")"+Do+Mo+")*",FT=Do+Mo+BT,NT="(?:"+[Oo+Sr+"?",Sr,Lo,Po,PT].join("|")+")",WT=RegExp(Tr+"(?="+Tr+")|"+NT+FT,"g");function jT(e){return e.match(WT)||[]}var kT=jT,GT=vT,KT=wT,UT=kT;function zT(e){return KT(e)?UT(e):GT(e)}var HT=zT,qT=uo,YT=Yn,VT=cT,XT=fT,QT=hT,Bo=HT,ZT=$r;function JT(e,t,r){if(e=ZT(e),e&&(r||t===void 0))return YT(e);if(!e||!(t=qT(t)))return e;var n=Bo(e),a=Bo(t),o=QT(n,a),i=XT(n,a)+1;return VT(n,o,i).join("")}var eE=JT,tE=ee,Fo=tE("trim",eE);Fo.placeholder=Q;var No=Fo;const Wo=W.default(l.Button)`
  &.Editor__toolbar__button--large {
    width: ${l.pxToRem(80)};
  }

  &:not(:last-of-type) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }
  &:not(:first-of-type) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[aria-checked="true"] {
    z-index: 2;
    position: relative;
  }
`,rE={format_bold:l.BoldIcon,format_italic:l.ItalicIcon,format_list_bulleted:l.ListIcon,["k-u-align-left"]:l.AlignLeftIcon,["k-u-align-center"]:l.AlignCenterIcon,["k-u-align-right"]:l.AlignRightIcon,image:l.ImageIcon,video:l.VideoIcon,link:l.LinkIcon,button_link:l.EditorButtonIcon,quote:l.BlockquoteIcon},te=({tag:e,onToggle:t,style:r,active:n,icon:a,disabled:o})=>{const[{focus:i,translations:s}]=_.useContext(M),c=rE[a],d=s==null?void 0:s.controls[n?`activated_${a}`:a];return u(Wo,{disabled:o,active:n&&i,"aria-checked":n&&i,onMouseDown:g=>{g.preventDefault(),!o&&t(r)},title:d,"aria-label":d,fit:"icon",tag:e,type:e==="button"?e:null,children:u(c,{})})};te.propTypes={disabled:y.default.bool,active:y.default.bool,onToggle:y.default.func,tag:y.default.string},te.defaultProps={disabled:!1,active:!1,onToggle:()=>null,tag:"button"};const ae=({htmlFor:e,size:t,label:r,children:n,tooltip:a})=>{var i;const[{translations:o}]=_.useContext(M);return u(l.Field.Label,{labelProps:{htmlFor:e,size:t},tooltipId:`tooltip-${e}`,tooltip:a,tooltipProps:{actionLabel:(i=o==null?void 0:o.form)==null?void 0:i.tooltip_action_label},children:r||n})};ae.propTypes={htmlFor:y.default.string.isRequired,size:y.default.string,label:y.default.string,tooltip:y.default.string},ae.defaultProps={size:"small"};const ce=w=>{var P=w,{name:e,form:t,placeholder:r,limit:n,unit:a,type:o,digits:i,disabled:s,rows:c,defaultValue:d,style:f,className:g,onFocus:p,onChange:v,onBlur:E,normalize:b,validate:$}=P,T=xe(P,["name","form","placeholder","limit","unit","type","digits","disabled","rows","defaultValue","style","className","onFocus","onChange","onBlur","normalize","validate"]);const[O,j,{setValue:k}]=Y.useField({name:e,validate:$});return _.useEffect(()=>{!d||O.value||k(d)},[]),I(V,{children:[u("div",{style:f,className:g,children:u(l.Field.Input,N(we(N({},O),{id:e,error:j.error&&j.touched,onFocus:p,onChange:B=>{O.onChange(B),b&&k(b(B.target.value)),v(B)},onBlur:B=>{O.onBlur(B),b&&k(b(B.target.value)),E(B)},"data-test-id":e,placeholder:r,limit:n,unit:a,type:o,tag:o,rows:c,digits:i,disabled:s}),T))}),u(Y.ErrorMessage,{name:e,children:B=>u(l.Field.ErrorMessage,{children:B})})]})};ce.defaultProps={type:"input",disabled:!1,validate:()=>{},onFocus:()=>{},onBlur:()=>{},onChange:()=>{}},ce.propTypes={name:y.default.string.isRequired,placeholder:y.default.string,defaultValue:y.default.string,rows:y.default.oneOfType([y.default.string,y.default.number]),limit:y.default.oneOfType([y.default.string,y.default.number]),unit:y.default.string,type:y.default.string,digits:y.default.oneOfType([y.default.string,y.default.number]),disabled:y.default.bool,validate:y.default.func,onFocus:y.default.func,onBlur:y.default.func,onChange:y.default.func,normalize:y.default.func};const ut=a=>{var o=a,{name:e,onClick:t,isDisabled:r}=o,n=xe(o,["name","onClick","isDisabled"]);const[d,...f]=Y.useField(e),g=d,{value:i}=g,s=xe(g,["value"]),[c]=f;return u(V,{children:u(l.TextInputWithButton,N(N({id:e,buttonProps:{onClick:t,disabled:r||c.error&&c.touched},error:c.error&&c.touched},s),n))})};ut.defaultProps={onClick:()=>{},isDisabled:!1},ut.propTypes={name:y.default.string.isRequired,onClick:y.default.func,isDisabled:y.default.bool};var jo=r=>{var n=r,{className:e}=n,t=xe(n,["className"]);const[{translations:a}]=_.useContext(M);return I(l.Button,we(N({modifier:"helium",size:"large","aria-live":"polite",as:"div",className:ne.default("k-u-cursor-not-allowed",e)},t),{children:[u(l.KissKissLoadingAnimation,{color:l.COLORS.background1}),u(l.VisuallyHidden,{children:a.button_loading})]}))};const Er=At.default();Er.tlds(St.default);const ko=W.default.div`
  position: relative;
  margin: ${l.pxToRem(30)} 0;

  @media (min-width: ${l.pxToRem(l.ScreenConfig.S.min)}) {
    display: inline-block;
  }
`,nE=W.default(l.Button)`
  @media (max-width: ${l.pxToRem(l.ScreenConfig.XS.max)}) {
    min-width: initial;
    width: 100%;
  }
`,aE=W.default(l.ArrowContainer)`
  display: flex;
  position: absolute;
  min-width: max-content;
  padding: 0 ${l.pxToRem(20)};
  background-color: ${l.COLORS.background1};
  margin-top: ${l.pxToRem(5)};
  transition: opacity 0.1s ease-out, margin-top 0.1s ease-out;
`,oE=W.default(l.Text)`
  display: block;
  width: 100%;
  padding: 0;
  text-align: center;
`,iE=W.default.span`
  margin: ${l.pxToRem(5)} ${l.pxToRem(10)};
  border-left: var(--border-width, 1px) solid ${l.COLORS.font2};
`,sE=W.default(l.Text)`
  overflow: hidden;
  display: inline-block;
  max-width: ${l.pxToRem(150)};
  text-overflow: ellipsis;
  white-space: nowrap;
`,Go=({href:e,children:t})=>u(nE,{tag:"a",href:e,target:"_blank",rel:"nofollow noopener",modifier:"helium",size:"large",children:t}),lE=({contentState:e,entityKey:t,children:r})=>{const[n,a]=_.useState(!1),{url:o}=e.getEntity(t).getData(),[{editorState:i,focus:s,translations:c},d]=_.useContext(M),f=mt(e,i,t);return _.useEffect(()=>{setTimeout(()=>a(f&&s),0)},[s,i]),I(ko,{"aria-live":"assertive",children:[u(Go,{href:o,children:r}),n&&I(aE,{position:"top",shadow:!0,borderWidth:1,borderColor:l.COLORS.line1,contentEditable:!1,children:[u(oE,{href:"#",tag:"a",size:"micro",weight:"regular",color:"error",onClick:g=>{g.preventDefault(),e.getBlockForKey(i.getSelection().getFocusKey()).findEntityRanges(v=>v.getEntity()===t,(v,E)=>{const b=i.getSelection().merge({focusOffset:E,anchorOffset:v}),$=h.Modifier.applyEntity(e,b,null);d(F(h.EditorState.push(i,$,"apply-entity")))})},children:c.link.button.delete}),u(iE,{}),u(sE,{href:o,target:"_blank",rel:"noopener",tag:"a",size:"micro",weight:"regular",color:"font1",children:o})]})]})},Ko=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="BUTTON_LINK"},t)},cE={strategy:Ko,component:lE},uE={strategy:Ko,component:e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return u(ko,{children:u(Go,{href:t,children:e.children})})}},Cr=({disabled:e,onChange:t})=>{const[{editorState:r,editorRef:n,translations:a},o]=_.useContext(M),i=vt(r),s=Mr(r),c=()=>i?$i(r,s):bi(r);return u(l.ModalNext,{headerTitle:u(l.Title,{noMargin:!0,modifier:"quaternary",children:a.button_link.title}),trigger:u(te,{icon:"button_link",className:"Editor__toolbar__button--large",disabled:e}),children:({close:d})=>u(Y.Formik,{enableReinitialize:!0,initialValues:{url:i?i.getData().url:"",text:c()},onSubmit:({url:f})=>{t(f);const g=Er.match(f),p=r.getCurrentContent();if(i){const v=p.replaceEntityData(s,{url:g[0].url});o(F(h.EditorState.push(r,v,"change-block-data")))}else{const v=p.createEntity("BUTTON_LINK","MUTABLE",{url:g[0].url}),E=v.getLastCreatedEntityKey(),b=h.EditorState.set(r,{currentContent:v});o(F(h.RichUtils.toggleLink(b,b.getSelection(),E)))}d(),setTimeout(()=>n.current.blur(),0)},children:({handleSubmit:f})=>I(V,{children:[I(l.ModalNext.Block,{className:"k-u-margin-bottom-quadruple",children:[I("div",{className:"k-u-margin-bottom-double",children:[u(ae,{htmlFor:"",children:a.button_link.text}),u(ce,{name:"text",disabled:!0})]}),u(ae,{htmlFor:"url",children:a.button_link.url}),u(ce,{name:"url",validate:g=>{if(!Er.test(g))return a.link.error}})]}),u(l.ModalNext.Button,{fit:"fluid",size:"large",type:"button",modifier:"helium",onClick:f,children:a.submit})]})})})};Cr.propTypes={disabled:y.default.bool,onChange:y.default.func},Cr.defaultProps={disabled:!1,onChange:()=>null};const dE=W.default(l.ArrowContainer)`
  display: flex;
  position: absolute;
  min-width: max-content;
  padding: 0 ${l.pxToRem(20)};
  background-color: ${l.COLORS.background1};
  margin-top: ${l.pxToRem(0)};
  transition: opacity 0.1s ease-out, margin-top 0.1s ease-out;
  z-index: 99999;
`,fE=W.default(l.Text)`
  flex: 1;
  width: 100%;
  text-align: center;
  display: block;
  padding: 0;
`,gE=W.default.span`
  flex: 0;
  border-left: var(--border-width, 1px) solid ${l.COLORS.font2};
  margin: ${l.pxToRem(5)} ${l.pxToRem(10)};
`,pE=W.default(l.Text)`
  flex: 2;
  max-width: ${l.pxToRem(240)};
  text-overflow: ellipsis;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
`,Uo=({onDelete:e,url:t})=>{const[{translations:r}]=_.useContext(M);return I(dE,{position:"top",shadow:!0,borderWidth:1,borderColor:l.COLORS.line1,contentEditable:!1,children:[u(fE,{href:"#",tag:"a",size:"micro",color:"error",onClick:n=>{n.preventDefault(),n.stopPropagation(),e(n)},children:r.link.button.delete}),u(gE,{}),u(pE,{href:t,target:"_blank",rel:"noopener",tag:"a",size:"micro",color:"font1",onClick:n=>{n.preventDefault(),n.stopPropagation(),window.open(t,"_blank").focus()},children:t})]})},hE=W.default(l.ButtonGroup)`
  .k-ButtonGroup__button {
    width: 50%;
  }
`,yE=W.default.img`
  width: 100%;
  object-fit: contain;
  aspect-ratio: 16/10;
`,ue={URL:"URL",FILE:"FILE"},vE=({imageUrl:e,setImageUrl:t,errorMessage:r,onChange:n=()=>null})=>{const[a,o]=_.useState(ue.FILE),[{translations:i}]=_.useContext(M),{handleSubmit:s,values:c,isSubmitting:d}=Y.useFormikContext(),[,,f]=Y.useField("url"),[,,g]=Y.useField("file");return I(V,{children:[I(hE,{className:"k-u-margin-bottom-double",children:[u(l.ButtonGroup.Button,{active:a===ue.FILE,onClick:()=>{o(ue.FILE),t(void 0)},children:i.image_upload.button_file}),u(l.ButtonGroup.Button,{active:a===ue.URL,onClick:()=>{o(ue.URL),t(void 0)},children:i.image_upload.button_url})]}),a===ue.FILE&&!e&&u(l.ImageDropUploader,{id:"underwood-image-drop-uploader",dimensionErrorText:i.image_upload.dimension_error,sizeErrorText:i.image_upload.max_size,errorMessage:r,onChange:p=>{var E;n(p);const v=p.file;!((E=v==null?void 0:v.type)!=null&&E.match("image.*"))||(g.setValue(v),f.setValue(""),t(p.value))},acceptedFileSize:5242880,acceptedImageDimensions:{height:4e3,width:1e3},acceptedMimeTypes:["image/jpeg","image/png","image/gif","image/webp"],buttonTitle:i.image_upload.button_title,buttonText:I("div",{className:"k-u-flex k-u-flex-direction-column k-u-flex-gap-noneHalf",children:[u("span",{children:i.image_upload.help_file.formats}),u("span",{children:i.image_upload.help_file.width}),u("span",{children:i.image_upload.help_file.size})]})}),a===ue.URL&&I(V,{children:[u("div",{className:"k-u-margin-top-single",children:u(ae,{htmlFor:"url",children:i.image_upload.label})}),u(ut,{name:"url",placeholder:"https://",buttonValue:i.image_upload.preview,onClick:()=>{t(c.url)}})]}),u("div",{className:"k-u-margin-vertical-single",children:e&&I(V,{children:[u(yE,{src:e,alt:""}),a===ue.FILE&&u("div",{className:"k-u-margin-top-singleHalf k-u-align-center",children:u(l.Text,{size:"small",tag:"button",weight:"regular",onClick:()=>t(void 0),className:"k-u-reset-button k-u-link k-u-link-primary1",children:i.image_upload.modify_image})})]})}),e&&I(V,{children:[I("div",{className:"k-u-margin-vertical-double",children:[u(ae,{htmlFor:"description",children:i.image_upload.description.label}),u(ce,{name:"description",tag:"autoresize",placeholder:i.image_upload.description.placeholder})]}),u(l.AlertBox,{children:i.image_upload.description.helper})]}),u(Y.ErrorMessage,{name:"url",children:p=>u(l.Field.ErrorMessage,{children:p})}),e&&u(l.ModalNext.Actions,{children:d?u(jo,{fit:"fluid"}):u(l.ModalNext.Button,{type:"button",size:"large",modifier:"helium",onClick:s,children:i.submit})})]})},mE=({onClose:e,description:t,entityKey:r})=>{const[{editorState:n,translations:a},o]=_.useContext(M);return _.useEffect(()=>(o(Et(!0)),()=>o(Et(!1))),[]),u(l.ModalNext,{isOpen:!0,onClose:e,headerTitle:u(l.Title,{modifier:"quaternary",children:a.image_upload.description.title}),children:({close:i})=>u(Y.Formik,{initialValues:{description:t},onSubmit:({description:s})=>{const d=n.getCurrentContent().mergeEntityData(r,{description:s}),f=n.getSelection(),g=h.EditorState.push(n,d,"change-block-data");o(F(h.EditorState.forceSelection(g,f))),i(),e()},children:()=>u(Y.Form,{children:I(l.ModalNext.Block,{children:[I("div",{className:"k-u-margin-vertical-double",children:[u(ae,{htmlFor:"description",children:a.image_upload.description.label}),u(ce,{name:"description",tag:"autoresize",placeholder:a.image_upload.description.placeholder})]}),u(l.AlertBox,{children:a.image_upload.description.helper}),u(l.ModalNext.Actions,{children:u(l.ModalNext.Button,{type:"submit",size:"large",modifier:"helium",fit:"fluid",children:a.submit})})]})})})})},zo=W.default.div`
  position: relative;
  width: 100%;
  img {
    display: inline;
    height: auto;
    max-width: 100%;
  }

  .image-menu {
    position: absolute;
    left: 0;
    width: 100%;
    top: 0;
    height: 100%;
  }
`,_E=({url:e,entityKey:t})=>{const[{editorState:r},n]=_.useContext(M);return u(Uo,{url:e,onDelete:()=>{n(F(YC(r,t,["url"])))}})},bE=({contentState:e,entityKey:t,blockKey:r})=>{const[{editorState:n,translations:a},o]=_.useContext(M),[i,s]=_.useState(!1),c=mt(e,n,t),{src:d,url:f,description:g}=e.getEntity(t).getData();return I(zo,{className:"kiss-Draft__image",onClick:()=>{o(F(Ti(n,r)))},children:[I("div",{className:ne.default("kiss-Draft__image-focus",{"kiss-Draft__image-focus__focused":c}),children:[I("div",{className:"k-u-align-center",children:[u("img",{src:_t(d),alt:g}),u(l.DropdownMenu,{className:"image-menu",menuPosition:"center",positionedButton:!0,children:u(l.DropdownMenu.Button,{onClick:()=>s(!0),children:le(g)?a.image_upload.add_label:a.image_upload.modify_label})})]}),c&&!!f&&u(_E,{url:f,entityKey:t})]}),i&&u(mE,{onClose:()=>s(!1),entityKey:t,description:g})]})},$E=({contentState:e,entityKey:t})=>{const{src:r,url:n,description:a}=e.getEntity(t).getData();return u(zo,{className:"kiss-Draft__image-read",children:n?u("a",{href:n,target:"_blank",rel:"nofollow noopener",children:u("div",{className:"k-u-align-center",children:u("img",{src:_t(r),alt:a})})}):u("div",{className:"k-u-align-center",children:u("img",{src:_t(r),alt:a})})})},Ho=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="IMAGE"},t)},AE={strategy:Ho,component:bE},SE={strategy:Ho,component:$E},wr=({disabled:e,onUpload:t,onChange:r,errorMessage:n})=>{const[a,o]=_.useState(!1),[{editorState:i,translations:s,disabled:c},d]=_.useContext(M),[f,g]=_.useState("");return _.useEffect(()=>{a||g("")},[a]),I(V,{children:[u(te,{icon:"image",disabled:c||e,onToggle:()=>{o(!a)}}),u(l.ModalNext,{onClose:()=>o(!1),isOpen:a,headerTitle:u(l.Title,{modifier:"quaternary",children:s.image_upload.title}),children:({close:p})=>u(l.ModalNext.Block,{children:u(Y.Formik,{initialValues:{url:"",description:""},validationSchema:je.object().shape({url:je.string().url(s.image.invalid_url).matches(/(?:jpg|jpeg|gif|png)$/,s.image.invalid_extension)}),onSubmit:({url:v,fileSize:E,file:b,description:$},{setSubmitting:T})=>new Promise((w,P)=>{b&&b.size===0&&(P("WRONG"),T(!1)),le(v)?t(b).then(O=>w(O)).catch(()=>{T(!1)}):w(v)}).then(w=>{const j=i.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:w,description:$}).getLastCreatedEntityKey(),k=h.AtomicBlockUtils.insertAtomicBlock(i,j," "),B=h.EditorState.forceSelection(k,k.getCurrentContent().getSelectionAfter());if(Ai(B)){const re=Si(B);d(F(re))}else d(F(B));p(),o(!1),setTimeout(()=>o(!1),500)}),children:()=>u(vE,{imageUrl:f,setImageUrl:g,errorMessage:n,onChange:r})})})})]})};wr.propTypes={disabled:y.default.bool,onUpload:y.default.func,errorMessage:y.default.string},wr.defaultProps={disabled:!1,onUpload:()=>null};const xr=At.default();xr.tlds(St.default);const qo=W.default.div`
  display: inline-block;
  position: relative;
`,TE=W.default.div`
  display: flex;
  justify-content: center;
  img {
    max-height: ${l.pxToRem(200)};
    max-width: 100%;
  }
`,EE=({src:e})=>u(TE,{children:u("img",{src:_t(e),alt:""})}),CE=({contentState:e,entityKey:t,children:r})=>{const[n,a]=_.useState(!1),{url:o}=e.getEntity(t).getData(),[{editorState:i,focus:s},c]=_.useContext(M),d=mt(e,i,t);return _.useEffect(()=>{setTimeout(()=>a(d&&s),0)},[s,i]),I(qo,{"aria-live":"assertive",children:[u("a",{href:o,target:"_blank",className:"k-u-link k-u-link-primary1",rel:"nofollow noopener",children:r}),n&&u(Uo,{url:o,onDelete:()=>{var g;const f=e==null?void 0:e.getBlockForKey((g=i==null?void 0:i.getSelection())==null?void 0:g.getFocusKey());!f||f.findEntityRanges(p=>p.getEntity()===t,(p,v)=>{const E=i.getSelection().merge({focusOffset:v,anchorOffset:p}),b=h.Modifier.applyEntity(e,E,null);c(F(h.EditorState.push(i,b,"apply-entity")))})}})]})},Yo=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="LINK"},t)},wE={strategy:Yo,component:CE},xE={strategy:Yo,component:e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return u(qo,{children:u("a",{href:t,target:"_blank",rel:"nofollow noopener",className:"k-u-link k-u-link-primary1",children:e.children})})}},Rr=({disabled:e,onChange:t})=>{const[r,n]=_.useState(!1),[{editorState:a,editorRef:o,translations:i,disabled:s},c]=_.useContext(M),d=vt(a),f=Mr(a),g=()=>d?$i(a,f):bi(a),p=()=>{const E=a.getSelection();setTimeout(()=>o.current.focus(),0);const b=E.merge({anchorOffset:E.getFocusOffset(),hasFocus:!0});c(F(h.EditorState.forceSelection(a,b)))},v=!s&&!e&&(d||!le(g()));return I(V,{children:[u(te,{icon:"link",disabled:!v,onToggle:()=>{n(!r)}}),u(l.ModalNext,{onClose:()=>{n(!1),p()},isOpen:r,headerTitle:u(l.Title,{modifier:"quaternary",children:i.link.title}),children:({close:E})=>u(l.ModalNext.Block,{children:u(Y.Formik,{enableReinitialize:!0,initialValues:{url:d?d.getData().url:"",text:g()},onSubmit:({url:b})=>{const $=xr.match(b),T=a.getCurrentContent();if(t(),d)if((d==null?void 0:d.get("type"))==="IMAGE"){const w=T.mergeEntityData(f,{url:$[0].url});c(F(h.EditorState.push(a,w,"change-block-data")))}else{const w=T.replaceEntityData(f,{url:$[0].url});c(F(h.EditorState.push(a,w,"change-block-data")))}else{const w=T.createEntity("LINK","MUTABLE",{url:$[0].url}),P=w.getLastCreatedEntityKey(),O=h.EditorState.set(a,{currentContent:w});c(F(h.RichUtils.toggleLink(O,O.getSelection(),P)))}E(),n(!1),setTimeout(()=>o.current.focus(),0)},children:({handleSubmit:b})=>{var $;return I(V,{children:[u("div",{className:"k-u-margin-bottom-double",children:(d==null?void 0:d.get("type"))==="IMAGE"?u(EE,{src:($=d==null?void 0:d.getData())==null?void 0:$.src}):I(V,{children:[u(ae,{htmlFor:"",children:i.link.text.label}),u(ce,{name:"text",disabled:!0})]})}),I("div",{className:"k-u-margin-vertical-double",children:[u(ae,{htmlFor:"url",children:i.image_upload.url}),u(ce,{name:"url",validate:T=>{if(!xr.test(T))return i.link.error}})]}),u(l.ModalNext.Actions,{children:u(l.ModalNext.Button,{size:"large",type:"button",modifier:"helium",onClick:b,children:i.submit})})]})}})})})]})};Rr.propTypes={disabled:y.default.bool,onChange:y.default.func},Rr.defaultProps={disabled:!1,onChange:()=>null};const RE="https://api.embed.ly/1/",Vo=e=>{if(!e.key)throw new Error("You need an API key to call Embedly");return fetch(`${RE}oembed?${Vi.default.stringify(N({secure:document.location.protocol==="https:",scheme:document.location.protocol.replace(":","")},e))}`).then(t=>t.json())},Ir=({height:e,width:t})=>(e/t*100).toPrecision(4),Xo=e=>{if(e.type==="video"||e.type==="rich"&&e.provider_name!=="SoundCloud")return{ratio:Ir({height:e.height,width:e.width}),html:e.html};switch(e.provider_name){case"SoundCloud":return{ratio:Ir({height:6,width:16}),html:e.html};case"Ovizer":return{ratio:Ir({height:e.thumbnail_height||1,width:e.thumbnail_width||1}),html:`<iframe src="${e.url}" width="100%" height="auto" allowFullScreen></iframe>`};case"Apple Podcasts":const t=e.url.replace("podcasts.apple.com","embed.podcasts.apple.com");return{height:183,ratio:.1,html:`<iframe allow="autoplay *; encrypted-media *; fullscreen *" height="175" style=";overflow:hidden;background:transparent;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="${t}&theme=auto"></iframe>`};default:return{ratio:67.5,html:`<iframe src="${e.url}" width="100%" height="auto" allowFullScreen></iframe>`}}},IE=({contentState:e,entityKey:t,blockKey:r})=>{const{embedlyHtml:n,embedRatio:a,html:o,height:i}=e.getEntity(t).getData(),[{editorState:s},c]=_.useContext(M),d=p=>{p.preventDefault(),p.stopPropagation(),c(F(Ti(s,r)))},f=mt(e,s,t),g=l.parseHtml(n||o,{sanitize:!1});return u(l.ResponsiveIframeContainer,{ratio:a||67.5,className:"kiss-Draft__media",style:N({},i&&{height:i}),children:u("div",{className:ne.default("kiss-Draft__media-focus",{"kiss-Draft__media-focus__focused":f}),onClick:d,children:yt(g)})})},OE=e=>{const{embedlyHtml:t,embedRatio:r,height:n,html:a}=e.contentState.getEntity(e.entityKey).getData(),o=l.parseHtml(t||a,{sanitize:!1});return u(l.ResponsiveIframeContainer,{ratio:r||67.5,className:"kiss-Draft__media-read",style:N({},n&&{height:n}),children:yt(o)})},Qo=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&["VIDEO","MEDIA"].includes(r.getEntity(a).getType())},t)},LE={strategy:Qo,component:IE},PE={strategy:Qo,component:OE},Or=({disabled:e,onChange:t,embedlyApiKey:r})=>{const[{editorState:n,translations:a,disabled:o},i]=_.useContext(M),[s,c]=_.useState(!1),[d,f]=_.useState(void 0),[g,p]=_.useState(void 0),[v,E]=_.useState(void 0),[b,$]=_.useState(!1);return I(V,{children:[u(te,{icon:"video",disabled:o||e,onToggle:()=>{c(!s)}}),u(l.ModalNext,{onClose:()=>c(!1),isOpen:s,headerTitle:u(l.Title,{modifier:"quaternary",children:a.media_upload.title}),children:({close:T})=>u(l.ModalNext.Block,{children:u(Y.Formik,{initialValues:{url:""},validationSchema:je.object().shape({url:je.string().url(a.video.invalid_url)}),onSubmit:({url:w})=>(t(w),$(!1),Vo({key:r,maxwidth:640,url:w}).then(P=>{if(P.type==="error"){$(!0);return}const{html:O,ratio:j,height:k}=Xo(P),B=QC(n,N({html:O,embedRatio:j},k&&{height:k}));if(Ai(B)){const re=Si(B);i(F(re))}else i(F(B));T(),setTimeout(()=>{c(!1),f(void 0)},500)})),children:({handleSubmit:w,isSubmitting:P,values:O})=>I(V,{children:[u(ae,{className:"k-u-margin-bottom-single",htmlFor:"url",children:a.image_upload.label}),u(ut,{name:"url",placeholder:"https://",buttonValue:a.image_upload.preview,onClick:()=>{$(!1),Vo({key:r,maxwidth:640,url:O.url}).then(j=>{if(j.type==="error"){$(!0);return}const{html:k,ratio:B,height:re=void 0}=Xo(j);p(B),f(k),E(re)})}}),d&&u("div",{className:"k-u-margin-vertical-single",children:u(l.ResponsiveIframeContainer,{ratio:g,style:N({},v&&{height:v}),children:yt(l.parseHtml(d,{sanitize:!1}))})}),b&&u(l.Field.ErrorMessage,{children:a.video.problem}),d&&u(l.ModalNext.Actions,{children:P?u(jo,{fit:"fluid"}):u(l.ModalNext.Button,{size:"large",type:"button",modifier:"helium",onClick:w,children:a.submit})})]})})})})]})};Or.propTypes={embedlyApiKey:y.default.string.isRequired,disabled:y.default.bool,onChange:y.default.func},Or.defaultProps={disabled:!1,onChange:()=>null};const Zo=At.default({fuzzyLink:!1});Zo.tlds(St.default);var Jo={strategy:(e,t)=>{const r=Zo.match(e.get("text"));if(typeof r!="undefined"&&r!==null)for(let n=0;n<r.length;n+=1)t(r[n].index,r[n].lastIndex)},component:e=>u("a",{target:"_blank",rel:"nofollow noopener",className:"k-u-link k-u-link-primary1",href:e.decoratedText,children:e.children})},dt={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="LINK"},t)},component:e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return u("a",{href:t,className:"k-u-link k-u-link-primary1",target:"_blank",rel:"nofollow noopener noreferrer",children:e.children})}};function ME(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var DE=ME,Lr=_a,BE=Sn,FE=hr,NE=1/0,WE=Lr&&1/FE(new Lr([,-0]))[1]==NE?function(e){return new Lr(e)}:BE,jE=WE,kE=ja,GE=Mn,KE=DE,UE=ka,zE=jE,HE=hr,qE=200;function YE(e,t,r){var n=-1,a=GE,o=e.length,i=!0,s=[],c=s;if(r)i=!1,a=KE;else if(o>=qE){var d=t?null:zE(e);if(d)return HE(d);i=!1,a=UE,c=new kE}else c=t?[]:s;e:for(;++n<o;){var f=e[n],g=t?t(f):f;if(f=r||f!==0?f:0,i&&g===g){for(var p=c.length;p--;)if(c[p]===g)continue e;t&&c.push(g),s.push(f)}else a(c,g,r)||(c!==s&&c.push(g),s.push(f))}return s}var VE=YE,XE=VE;function QE(e){return e&&e.length?XE(e):[]}var ZE=QE,JE=ee,ei=JE("uniq",ZE,Ao);ei.placeholder=Q;var eC=ei;const ti=e=>/(.gif)$/gim.test(e),ri=e=>/(.svg)$/gim.test(e),tC=["jpg","jpeg","png","webp"],ni=(e,t)=>{const r=e.replace(/https?:\/\/([0-9a-z.:]+)\/\S+/gi,"$1");return(t==null?void 0:t.allowedServers.indexOf(r))>-1},rC=e=>encodeURIComponent(encodeURIComponent(e)),ai=(e,{width:t=0,height:r=0,filters:n=[],upscale:a=!0},o)=>{if(ri(e)||ti(e)||!ENABLE_RESPONSIVE_IMAGES)return e;const i=rC(e),c=`${o==null?void 0:o.host}/${t}x${r}`;a||n.push("no_upscale:1");let d="";n.forEach(g=>{const[p,v]=g.split(":");p==="format"&&tC.includes(v)&&(d=`.${v}`)});const f=eC(n).join(",");return f?`${c}/${f}/${i}${d}`:`${c}/options:false/${i}`},oi=(e,{imageSizes:t,breakpoints:r,imageSizesInViewport:n,ratio:a=0,upscale:o=!0,format:i="jpg",config:s}={})=>{if(!e)return;if(ri(e)||ti(e)||!ENABLE_RESPONSIVE_IMAGES||!ni(e,s))return{src:e,srcSet:"",sizes:""};if(r.length!==n.length)return;const c=`format:${i}`,d=["quality:90",c],g=[...t].sort((b,$)=>$-b)[0],p=ai(e,{width:g,height:Math.floor(g*a),filters:d,upscale:o},s),v=t.reduce((b,$)=>b.concat(`${ai(e,{width:$,height:Math.floor($*a),filters:d,upscale:o},s)} ${$}w`),[]).join(", "),E=r.reduce((b,$,T)=>b.concat(`(min-width: ${$}px) calc(${n[T]})`),[`calc(${n[0]})`]).reverse().join(", ");return{src:p,srcSet:v,sizes:E}},nC=`100vw - ${l.CONTAINER_PADDING_THIN*2}px`,aC=`(100vw - ${l.CONTAINER_PADDING*2}px) * (7/12)`,oC=`(${l.ScreenConfig.XL.min-l.CONTAINER_PADDING*2}px) * (7/12))`,ii=[280,335,380,785,944];function iC(e,t){for(var r=0;r<e.length;r++)if(e[r]>=t)return e[r]}var si={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="IMAGE"},t)},component:e=>{const[{configResponsiveImageHandler:t}]=_.useContext(M),{src:r,alt:n,style:a,width:o,height:i,imageLink:s}=e.contentState.getEntity(e.entityKey).getData(),c=_.useRef(null),d=l.useLazyObserver(c),f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><path fill='%23caf4fe' d='M0 0h400v300H0z'/></svg>";let g={src:r,sizes:null,srcSet:null};ni(r,t)&&(g=a.width&&a.height?oi(r,{imageSizes:[iC(ii,parseInt(a.width))],breakpoints:[0],imageSizesInViewport:[parseInt(a.width)],upscale:!1,resolutions:1,config:t}):oi(r,{imageSizes:ii,breakpoints:[0,1080,1440],imageSizesInViewport:[nC,aC,oC],upscale:!1,config:t}));const p=u("img",{src:d?g.src:f,srcSet:d?g.srcSet:"",sizes:g.sizes,alt:n,width:o&&i?o:void 0,height:o&&i?i:void 0,style:{width:a.width}});return s?u("a",{href:s,className:"k-u-align-center",target:"_blank",rel:"nofollow noopener noreferrer",ref:c,children:p}):u("div",{className:"k-u-align-center",ref:c,children:p})}},ft={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="MEDIA"},t)},component:e=>{const{html:t}=e.contentState.getEntity(e.entityKey).getData(),r=l.parseHtml(t,{sanitize:!1});return u(l.LazyLoader,{children:u(l.ResponsiveIframeContainer,{ratio:67.5,children:yt(r)})})}},li={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="IMAGE"},t)},component:e=>{const{src:t,alt:r,style:n,width:a,height:o,imageLink:i}=e.contentState.getEntity(e.entityKey).getData(),s=_.useRef(null),c=l.useLazyObserver(s),f=u("img",{src:c?t:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><path fill='%23caf4fe' d='M0 0h400v300H0z'/></svg>",alt:r,width:a&&o?a:void 0,height:a&&o?o:void 0,style:{width:n.width}});return i?u("a",{href:i,className:"k-u-align-center",target:"_blank",rel:"nofollow noopener noreferrer",ref:s,children:f}):u("div",{className:"k-u-align-center",ref:s,children:f})}},gt={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="SEPARATOR"},t)},component:()=>u("hr",{})},pt={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="BLOCKQUOTE"},t)},component:e=>e.children.length===1&&e.children[0].props.text===" "?null:u("span",{children:e.children})},sC=mr;function lC(e,t){return sC(e,t)}var cC=lC,uC=ee,ci=uC("isEqual",cC);ci.placeholder=Q;var ht=ci,dC="Expected a function";function fC(e){if(typeof e!="function")throw new TypeError(dC);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var gC=fC,pC=it,hC=lt,yC=wo,vC=ir;function mC(e,t){if(e==null)return{};var r=pC(vC(e),function(n){return[n]});return t=hC(t),yC(e,r,function(n,a){return t(n,a[0])})}var _C=mC,bC=lt,$C=gC,AC=_C;function SC(e,t){return AC(e,$C(bC(t)))}var TC=SC,EC=ee,ui=EC("omitBy",TC);ui.placeholder=Q;var di=ui;const CC=ve("children[0]"),fi=ye(ve("children[0].nodeName"),ht("IMG")),wC=ye(ve("parentElement.nodeName"),ht("A")),gi=di(le),xC=new h.CompositeDecorator([dt,si,ft,gt,pt]),RC=new h.CompositeDecorator([dt,li,ft,gt,pt]),IC=e=>$t.convertFromHTML({htmlToStyle:(t,r,n)=>r.style&&r.style["margin-left"]!==""?n.add("MARGIN_LEFT"):n,htmlToEntity:(t,r,n)=>{if(t==="a"){if(fi(r)){const a=CC(r);return n("IMAGE","IMMUTABLE",{src:a.src,alt:a.alt,width:a.width,height:a.height,style:gi(a.style),imageLink:r.href})}return n("LINK","MUTABLE",{url:r.href})}if(t==="img"&&!wC(r))return n("IMAGE","IMMUTABLE",{src:r.src,alt:r.alt,width:r.width,height:r.height,style:gi(r.style)});if(t==="iframe")return n("MEDIA","IMMUTABLE",{html:r.outerHTML});if(t==="hr")return n("SEPARATOR","IMMUTABLE");if(t==="blockquote")return n("BLOCKQUOTE","IMMUTABLE")},htmlToBlock:(t,r)=>{if(["img","iframe","hr"].includes(t)||fi(r))return"atomic";if(r.textContent===" ")return"br";if(t==="p"&&r.style["text-align"]!==void 0)return{type:"paragraph",data:{textAlign:r.style["text-align"]}};if(t==="h2"&&r.style["text-align"]!==void 0)return{type:"header-two",data:{textAlign:r.style["text-align"]}};if(t==="h3"&&r.style["text-align"]!==void 0)return{type:"header-three",data:{textAlign:r.style["text-align"]}};if(t==="h4"&&r.style["text-align"]!==void 0)return{type:"header-four",data:{textAlign:r.style["text-align"]}};if(t==="p")return"paragraph"}})(e),OC=ve("children[0]"),LC=ye(ve("children[0].nodeName"),ht("IMG")),PC=ye(ve("parentElement.nodeName"),ht("A")),pi=di(le);new h.CompositeDecorator([dt,si,ft,gt,pt]),new h.CompositeDecorator([dt,li,ft,gt,pt]);const MC=e=>$t.convertFromHTML({htmlToStyle:(t,r,n)=>r.style&&r.style["margin-left"]!==""?n.add("MARGIN_LEFT"):n,htmlToEntity:(t,r,n)=>{if(t==="a"){if(LC(r)){const a=OC(r);return n("IMAGE","IMMUTABLE",{src:a.src,alt:a.alt,width:a.width,height:a.height,style:pi(a.style),imageLink:r.href})}return n("LINK","MUTABLE",{url:r.href})}if(t==="img"&&!PC(r))return n("IMAGE","IMMUTABLE",{src:r.src,alt:r.alt,width:r.width,height:r.height,style:pi(r.style)});if(t==="iframe")return n("MEDIA","IMMUTABLE",{html:r.outerHTML});if(t==="hr")return n("SEPARATOR","IMMUTABLE");if(t==="blockquote")return n("BLOCKQUOTE","IMMUTABLE")},htmlToBlock:(t,r)=>{if(["img","iframe","hr"].includes(t))return"atomic";if(r.textContent===" ")return"br";if(t==="p"&&r.style["text-align"]!==void 0)return{type:"paragraph",data:{textAlign:r.style["text-align"]}};if(t==="h2"&&r.style["text-align"]!==void 0)return{type:"header-two",data:{textAlign:r.style["text-align"]}};if(t==="h3"&&r.style["text-align"]!==void 0)return{type:"header-three",data:{textAlign:r.style["text-align"]}};if(t==="h4"&&r.style["text-align"]!==void 0)return{type:"header-four",data:{textAlign:r.style["text-align"]}};if(t==="p")return"paragraph"}})(e),DC=We.Map({paragraph:{element:"p"}}),hi=(e,t=!1)=>{const r=t?MC(e):IC(e);return r.set("blockMap",r.getBlockMap().filter(n=>!(!["atomic","br"].includes(n.getType())&&n.getText()==="")))},yi=(e,t=!1)=>h.convertToRaw(hi(e,t)),vi=e=>h.EditorState.createWithContent(hi(e)),Pr=({html:e,perfEnabled:t,useRichTextStyle:r})=>{if(!e)return null;if(!l.domElementHelper.canUseDom()){const n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><path fill='%23caf4fe' d='M0 0h400v300H0z'/></svg>",a=/<img([\S ]*?) src="[\S]+?"/gm,o=`<img $1 src="${n}"`;return e=e.replace(a,o),t&&(e=e.replace(/<(img|iframe)([\S ]+?) (src=")/gm,"<$1 $2 data-$3")),u("section",{className:ne.default({"kiss-RichText":r}),children:l.parseHtml(e)})}return u("section",{className:ne.default({"kiss-RichText":r}),children:u(h.Editor,{editorState:h.EditorState.set(e!==null?vi(e):h.EditorState.createEmpty(),{decorator:t?xC:RC}),onChange:()=>null,blockRenderMap:h.DefaultDraftBlockRenderMap.merge(DC),blockStyleFn:n=>{switch(n.getData().get("textAlign")){case"right":return"draft-align-right";case"center":return"draft-align-center";case"left":return"draft-align-left";default:return""}},readOnly:!0})})};Pr.propTypes={useRichTextStyle:y.default.bool},Pr.defaultProps={useRichTextStyle:!0};const mi=e=>{try{return JSON.parse(e),!0}catch{return!1}},yt=e=>{var t;return we(N({},e),{props:we(N({},OS(["allow","allowFullScreen","className","style","sandbox","frameBorder","height","scrolling","title","width"])(e==null?void 0:e.props)),{src:nn((t=e==null?void 0:e.props)==null?void 0:t.src)})})},BC=e=>l.domElementHelper.canUseDom()?mi(e)?JSON.parse(e):yi(e,!0):{},FC=e=>{if(!l.domElementHelper.canUseDom())return null;if(!e||le(e))return h.EditorState.createEmpty();try{return h.EditorState.createWithContent(mi(e)?h.convertFromRaw(JSON.parse(e)):h.convertFromRaw(yi(e,!0)))}catch{return h.EditorState.createEmpty()}},_i=e=>h.EditorState.set(e,{decorator:new h.CompositeDecorator([AE,LE,wE,cE,Jo])}),NC=e=>{const t=e.getCurrentContent();return h.EditorState.push(e,h.Modifier.setBlockType(t,t.getSelectionAfter(),"unstyled"),"change-block-type")},WC=e=>{const t=e.getCurrentContent(),r=e.getSelection();return t.getBlockForKey(r.getStartKey()).getData().get("alignmentStyle")},jC=e=>{const r=e.getSelection().getAnchorKey();return e.getCurrentContent().getBlockForKey(r)},bi=e=>{const t=jC(e),r=e.getSelection(),n=r.getStartOffset(),a=r.getEndOffset();return t.getText().slice(n,a)},Mr=e=>{const t=e.getCurrentContent(),r=e.getSelection().getStartKey(),n=e.getSelection().getStartOffset();return t.getBlockForKey(r).getEntityAt(n)},vt=e=>{const t=e.getCurrentContent(),r=Mr(e);return r?t.getEntity(r):void 0},$i=(e,t)=>{let r;const n=e.getCurrentContent(),a=e.getSelection(),o=n.getBlockForKey(a.getFocusKey());return o.findEntityRanges(i=>i.getEntity()===t,(i,s)=>{r=o.getText().slice(i,s)}),r},mt=(e,t,r)=>{const n=e.getBlockForKey(t.getSelection().getFocusKey());if(!n)return!1;const a=n.getEntityAt(t.getSelection().getStartOffset());return r===a},kC=e=>ye(ve("blocks"),iT((t,r)=>`${t}${r.text}`,""),le)(e),GC=e=>{const t=e.getCurrentContent(),n=e.getSelection().getAnchorKey(),a=t.getBlockBefore(n);return(a==null?void 0:a.get("type"))==="atomic"},KC=e=>{const t=e.getCurrentContent(),r=e.getSelection(),n=t.getBlockForKey(r.getAnchorKey()),a=n.getEntityAt(r.getStartOffset());let o=null;n.findEntityRanges(s=>s.getEntity()===a,(s,c)=>{o=r.merge({anchorOffset:s,focusOffset:c})});const i=h.Modifier.applyEntity(t,o,null);return h.EditorState.push(e,i,"apply-entity")},Ai=e=>{const t=e.getCurrentContent(),n=t.getSelectionBefore().getAnchorKey(),a=t.getBlockForKey(n);return ye(No,le)(a.getText())},UC=e=>{const t=e.getCurrentContent(),n=e.getSelection().getAnchorKey(),a=t.getBlockForKey(n);return ye(No,le)(a.getText())},zC=e=>{const t=e.getCurrentContent(),n=e.getSelection().getAnchorKey();return!t.getBlockBefore(n)},HC=e=>{var c,d,f;const t=e.getSelection(),r=t.getAnchorKey(),a=e.getCurrentContent().getBlockForKey(r),o=(c=a==null?void 0:a.get("text"))==null?void 0:c.length,i=(d=t==null?void 0:t.getStartOffset())!=null?d:0,s=(f=t==null?void 0:t.getEndOffset())!=null?f:0;return o===s-i},Si=e=>{const t=e.getCurrentContent().getBlockMap().delete(e.getCurrentContent().getSelectionBefore().getFocusKey()),r=e.getCurrentContent().merge({blockMap:t});return h.EditorState.push(e,r,"remove-range")},qC=(e,t)=>{const r=e.getCurrentContent(),n=r.getBlockForKey(t);let a=h.SelectionState.createEmpty(n.getKey());a=a.merge({anchorKey:n.getKey(),anchorOffset:0,focusKey:n.getKey(),focusOffset:n.getLength()});const o=h.Modifier.removeRange(r,a,"backward"),i=o.getBlockMap().delete(t),s=o.merge({blockMap:i});return h.EditorState.push(e,s,"remove-range")},Ti=(e,t,r=0)=>{const n=h.SelectionState.createEmpty(t).merge({focusOffset:r});return h.EditorState.forceSelection(e,n)},YC=(e,t,r)=>{const n=e.getCurrentContent().getEntity(t).getData(),a=e.getCurrentContent().replaceEntityData(t,dS(r)(n));return h.EditorState.push(e,a,"apply-entity")},Dr=e=>{var s,c;const r=e.getSelection().getAnchorKey(),n=e.getCurrentContent().getKeyBefore(r),a=e.getCurrentContent().getKeyAfter(r),o=e.getCurrentContent().getBlockBefore(r);if(!a&&!n){const d=_i(h.EditorState.createEmpty());return h.EditorState.moveSelectionToEnd(d)}let i=h.SelectionState.createEmpty(n||a);return i=i.merge({anchorOffset:(s=o==null?void 0:o.getLength())!=null?s:0,focusOffset:(c=o==null?void 0:o.getLength())!=null?c:0}),h.EditorState.forceSelection(qC(e,r),i)},Ei=e=>{var r;const t=(r=e==null?void 0:e.get("data"))==null?void 0:r.src;return XC(t)||VC(t)},VC=e=>/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e),XC=e=>/<img.*?src="(.*?)"[^\\>]+>/.test(e),_t=e=>{var r;const[,t]=(r=e==null?void 0:e.match(/src\s*=\s*"(.+?)"/))!=null?r:[];return t||e},Ci=e=>{var t,r;return!!((t=e==null?void 0:e.get("data"))!=null&&t.embedlyHtml)||!!((r=e==null?void 0:e.get("data"))!=null&&r.html)},wi=(e,t,r={})=>{const n=new h.ContentBlock(N({key:h.genKey(),type:"unstyled",text:""},r)),a=e.getCurrentContent(),o=a.getBlockMap(),i=We.OrderedMap().withMutations(s=>{for(let[c,d]of o.entries())s.set(c,d),t===c&&s.set(n.getKey(),n)});return h.EditorState.forceSelection(h.EditorState.push(e,h.ContentState.createFromBlockArray(Array.from(i.values())).set("selectionBefore",a.getSelectionBefore()).set("selectionAfter",a.getSelectionAfter())),h.SelectionState.createEmpty(n.getKey()))},QC=(e,t={})=>{const a=e.getCurrentContent().createEntity("VIDEO","MUTABLE",t).getLastCreatedEntityKey();return h.AtomicBlockUtils.insertAtomicBlock(e,a," ")};var ZC=e=>(t,r)=>{const n=vt(r);if(t==="backspace"&&Ei(n)||Ci(n))return e(Dr(r)),"handled";if(t==="backspace"&&(n==null?void 0:n.getType())==="IMAGE")return e(KC(r)),"handled";if(t==="backspace"&&HC(r)&&GC(r)||t==="backspace"&&zC(r)&&UC(r))return e(Dr(r)),"handled";const a=h.RichUtils.handleKeyCommand(r,t);return a?(e(a),"handled"):"not-handled"},JC=e=>(t,r)=>{const n=r.getCurrentContent(),a=r.getSelection().getAnchorKey(),o=n.getBlockForKey(a),i=vt(r);return Ci(i)||Ei(i)?(e(wi(r,a)),"handled"):o.getText()===""&&["unordered-list-item","blockquote"].includes(o.getType())?(e(NC(r)),"handled"):["header-two","header-three"].includes(o.getType())?(e(wi(r,a)),"handled"):"not-handled"};const xi=Re.createGlobalStyle`
  .public-DraftEditorPlaceholder-root {
    ${l.TYPOGRAPHY.fontStyles.light};
    font-size: ${l.pxToRem(20)};
    line-height: ${l.pxToRem(32)};
    color: ${l.COLORS.font2};
    position: absolute;
    z-index: -1;
  }

  .public-DraftEditor-content {
    font-size: ${l.pxToRem(20)};
    line-height: ${l.pxToRem(32)};
  }

  .DraftEditor-editorContainer {
    ${l.TYPOGRAPHY.fontStyles.light};
    color: ${l.COLORS.font1};
    cursor: text;
    word-break: break-word;
    letter-spacing: 0;

    .public-DraftStyleDefault-ul {
      margin-top: ${l.pxToRem(10)};
      margin-bottom: ${l.pxToRem(10)};
      list-style: disc;

      .public-DraftStyleDefault-unorderedListItem {
        margin-left: ${l.pxToRem(20)};
      }
    }

    .kiss-Draft__image-read, .kiss-Draft__media-read {
      margin: ${l.pxToRem(40)} auto;
    }
    
    .kiss-Draft__image, .kiss-Draft__media {
      margin: ${l.pxToRem(34)} auto;
      display: flex;
      justify-content: center;
      
      img {
        display: block;
      }
    }

    .kiss-Draft__media-focus {
      padding: ${l.pxToRem(2)};
      border: ${l.pxToRem(4)} solid ${l.COLORS.background1};
      cursor: pointer;
      transition: all ease-in-out 100ms;
      > iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }
    }

    .kiss-Draft__image-focus {
      width: fit-content;
      padding: ${l.pxToRem(2)};
      border: ${l.pxToRem(4)} solid ${l.COLORS.background1};
      cursor: pointer;
      transition: all ease-in-out 100ms;
    }

    .kiss-Draft__image-focus:hover, .kiss-Draft__media-focus:hover {
      border-color: ${l.COLORS.primary4};
    }

    .kiss-Draft__image-focus__focused, .kiss-Draft__media-focus__focused {
      border-color: ${l.COLORS.primary1} !important;
      caret-color: transparent;
    }

    blockquote {
      font-style: italic;
      padding-left: ${l.pxToRem(15)};
      margin-left: ${l.pxToRem(50)};
      margin-top: ${l.pxToRem(20)};
      margin-bottom: ${l.pxToRem(20)};
      border-left: ${l.pxToRem(3)} solid ${l.COLORS.line1};
    }
  }

  .DraftEditor-editorContainer__disabled {
    color: ${l.COLORS.font2};
    cursor: not-allowed;

    a {
      color: ${l.COLORS.line2};
      &:hover,
      &:focus {
        color: ${l.COLORS.line2};
      }
    }
  }

  .DraftEditor-editorContainer__no-richText {
    font-size: ${l.pxToRem(14)};
  }

  .DraftEditor-editorContainer__compact {
    line-height: ${l.pxToRem(20)};
  }

  li.DraftEditor-editorContainer__compact,
  li.DraftEditor-editorContainer__richText {
    .public-DraftStyleDefault-block {
      margin: 0;
    }
  }

  .u-Editor__compact,
  .u-Editor__root {
    .public-DraftStyleDefault-ul {
      margin: 0;
    }
  }

  .public-DraftStyleDefault-block {
    margin: ${l.pxToRem(10)} auto;
  }
`,Ri=({isDisabled:e,useRichTextStyle:t,compact:r})=>n=>{const a=n.getData().get("alignmentStyle");return ne.default({"DraftEditor-editorContainer__disabled":e,"DraftEditor-editorContainer__richText":t,"DraftEditor-editorContainer__no-richText":!t,"DraftEditor-editorContainer__compact":r,[a]:a})},ew=W.default.div`
  border-radius: var(--border-radius-s);
  cursor: text;

  &.u-Editor--hasBorder {
    border: var(--border);
    padding: ${l.pxToRem(15)};

    &.u-Editor--focused,
    &:focus-within {
      border: var(--border-active);
      outline: var(--outline-input);
      outline-offset: var(--outline-offset-input);
    }

    &.u-Editor--hasError {
      border: var(--border-danger);
    }
  }
`,Br=Vr.default.forwardRef((v,p)=>{var E=v,{className:e,hasError:t,onFocus:r,onBlur:n,rawValue:a,initialValue:o,placeholder:i,withoutBorder:s,useRichTextStyle:c,isDisabled:d,compact:f}=E,g=xe(E,["className","hasError","onFocus","onBlur","rawValue","initialValue","placeholder","withoutBorder","useRichTextStyle","isDisabled","compact"]);const b=_.useRef(null),[{editorState:$,focus:T,disabled:w},P]=_.useContext(M),O=k=>P(F(k));_.useEffect(()=>{g.onChange(a?h.convertToRaw($.getCurrentContent()):$.getCurrentContent())},[$]),_.useEffect(()=>{P(os(p||b))},[p,b]),_.useEffect(()=>{O(_i(FC(o)))},[o]);const j=()=>{b!=null&&b.current?b.current.focus():p!=null&&p.current&&p.current.focus()};return I(ew,{className:ne.default("u-Editor",e,{"u-Editor--hasError":t,"u-Editor--focused":T,"u-Editor--hasBorder":!s}),onClick:j,children:[u(xi,{}),u(l.Paragraph,{"data-test-id":g["data-test-id"],tag:"section",modifier:"tertiary",noMargin:!0,className:ne.default("u-Editor__root",{"u-Editor__compact":f}),children:u(h.Editor,{stripPastedStyles:!0,ref:p||b,editorState:$,placeholder:i,readOnly:d||w,handleKeyCommand:ZC(O),handleReturn:JC(O),onChange:O,onFocus:()=>{P(tn(!0)),r()},onBlur:()=>{P(tn(!1)),n()},blockStyleFn:Ri({isDisabled:d,useRichTextStyle:c,compact:f}),blockRenderMap:rn})})]})});Br.propTypes={onChange:y.default.func,onFocus:y.default.func,onBlur:y.default.func,onInit:y.default.func,hasError:y.default.bool,initialValue:y.default.oneOfType([y.default.string,y.default.object]),rawValue:y.default.bool,placeholder:y.default.string,withoutBorder:y.default.bool,useRichTextStyle:y.default.bool,isDisabled:y.default.bool,compact:y.default.bool},Br.defaultProps={onChange:()=>null,onFocus:()=>null,onBlur:()=>null,hasError:!1,initialValue:h.EditorState.createEmpty(),rawValue:!0,placeholder:"",withoutBorder:!1,useRichTextStyle:!1,isDisabled:!1,compact:!1};const tw=W.default.div`
  display: flex;

  > * {
    margin-left: calc(-1 * var(--border-width, 1px));
  }

  :first-child > :first-child {
    margin-left: 0;
  }

  margin-right: ${l.pxToRem(10)};

  @media (min-width: ${l.pxToRem(l.ScreenConfig.S.min)}) {
    margin-right: ${l.pxToRem(20)};

    > :not(:first-child) {
      margin-left: calc(-1 * var(--border-width, 1px));
    }
  }

  > :hover:not(:disabled),
  > :focus:not(:disabled) {
    z-index: 1;
  }

  .Editor__toolbar__button--isSelected {
    z-index: 2;
  }
`,Fe=({disabled:e,label:t,onChange:r})=>{var s;const[{editorState:n,disabled:a},o]=_.useContext(M),i=(s=WC(n))!=null?s:"k-u-align-left";return u(te,{icon:t,disabled:a||e,active:i===t,onToggle:()=>{r();const c=n.getCurrentContent(),d=n.getSelection();o(F(h.EditorState.push(n,h.Modifier.setBlockData(c,d,We.Map({alignmentStyle:t})),"change-inline-style")))}},t)};Fe.propTypes={label:y.default.string.isRequired,disabled:y.default.bool,onChange:y.default.func},Fe.defaultProps={disabled:!1,onChange:()=>null};const Fr=e=>u(Fe,N({label:"k-u-align-center"},e));Fr.propTypes={disabled:y.default.bool,onChange:y.default.func},Fr.defaultProps={disabled:!1,onChange:()=>null};const Nr=e=>u(Fe,N({label:"k-u-align-left"},e));Nr.propTypes={disabled:y.default.bool,onChange:y.default.func},Nr.defaultProps={disabled:!1,onChange:()=>null};const Wr=e=>u(Fe,N({label:"k-u-align-right"},e));Wr.propTypes={disabled:y.default.bool,onChange:y.default.func},Wr.defaultProps={disabled:!1,onChange:()=>null};const jr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=_.useContext(M),o=r.getCurrentInlineStyle();return u(te,{active:o.has("BOLD"),icon:"format_bold",onToggle:i=>{t(),a(F(h.RichUtils.toggleInlineStyle(r,i)))},style:"BOLD",disabled:n||e},"format_bold")};jr.propTypes={disabled:y.default.bool,onChange:y.default.func},jr.defaultProps={disabled:!1,onChange:()=>null};const kr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=_.useContext(M),o=r.getCurrentInlineStyle();return u(te,{active:o.has("ITALIC"),icon:"format_italic",onToggle:i=>{t(),a(F(h.RichUtils.toggleInlineStyle(r,i)))},style:"ITALIC",disabled:n||e},"format_italic")};kr.propTypes={disabled:y.default.bool,onChange:y.default.func},kr.defaultProps={disabled:!1,onChange:()=>null};const Gr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=_.useContext(M),o=r.getCurrentContent(),i=r.getSelection(),c=o.getBlockForKey(i.getStartKey()).get("type")==="blockquote";return u(te,{icon:"quote",active:c,disabled:n||e,onToggle:()=>{t(),a(F(h.RichUtils.toggleBlockType(r,"blockquote")))}})};Gr.propTypes={disabled:y.default.bool,onChange:y.default.func},Gr.defaultProps={disabled:!1,onChange:()=>null};const rw=W.default(l.Details)`
  summary.Editor__toolbar__tagListToggle {
    border-radius: ${l.pxToRem(8)};

    .Editor__toolbar__tagListToggle__button {
      pointer-events: none;
      width: ${l.pxToRem(75)};
    }

    &:focus {
      z-index: 3;
    }
  }

  &[open] {
    summary.Editor__toolbar__tagListToggle {
      .Editor__toolbar__tagListToggle__button {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }

  ${({disabled:e})=>e&&Re.css`
      pointer-events: none;
      cursor: not-allowed;
    `}

  .Editor__toolbar__tagsList {
    position: absolute;
    z-index: 5;
    display: flex;
    flex-direction: column;
    width: ${l.pxToRem(75)};
    list-style: none;
    margin: 0;
    padding: 0;

    & li:last-child .Editor__toolbar__tagsList__Item {
      border-bottom: var(--border, ${l.pxToRem(1)} solid ${l.COLORS.line1});
    }

    .Editor__toolbar__tagsList__Item {
      width: 100%;
      position: relative;
      padding: ${l.pxToRem(15)} ${l.pxToRem(20)};
      background-color: var(--color-grey-000);
      border: ${l.pxToRem(1)} solid transparent;
      border-left: var(--border, ${l.pxToRem(1)} solid ${l.COLORS.line1});
      border-right: var(--border, ${l.pxToRem(1)} solid ${l.COLORS.line1});
      text-align: left;
      cursor: pointer;
      transition: border var(--transition), background-color var(--transition);

      appareance: none;
      box-sizing: border-box;

      &:hover,
      &:focus {
        background-color: var(--color-primary-100);
        border-color: var(--color-primary-700) !important;
      }

      &:focus {
        z-index: 3;
      }

      &[aria-selected="true"] {
        svg,
        path {
          fill: ${l.COLORS.primary1};
        }
      }

    }

  }
`,Ii=e=>{switch(e){case"header-one":return u(l.Title1Icon,{});case"header-two":return u(l.Title2Icon,{});case"header-three":return u(l.Title3Icon,{});case"header-four":return u(l.Title4Icon,{});case"unstyled":default:return u(l.ParagraphIcon,{})}},Kr=({disabled:e,onChange:t,tags:r})=>{const[{editorState:n,disabled:a},o]=_.useContext(M),i=n.getCurrentContent(),s=n.getSelection(),c=i.getBlockForKey(s.getStartKey()).getType();_.useEffect(()=>{t(c)},[c]);const d=f=>()=>{o(F(h.RichUtils.toggleBlockType(n,f)))};return u(rw,{summaryRender:({open:f})=>I(Wo,{className:"Editor__toolbar__tagListToggle__button",tabIndex:"-1",disabled:a||e,fit:"icon",tag:"span",active:f,children:[Ii(c),u(l.ArrowIcon,{width:"6",direction:f?"top":"bottom"})]}),summaryProps:{className:"Editor__toolbar__tagListToggle"},disabled:a||e,children:u("ul",{className:"Editor__toolbar__tagsList",children:r.map(f=>{const g=Ii(f);if(!!g)return u("li",{children:u("button",{onClick:d(f),type:"button","aria-selected":f===c,className:"Editor__toolbar__tagsList__Item",children:g})},f)})})},i)};Kr.propTypes={tags:y.default.array,disabled:y.default.bool,onChange:y.default.func},Kr.defaultProps={tags:["header-one","header-two","header-three","header-four","unstyled"],disabled:!1,onChange:()=>null};const nw=W.default.div`
  display: flex;
  overflow-y: scroll;
  padding: ${l.pxToRem(12)} 0;
  background-color: ${l.COLORS.background3};

  > :last-child {
    margin-right: 0;
  }

  @media (min-width: ${l.pxToRem(l.ScreenConfig.M.min)}) {
    overflow-y: initial;
    padding: ${l.pxToRem(15)} 0;
  }

  &.Editor-Toolbar__whiteMode {
    background-color: ${l.COLORS.background1};
  }

  &.Editor-Toolbar__centered {
    justify-content: center;
  }

  ${({whiteMode:e})=>e&&Re.css`
      background-color: ${l.COLORS.background1};
    `}
`,Ur=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=_.useContext(M),o=r.getCurrentContent(),i=r.getSelection(),s=o.getBlockForKey(i.getStartKey()).get("type");return u(te,{active:s==="unordered-list-item",icon:"format_list_bulleted",onToggle:c=>{t(),a(F(h.RichUtils.toggleBlockType(r,c)))},style:"unordered-list-item",disabled:e||n},"format_list_bulleted")};Ur.propTypes={disabled:y.default.bool,onChange:y.default.func},Ur.defaultProps={disabled:!1,onChange:()=>null};const z=({whiteMode:e,disabled:t,className:r,centered:n,children:a})=>{const[,o]=_.useContext(M);return _.useEffect(()=>{o(Et(t))},[t]),u(nw,{className:ne.default(r,{"Editor-Toolbar__whiteMode":e,"Editor-Toolbar__centered":n}),children:a})};z.Image=wr,z.TagList=Kr,z.Bold=jr,z.Italic=kr,z.Quote=Gr,z.Left=Nr,z.Right=Wr,z.Center=Fr,z.UnorderedList=Ur,z.Link=Rr,z.Button=Cr,z.Video=Or,z.Group=tw,z.propTypes={disabled:y.default.bool,whiteMode:y.default.bool,centered:y.default.bool,className:y.default.string},z.defaultProps={disabled:!1,whiteMode:!1,centered:!1};var aw=ee,Oi=aw("memoize",ao);Oi.placeholder=Q;var ow=Oi;const iw=ow(e=>{if(!l.domElementHelper.canUseDom())return null;if(!e)return h.EditorState.createEmpty();try{return h.EditorState.createWithContent(h.convertFromRaw(JSON.parse(e)),new h.CompositeDecorator([SE,PE,xE,uE,Jo]))}catch{const r=h.convertFromHTML(`<p>${e}</p>`),n=h.ContentState.createFromBlockArray(r);return h.EditorState.createWithContent(n)}}),sw=e=>{try{return JSON.parse(e),!0}catch{return!1}},lw=e=>{try{const r=JSON.parse(e).blocks.reduce((n,a)=>`${n} ${a.text}`,"");return u("div",{children:r})}catch{return u("div",{children:e})}},zr=({text:e,useRichTextStyle:t,perfEnabled:r,isDisabled:n,compact:a,configResponsiveImageHandler:o})=>l.domElementHelper.canUseDom()?sw(e)?I(Tt,{configResponsiveImageHandler:o,children:[u(xi,{}),u("section",{className:ne.default("u-Editor__root",{"u-Editor__compact":a}),children:u(h.Editor,{onChange:()=>null,editorState:iw(e),blockStyleFn:Ri({isDisabled:n,useRichTextStyle:t,compact:a}),blockRenderMap:rn,readOnly:!0})})]}):u(Tt,{configResponsiveImageHandler:o,children:u(Pr,{html:e,perfEnabled:r,useRichTextStyle:t})}):lw(e);zr.propTypes={text:y.default.oneOfType([y.default.object,y.default.string]).isRequired,useRichTextStyle:y.default.bool,isDisabled:y.default.bool,perfEnabled:y.default.bool,compact:y.default.bool},zr.defaultProps={useRichTextStyle:!1,isDisabled:!1,perfEnabled:!1,compact:!1};const cw=Re.createGlobalStyle`
  .DraftEditor-wrapper {
      .public-DraftEditorPlaceholder-root {
        ${l.TYPOGRAPHY.fontStyles.bold};
        font-size: ${l.pxToRem(28)};
        @media (min-width: ${l.pxToRem(l.ScreenConfig.M.min)}) {
          font-size: ${l.pxToRem(36)};
        }
        @media (min-width: ${l.pxToRem(l.ScreenConfig.L.min)}) {
          font-size: ${l.pxToRem(48)};
        }
      }
  }
  .DraftEditor-editorContainer__title {
    ${l.TYPOGRAPHY.fontStyles.bold};
    font-size: ${l.pxToRem(28)};
    @media (min-width: ${l.pxToRem(l.ScreenConfig.M.min)}) {
      font-size: ${l.pxToRem(36)};
    }
    @media (min-width: ${l.pxToRem(l.ScreenConfig.L.min)}) {
      font-size: ${l.pxToRem(48)};
    }
  }
`,Hr=({onFocus:e,onBlur:t,onChange:r,initialValue:n,placeholder:a})=>{const[o,i]=_.useState(h.EditorState.createEmpty());return _.useEffect(()=>{i(vi(n))},[n]),I("div",{className:"DraftEditor-wrapper",children:[u(cw,{}),u(h.Editor,{editorState:o,onChange:s=>{i(s),r(qi.stateToHTML(s.getCurrentContent(),{defaultBlockTag:"span",blockStyleFn:()=>({style:{display:"block"}})}))},onFocus:e,onBlur:t,placeholder:a,blockStyleFn:()=>"DraftEditor-editorContainer__title"})]})};Hr.propTypes={initialValue:y.default.string,placeholder:y.default.string,onFocus:y.default.func,onBlur:y.default.func,onChange:y.default.func},Hr.defaultProps={initalValue:"",placeholder:"",onFocus:()=>null,onBlur:()=>null,onChange:()=>null};const uw={button_link:{title:"Add a button",text:"Button text",url:"button URL"},link:{text:{label:"Your text"},title:"Add a link",error:"This link seems incorrect",button:{delete:"Delete"}},controls:{format_bold:"Bold",activated_format_bold:"Bold (activated)",format_italic:"Italic",activated_format_italic:"Italic (activated)",format_list_bulleted:"Add a list",activated_format_list_bulleted:"Add a list (activated)",["k-u-align-left"]:"Left Alignment",["activated_k-u-align-left"]:"Left Alignment (activated)",["k-u-align-center"]:"Alignment in the center",["activated_k-u-align-center"]:"Alignment in the center (activated)",["k-u-align-right"]:"Right Alignment",["activated_k-u-align-right"]:"Right Alignment (activated)",image:"Add an image",activated_image:"Add an image (activated)",video:"Add a video",activated_video:"Add a video (activated)",link:"Add a link",activated_link:"Add a link (activated)",quote:"Add a quote",activated_quote:"Add a quote (activated)"},image_upload:{title:"Insert a picture",button_title:"Insert a picture",button_file:"From my computer",button_url:"From a URL",modify_image:"Change image",modify_label:"Modify the image description",add_label:"Add a description to the image",label:"URL:",url:"URL:",preview:"Preview",upload:"Select a file on your computer",max_size:"The size of your image exceeds 5 MB",dimension_error:"Image dimensions too big (1000x4000 max)",description:{title:"Image description",label:I("span",{children:["Image description ",u("span",{className:"k-u-weight-light",children:"(optional)"})]}),placeholder:'Ex: Team photo "For us, cycling is freedom". ',helper:"Write a brief description of your image to make your content accessible to people with visual disabilities. Write the minimum text necessary to understand the context accurately (title, quote, graphic, description of the (title, quote, graphic, description of the image...). If your image is purely decorative, you can skip this step."},help_file:{formats:"Available formats: jpg, jpeg, gif, png, bmp",width:"Maximum weight: 5 MB",size:"Maximum width and height: 1000x4000 pixels"}},image:{invalid_url:"Your url doesn't seem correct",invalid_extension:"The format of your image is not supported",max_size:"The size of your image exceeds 5 MB"},media_upload:{title:"Insert a media"},video:{problem:"An error occurred while loading the content. Please try again",invalid_url:"Your url doesn't seem correct"},submit:"Validate",form:{tooltip_action_label:"More informations",button_loading:"Loading"}},qr=({onInit:e,translations:t,configResponsiveImageHandler:r,children:n})=>(_.useEffect(()=>{e()},[]),u(Tt,{translations:N(N({},uw),t),configResponsiveImageHandler:r,children:n})),Yr={props:{onInit:y.default.func,configResponsiveImageHandler:y.default.shape({}),translations:y.default.shape()},defaultProps:{onInit:()=>null,configResponsiveImageHandler:{},translations:{}}};qr.propTypes=Yr.props,qr.defaultProps=Yr.defaultProps,Object.defineProperty(C,"convertToRaw",{enumerable:!0,get:function(){return h.convertToRaw}}),Object.defineProperty(C,"convertToHTML",{enumerable:!0,get:function(){return $t.convertToHTML}}),C.Controls=z,C.Displayer=zr,C.Editor=qr,C.Playground=Br,C.Title=Hr,C.editorPropTypes=Yr,C.getJSONContent=BC,C.isEditorEmpty=kC,Object.defineProperty(C,"__esModule",{value:!0}),C[Symbol.toStringTag]="Module"});
