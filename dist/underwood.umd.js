var VE=Object.defineProperty,XE=Object.defineProperties;var QE=Object.getOwnPropertyDescriptors;var yt=Object.getOwnPropertySymbols;var Oi=Object.prototype.hasOwnProperty,Li=Object.prototype.propertyIsEnumerable;var Ii=(E,v,G)=>v in E?VE(E,v,{enumerable:!0,configurable:!0,writable:!0,value:G}):E[v]=G,N=(E,v)=>{for(var G in v||(v={}))Oi.call(v,G)&&Ii(E,G,v[G]);if(yt)for(var G of yt(v))Li.call(v,G)&&Ii(E,G,v[G]);return E},vt=(E,v)=>XE(E,QE(v));var Ee=(E,v)=>{var G={};for(var y in E)Oi.call(E,y)&&v.indexOf(y)<0&&(G[y]=E[y]);if(E!=null&&yt)for(var y of yt(E))v.indexOf(y)<0&&Li.call(E,y)&&(G[y]=E[y]);return G};(function(E,v){typeof exports=="object"&&typeof module!="undefined"?v(exports,require("react"),require("prop-types"),require("draft-js"),require("@kisskissbankbank/kitten"),require("classnames"),require("styled-components"),require("immutable"),require("formik"),require("linkify-it"),require("tlds"),require("yup"),require("qs"),require("draft-convert"),require("draft-js-export-html")):typeof define=="function"&&define.amd?define(["exports","react","prop-types","draft-js","@kisskissbankbank/kitten","classnames","styled-components","immutable","formik","linkify-it","tlds","yup","qs","draft-convert","draft-js-export-html"],v):(E=typeof globalThis!="undefined"?globalThis:E||self,v(E.Underwood={},E.React,E.PropTypes,E.DraftJS,E.Kitten,E.classnames,E.styled,E.Immutable,E.Formik,E.linkifyIt,E.tlds,E.Yup,E.qs,E.DraftConvert,E.DraftJsExportHtml))})(this,function(E,v,G,y,l,Pi,we,Ne,Y,Mi,Di,Bi,Fi,mt,Ni){"use strict";function ce(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function Wi(e){if(e&&e.__esModule)return e;var t={__proto__:null,[Symbol.toStringTag]:"Module"};return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var ji=ce(v),p=ce(G),ee=ce(Pi),W=ce(we),_t=ce(Mi),bt=ce(Di),xe=Wi(Bi),ki=ce(Fi),We=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},je={exports:{}},Re={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var zr=Object.getOwnPropertySymbols,Ki=Object.prototype.hasOwnProperty,Gi=Object.prototype.propertyIsEnumerable;function Ui(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function zi(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}zi();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=ji.default,Hr=60103;if(Re.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var qr=Symbol.for;Hr=qr("react.element"),Re.Fragment=qr("react.fragment")}var qi=Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yi=Object.prototype.hasOwnProperty,Vi={key:!0,ref:!0,__self:!0,__source:!0};function Yr(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Yi.call(t,n)&&!Vi.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Hr,type:e,key:o,ref:i,props:a,_owner:qi.current}}Re.jsx=Yr,Re.jsxs=Yr,je.exports=Re;const u=je.exports.jsx,P=je.exports.jsxs,te=je.exports.Fragment,Vr={editorState:y.EditorState.createEmpty(),focus:!1,editorRef:null,disabled:!1},M=v.createContext(Vr),Xi=(e,t)=>{switch(t.type){case"update":case"focus":return N(N({},e),t);case"updateState":return N(N({},e),t.state)}},$t=({translations:e,configResponsiveImageHandler:t,children:r})=>u(M.Provider,{value:v.useReducer(Xi,vt(N({},Vr),{translations:e,configResponsiveImageHandler:t})),children:r}),Qi=e=>({type:"updateState",state:e}),F=e=>({type:"update",editorState:e}),Zi=e=>({type:"update",editorRef:e}),Xr=e=>({type:"focus",focus:e});var Qr={};(function(e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={"1":["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],"2":["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],"3":["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],"4":["fill","setWith","updateWith"]},e.aryRearg={"2":[1,0],"3":[2,0,1],"4":[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,r=e.aliasToReal,n={};for(var a in r){var o=r[a];t.call(n,o)?n[o].push(a):n[o]=[a]}return n}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(Qr);var Q={},j=Qr,Ji=Q,Zr=Array.prototype.push;function es(e,t){return t==2?function(r,n){return e.apply(void 0,arguments)}:function(r){return e.apply(void 0,arguments)}}function At(e,t){return t==2?function(r,n){return e(r,n)}:function(r){return e(r)}}function Jr(e){for(var t=e?e.length:0,r=Array(t);t--;)r[t]=e[t];return r}function ts(e){return function(t){return e({},t)}}function rs(e,t){return function(){for(var r=arguments.length,n=r-1,a=Array(r);r--;)a[r]=arguments[r];var o=a[t],i=a.slice(0,t);return o&&Zr.apply(i,o),t!=n&&Zr.apply(i,a.slice(t+1)),e.apply(this,i)}}function Tt(e,t){return function(){var r=arguments.length;if(!!r){for(var n=Array(r);r--;)n[r]=arguments[r];var a=n[0]=t.apply(void 0,n);return e.apply(void 0,n),a}}}function St(e,t,r,n){var a=typeof t=="function",o=t===Object(t);if(o&&(n=r,r=t,t=void 0),r==null)throw new TypeError;n||(n={});var i={cap:"cap"in n?n.cap:!0,curry:"curry"in n?n.curry:!0,fixed:"fixed"in n?n.fixed:!0,immutable:"immutable"in n?n.immutable:!0,rearg:"rearg"in n?n.rearg:!0},s=a?r:Ji,c="curry"in n&&n.curry,d="fixed"in n&&n.fixed,f="rearg"in n&&n.rearg,g=a?r.runInContext():void 0,h=a?r:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},m=h.ary,T=h.assign,A=h.clone,$=h.curry,S=h.forEach,w=h.isArray,D=h.isError,I=h.isFunction,k=h.isWeakMap,K=h.keys,B=h.rearg,se=h.toInteger,jE=h.toPath,Ti=K(j.aryMethod),kE={castArray:function(C){return function(){var _=arguments[0];return w(_)?C(Jr(_)):C.apply(void 0,arguments)}},iteratee:function(C){return function(){var _=arguments[0],b=arguments[1],x=C(_,b),R=x.length;return i.cap&&typeof b=="number"?(b=b>2?b-2:1,R&&R<=b?x:At(x,b)):x}},mixin:function(C){return function(_){var b=this;if(!I(b))return C(b,Object(_));var x=[];return S(K(_),function(R){I(_[R])&&x.push([R,b.prototype[R]])}),C(b,Object(_)),S(x,function(R){var H=R[1];I(H)?b.prototype[R[0]]=H:delete b.prototype[R[0]]}),b}},nthArg:function(C){return function(_){var b=_<0?1:se(_)+1;return $(C(_),b)}},rearg:function(C){return function(_,b){var x=b?b.length:0;return $(C(_,b),x)}},runInContext:function(C){return function(_){return St(e,C(_),n)}}};function KE(C,_){if(i.cap){var b=j.iterateeRearg[C];if(b)return qE(_,b);var x=!a&&j.iterateeAry[C];if(x)return HE(_,x)}return _}function GE(C,_,b){return c||i.curry&&b>1?$(_,b):_}function Si(C,_,b){if(i.fixed&&(d||!j.skipFixed[C])){var x=j.methodSpread[C],R=x&&x.start;return R===void 0?m(_,b):rs(_,R)}return _}function Ci(C,_,b){return i.rearg&&b>1&&(f||!j.skipRearg[C])?B(_,j.methodRearg[C]||j.aryRearg[b]):_}function UE(C,_){_=jE(_);for(var b=-1,x=_.length,R=x-1,H=A(Object(C)),ne=H;ne!=null&&++b<x;){var X=_[b],ae=ne[X];ae!=null&&!(I(ae)||D(ae)||k(ae))&&(ne[X]=A(b==R?ae:Object(ae))),ne=ne[X]}return H}function zE(C){return V.runInContext.convert(C)(void 0)}function Ei(C,_){var b=j.aliasToReal[C]||C,x=j.remap[b]||b,R=n;return function(H){var ne=a?g:h,X=a?g[x]:_,ae=T(T({},R),H);return St(ne,b,X,ae)}}function HE(C,_){return wi(C,function(b){return typeof b=="function"?At(b,_):b})}function qE(C,_){return wi(C,function(b){var x=_.length;return es(B(At(b,x),_),x)})}function wi(C,_){return function(){var b=arguments.length;if(!b)return C();for(var x=Array(b);b--;)x[b]=arguments[b];var R=i.rearg?0:b-1;return x[R]=_(x[R]),C.apply(void 0,x)}}function xi(C,_,b){var x,R=j.aliasToReal[C]||C,H=_,ne=kE[R];return ne?H=ne(_):i.immutable&&(j.mutate.array[R]?H=Tt(_,Jr):j.mutate.object[R]?H=Tt(_,ts(_)):j.mutate.set[R]&&(H=Tt(_,UE))),S(Ti,function(X){return S(j.aryMethod[X],function(ae){if(R==ae){var Ri=j.methodSpread[R],YE=Ri&&Ri.afterRearg;return x=YE?Si(R,Ci(R,H,X),X):Ci(R,Si(R,H,X),X),x=KE(R,x),x=GE(R,x,X),!1}}),!x}),x||(x=H),x==_&&(x=c?$(x,1):function(){return _.apply(this,arguments)}),x.convert=Ei(R,_),x.placeholder=_.placeholder=b,x}if(!o)return xi(t,r,s);var V=r,Fe=[];return S(Ti,function(C){S(j.aryMethod[C],function(_){var b=V[j.remap[_]||_];b&&Fe.push([_,xi(_,b,V)])})}),S(K(V),function(C){var _=V[C];if(typeof _=="function"){for(var b=Fe.length;b--;)if(Fe[b][0]==C)return;_.convert=Ei(C,_),Fe.push([C,_])}}),S(Fe,function(C){V[C[0]]=C[1]}),V.convert=zE,V.placeholder=V,S(K(V),function(C){S(j.realToAlias[C]||[],function(_){V[_]=V[C]})}),V}var ns=St;function as(e){return e}var Ct=as,os=typeof We=="object"&&We&&We.Object===Object&&We,en=os,is=en,ss=typeof self=="object"&&self&&self.Object===Object&&self,ls=is||ss||Function("return this")(),q=ls,cs=q,us=cs.Symbol,ye=us,tn=ye,rn=Object.prototype,ds=rn.hasOwnProperty,fs=rn.toString,Ie=tn?tn.toStringTag:void 0;function gs(e){var t=ds.call(e,Ie),r=e[Ie];try{e[Ie]=void 0;var n=!0}catch{}var a=fs.call(e);return n&&(t?e[Ie]=r:delete e[Ie]),a}var ps=gs,hs=Object.prototype,ys=hs.toString;function vs(e){return ys.call(e)}var ms=vs,nn=ye,_s=ps,bs=ms,$s="[object Null]",As="[object Undefined]",an=nn?nn.toStringTag:void 0;function Ts(e){return e==null?e===void 0?As:$s:an&&an in Object(e)?_s(e):bs(e)}var ue=Ts;function Ss(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oe=Ss,Cs=ue,Es=oe,ws="[object AsyncFunction]",xs="[object Function]",Rs="[object GeneratorFunction]",Is="[object Proxy]";function Os(e){if(!Es(e))return!1;var t=Cs(e);return t==xs||t==Rs||t==ws||t==Is}var Et=Os,Ls=q,Ps=Ls["__core-js_shared__"],Ms=Ps,wt=Ms,on=function(){var e=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ds(e){return!!on&&on in e}var Bs=Ds,Fs=Function.prototype,Ns=Fs.toString;function Ws(e){if(e!=null){try{return Ns.call(e)}catch{}try{return e+""}catch{}}return""}var sn=Ws,js=Et,ks=Bs,Ks=oe,Gs=sn,Us=/[\\^$.*+?()[\]{}|]/g,zs=/^\[object .+?Constructor\]$/,Hs=Function.prototype,qs=Object.prototype,Ys=Hs.toString,Vs=qs.hasOwnProperty,Xs=RegExp("^"+Ys.call(Vs).replace(Us,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qs(e){if(!Ks(e)||ks(e))return!1;var t=js(e)?Xs:zs;return t.test(Gs(e))}var Zs=Qs;function Js(e,t){return e==null?void 0:e[t]}var el=Js,tl=Zs,rl=el;function nl(e,t){var r=rl(e,t);return tl(r)?r:void 0}var de=nl,al=de,ol=q,il=al(ol,"WeakMap"),ln=il,cn=ln,sl=cn&&new cn,un=sl,ll=Ct,dn=un,cl=dn?function(e,t){return dn.set(e,t),e}:ll,fn=cl,ul=oe,gn=Object.create,dl=function(){function e(){}return function(t){if(!ul(t))return{};if(gn)return gn(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),ke=dl,fl=ke,gl=oe;function pl(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=fl(e.prototype),n=e.apply(r,t);return gl(n)?n:r}}var Ke=pl,hl=Ke,yl=q,vl=1;function ml(e,t,r){var n=t&vl,a=hl(e);function o(){var i=this&&this!==yl&&this instanceof o?a:e;return i.apply(n?r:this,arguments)}return o}var _l=ml;function bl(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var xt=bl,$l=Math.max;function Al(e,t,r,n){for(var a=-1,o=e.length,i=r.length,s=-1,c=t.length,d=$l(o-i,0),f=Array(c+d),g=!n;++s<c;)f[s]=t[s];for(;++a<i;)(g||a<o)&&(f[r[a]]=e[a]);for(;d--;)f[s++]=e[a++];return f}var pn=Al,Tl=Math.max;function Sl(e,t,r,n){for(var a=-1,o=e.length,i=-1,s=r.length,c=-1,d=t.length,f=Tl(o-s,0),g=Array(f+d),h=!n;++a<f;)g[a]=e[a];for(var m=a;++c<d;)g[m+c]=t[c];for(;++i<s;)(h||a<o)&&(g[m+r[i]]=e[a++]);return g}var hn=Sl;function Cl(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var El=Cl;function wl(){}var Rt=wl,xl=ke,Rl=Rt,Il=4294967295;function Ge(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Il,this.__views__=[]}Ge.prototype=xl(Rl.prototype),Ge.prototype.constructor=Ge;var It=Ge;function Ol(){}var yn=Ol,vn=un,Ll=yn,Pl=vn?function(e){return vn.get(e)}:Ll,Ot=Pl,Ml={},Dl=Ml,mn=Dl,Bl=Object.prototype,Fl=Bl.hasOwnProperty;function Nl(e){for(var t=e.name+"",r=mn[t],n=Fl.call(mn,t)?r.length:0;n--;){var a=r[n],o=a.func;if(o==null||o==e)return a.name}return t}var _n=Nl,Wl=ke,jl=Rt;function Ue(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Ue.prototype=Wl(jl.prototype),Ue.prototype.constructor=Ue;var Lt=Ue,kl=Array.isArray,U=kl;function Kl(e){return e!=null&&typeof e=="object"}var Z=Kl;function Gl(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var ze=Gl,Ul=It,zl=Lt,Hl=ze;function ql(e){if(e instanceof Ul)return e.clone();var t=new zl(e.__wrapped__,e.__chain__);return t.__actions__=Hl(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Yl=ql,Vl=It,bn=Lt,Xl=Rt,Ql=U,Zl=Z,Jl=Yl,ec=Object.prototype,tc=ec.hasOwnProperty;function He(e){if(Zl(e)&&!Ql(e)&&!(e instanceof Vl)){if(e instanceof bn)return e;if(tc.call(e,"__wrapped__"))return Jl(e)}return new bn(e)}He.prototype=Xl.prototype,He.prototype.constructor=He;var rc=He,nc=It,ac=Ot,oc=_n,ic=rc;function sc(e){var t=oc(e),r=ic[t];if(typeof r!="function"||!(t in nc.prototype))return!1;if(e===r)return!0;var n=ac(r);return!!n&&e===n[0]}var $n=sc,lc=800,cc=16,uc=Date.now;function dc(e){var t=0,r=0;return function(){var n=uc(),a=cc-(n-r);if(r=n,a>0){if(++t>=lc)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var An=dc,fc=fn,gc=An,pc=gc(fc),Tn=pc,hc=/\{\n\/\* \[wrapped with (.+)\] \*/,yc=/,? & /;function vc(e){var t=e.match(hc);return t?t[1].split(yc):[]}var mc=vc,_c=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function bc(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(_c,`{
/* [wrapped with `+t+`] */
`)}var $c=bc;function Ac(e){return function(){return e}}var Tc=Ac,Sc=de,Cc=function(){try{var e=Sc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Sn=Cc,Ec=Tc,Cn=Sn,wc=Ct,xc=Cn?function(e,t){return Cn(e,"toString",{configurable:!0,enumerable:!1,value:Ec(t),writable:!0})}:wc,Rc=xc,Ic=Rc,Oc=An,Lc=Oc(Ic),En=Lc;function Pc(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Pt=Pc;function Mc(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Dc=Mc;function Bc(e){return e!==e}var Fc=Bc;function Nc(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Wc=Nc,jc=Dc,kc=Fc,Kc=Wc;function Gc(e,t,r){return t===t?Kc(e,t,r):jc(e,kc,r)}var Mt=Gc,Uc=Mt;function zc(e,t){var r=e==null?0:e.length;return!!r&&Uc(e,t,0)>-1}var wn=zc,Hc=Pt,qc=wn,Yc=1,Vc=2,Xc=8,Qc=16,Zc=32,Jc=64,eu=128,tu=256,ru=512,nu=[["ary",eu],["bind",Yc],["bindKey",Vc],["curry",Xc],["curryRight",Qc],["flip",ru],["partial",Zc],["partialRight",Jc],["rearg",tu]];function au(e,t){return Hc(nu,function(r){var n="_."+r[0];t&r[1]&&!qc(e,n)&&e.push(n)}),e.sort()}var ou=au,iu=mc,su=$c,lu=En,cu=ou;function uu(e,t,r){var n=t+"";return lu(e,su(n,cu(iu(n),r)))}var xn=uu,du=$n,fu=Tn,gu=xn,pu=1,hu=2,yu=4,vu=8,Rn=32,In=64;function mu(e,t,r,n,a,o,i,s,c,d){var f=t&vu,g=f?i:void 0,h=f?void 0:i,m=f?o:void 0,T=f?void 0:o;t|=f?Rn:In,t&=~(f?In:Rn),t&yu||(t&=~(pu|hu));var A=[e,t,a,m,g,T,h,s,c,d],$=r.apply(void 0,A);return du(e)&&fu($,A),$.placeholder=n,gu($,e,t)}var On=mu;function _u(e){var t=e;return t.placeholder}var Ln=_u,bu=9007199254740991,$u=/^(?:0|[1-9]\d*)$/;function Au(e,t){var r=typeof e;return t=t==null?bu:t,!!t&&(r=="number"||r!="symbol"&&$u.test(e))&&e>-1&&e%1==0&&e<t}var qe=Au,Tu=ze,Su=qe,Cu=Math.min;function Eu(e,t){for(var r=e.length,n=Cu(t.length,r),a=Tu(e);n--;){var o=t[n];e[n]=Su(o,r)?a[o]:void 0}return e}var wu=Eu,Pn="__lodash_placeholder__";function xu(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var i=e[r];(i===t||i===Pn)&&(e[r]=Pn,o[a++]=r)}return o}var Dt=xu,Ru=pn,Iu=hn,Ou=El,Mn=Ke,Lu=On,Pu=Ln,Mu=wu,Du=Dt,Bu=q,Fu=1,Nu=2,Wu=8,ju=16,ku=128,Ku=512;function Dn(e,t,r,n,a,o,i,s,c,d){var f=t&ku,g=t&Fu,h=t&Nu,m=t&(Wu|ju),T=t&Ku,A=h?void 0:Mn(e);function $(){for(var S=arguments.length,w=Array(S),D=S;D--;)w[D]=arguments[D];if(m)var I=Pu($),k=Ou(w,I);if(n&&(w=Ru(w,n,a,m)),o&&(w=Iu(w,o,i,m)),S-=k,m&&S<d){var K=Du(w,I);return Lu(e,t,Dn,$.placeholder,r,w,K,s,c,d-S)}var B=g?r:this,se=h?B[e]:e;return S=w.length,s?w=Mu(w,s):T&&S>1&&w.reverse(),f&&c<S&&(w.length=c),this&&this!==Bu&&this instanceof $&&(se=A||Mn(se)),se.apply(B,w)}return $}var Bn=Dn,Gu=xt,Uu=Ke,zu=Bn,Hu=On,qu=Ln,Yu=Dt,Vu=q;function Xu(e,t,r){var n=Uu(e);function a(){for(var o=arguments.length,i=Array(o),s=o,c=qu(a);s--;)i[s]=arguments[s];var d=o<3&&i[0]!==c&&i[o-1]!==c?[]:Yu(i,c);if(o-=d.length,o<r)return Hu(e,t,zu,a.placeholder,void 0,i,d,void 0,void 0,r-o);var f=this&&this!==Vu&&this instanceof a?n:e;return Gu(f,this,i)}return a}var Qu=Xu,Zu=xt,Ju=Ke,ed=q,td=1;function rd(e,t,r,n){var a=t&td,o=Ju(e);function i(){for(var s=-1,c=arguments.length,d=-1,f=n.length,g=Array(f+c),h=this&&this!==ed&&this instanceof i?o:e;++d<f;)g[d]=n[d];for(;c--;)g[d++]=arguments[++s];return Zu(h,a?r:this,g)}return i}var nd=rd,ad=pn,od=hn,Fn=Dt,Nn="__lodash_placeholder__",Bt=1,id=2,sd=4,Wn=8,Oe=128,jn=256,ld=Math.min;function cd(e,t){var r=e[1],n=t[1],a=r|n,o=a<(Bt|id|Oe),i=n==Oe&&r==Wn||n==Oe&&r==jn&&e[7].length<=t[8]||n==(Oe|jn)&&t[7].length<=t[8]&&r==Wn;if(!(o||i))return e;n&Bt&&(e[2]=t[2],a|=r&Bt?0:sd);var s=t[3];if(s){var c=e[3];e[3]=c?ad(c,s,t[4]):s,e[4]=c?Fn(e[3],Nn):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?od(c,s,t[6]):s,e[6]=c?Fn(e[5],Nn):t[6]),s=t[7],s&&(e[7]=s),n&Oe&&(e[8]=e[8]==null?t[8]:ld(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}var ud=cd,dd=/\s/;function fd(e){for(var t=e.length;t--&&dd.test(e.charAt(t)););return t}var gd=fd,pd=gd,hd=/^\s+/;function yd(e){return e&&e.slice(0,pd(e)+1).replace(hd,"")}var kn=yd,vd=ue,md=Z,_d="[object Symbol]";function bd(e){return typeof e=="symbol"||md(e)&&vd(e)==_d}var Le=bd,$d=kn,Kn=oe,Ad=Le,Gn=0/0,Td=/^[-+]0x[0-9a-f]+$/i,Sd=/^0b[01]+$/i,Cd=/^0o[0-7]+$/i,Ed=parseInt;function wd(e){if(typeof e=="number")return e;if(Ad(e))return Gn;if(Kn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Kn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$d(e);var r=Sd.test(e);return r||Cd.test(e)?Ed(e.slice(2),r?2:8):Td.test(e)?Gn:+e}var xd=wd,Rd=xd,Un=1/0,Id=17976931348623157e292;function Od(e){if(!e)return e===0?e:0;if(e=Rd(e),e===Un||e===-Un){var t=e<0?-1:1;return t*Id}return e===e?e:0}var Ld=Od,Pd=Ld;function Md(e){var t=Pd(e),r=t%1;return t===t?r?t-r:t:0}var zn=Md,Dd=fn,Bd=_l,Fd=Qu,Nd=Bn,Wd=nd,jd=Ot,kd=ud,Kd=Tn,Gd=xn,Hn=zn,Ud="Expected a function",qn=1,zd=2,Ft=8,Nt=16,Wt=32,Yn=64,Vn=Math.max;function Hd(e,t,r,n,a,o,i,s){var c=t&zd;if(!c&&typeof e!="function")throw new TypeError(Ud);var d=n?n.length:0;if(d||(t&=~(Wt|Yn),n=a=void 0),i=i===void 0?i:Vn(Hn(i),0),s=s===void 0?s:Hn(s),d-=a?a.length:0,t&Yn){var f=n,g=a;n=a=void 0}var h=c?void 0:jd(e),m=[e,t,r,n,a,f,g,o,i,s];if(h&&kd(m,h),e=m[0],t=m[1],r=m[2],n=m[3],a=m[4],s=m[9]=m[9]===void 0?c?0:e.length:Vn(m[9]-d,0),!s&&t&(Ft|Nt)&&(t&=~(Ft|Nt)),!t||t==qn)var T=Bd(e,t,r);else t==Ft||t==Nt?T=Fd(e,t,s):(t==Wt||t==(qn|Wt))&&!a.length?T=Wd(e,t,r,n):T=Nd.apply(void 0,m);var A=h?Dd:Kd;return Gd(A(T,m),e,t)}var jt=Hd,qd=jt,Yd=128;function Vd(e,t,r){return t=r?void 0:t,t=e&&t==null?e.length:t,qd(e,Yd,void 0,void 0,void 0,void 0,t)}var Xd=Vd,Xn=Sn;function Qd(e,t,r){t=="__proto__"&&Xn?Xn(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Qn=Qd;function Zd(e,t){return e===t||e!==e&&t!==t}var kt=Zd,Jd=Qn,ef=kt,tf=Object.prototype,rf=tf.hasOwnProperty;function nf(e,t,r){var n=e[t];(!(rf.call(e,t)&&ef(n,r))||r===void 0&&!(t in e))&&Jd(e,t,r)}var Kt=nf,af=Kt,of=Qn;function sf(e,t,r,n){var a=!r;r||(r={});for(var o=-1,i=t.length;++o<i;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;c===void 0&&(c=e[s]),a?of(r,s,c):af(r,s,c)}return r}var Pe=sf;function lf(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var cf=lf,uf=ue,df=Z,ff="[object Arguments]";function gf(e){return df(e)&&uf(e)==ff}var pf=gf,Zn=pf,hf=Z,Jn=Object.prototype,yf=Jn.hasOwnProperty,vf=Jn.propertyIsEnumerable,mf=Zn(function(){return arguments}())?Zn:function(e){return hf(e)&&yf.call(e,"callee")&&!vf.call(e,"callee")},Ye=mf,ve={exports:{}};function _f(){return!1}var bf=_f;(function(e,t){var r=q,n=bf,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,c=s?s.isBuffer:void 0,d=c||n;e.exports=d})(ve,ve.exports);var $f=9007199254740991;function Af(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$f}var Gt=Af,Tf=ue,Sf=Gt,Cf=Z,Ef="[object Arguments]",wf="[object Array]",xf="[object Boolean]",Rf="[object Date]",If="[object Error]",Of="[object Function]",Lf="[object Map]",Pf="[object Number]",Mf="[object Object]",Df="[object RegExp]",Bf="[object Set]",Ff="[object String]",Nf="[object WeakMap]",Wf="[object ArrayBuffer]",jf="[object DataView]",kf="[object Float32Array]",Kf="[object Float64Array]",Gf="[object Int8Array]",Uf="[object Int16Array]",zf="[object Int32Array]",Hf="[object Uint8Array]",qf="[object Uint8ClampedArray]",Yf="[object Uint16Array]",Vf="[object Uint32Array]",L={};L[kf]=L[Kf]=L[Gf]=L[Uf]=L[zf]=L[Hf]=L[qf]=L[Yf]=L[Vf]=!0,L[Ef]=L[wf]=L[Wf]=L[xf]=L[jf]=L[Rf]=L[If]=L[Of]=L[Lf]=L[Pf]=L[Mf]=L[Df]=L[Bf]=L[Ff]=L[Nf]=!1;function Xf(e){return Cf(e)&&Sf(e.length)&&!!L[Tf(e)]}var Qf=Xf;function Zf(e){return function(t){return e(t)}}var Ut=Zf,Me={exports:{}};(function(e,t){var r=en,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Me,Me.exports);var Jf=Qf,eg=Ut,ea=Me.exports,ta=ea&&ea.isTypedArray,tg=ta?eg(ta):Jf,zt=tg,rg=cf,ng=Ye,ag=U,og=ve.exports,ig=qe,sg=zt,lg=Object.prototype,cg=lg.hasOwnProperty;function ug(e,t){var r=ag(e),n=!r&&ng(e),a=!r&&!n&&og(e),o=!r&&!n&&!a&&sg(e),i=r||n||a||o,s=i?rg(e.length,String):[],c=s.length;for(var d in e)(t||cg.call(e,d))&&!(i&&(d=="length"||a&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||ig(d,c)))&&s.push(d);return s}var ra=ug,dg=Object.prototype;function fg(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||dg;return e===r}var Ve=fg;function gg(e,t){return function(r){return e(t(r))}}var na=gg,pg=na,hg=pg(Object.keys,Object),yg=hg,vg=Ve,mg=yg,_g=Object.prototype,bg=_g.hasOwnProperty;function $g(e){if(!vg(e))return mg(e);var t=[];for(var r in Object(e))bg.call(e,r)&&r!="constructor"&&t.push(r);return t}var Ht=$g,Ag=Et,Tg=Gt;function Sg(e){return e!=null&&Tg(e.length)&&!Ag(e)}var Xe=Sg,Cg=ra,Eg=Ht,wg=Xe;function xg(e){return wg(e)?Cg(e):Eg(e)}var De=xg,Rg=Pe,Ig=De;function Og(e,t){return e&&Rg(t,Ig(t),e)}var aa=Og;function Lg(){this.__data__=[],this.size=0}var Pg=Lg,Mg=kt;function Dg(e,t){for(var r=e.length;r--;)if(Mg(e[r][0],t))return r;return-1}var Qe=Dg,Bg=Qe,Fg=Array.prototype,Ng=Fg.splice;function Wg(e){var t=this.__data__,r=Bg(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Ng.call(t,r,1),--this.size,!0}var jg=Wg,kg=Qe;function Kg(e){var t=this.__data__,r=kg(t,e);return r<0?void 0:t[r][1]}var Gg=Kg,Ug=Qe;function zg(e){return Ug(this.__data__,e)>-1}var Hg=zg,qg=Qe;function Yg(e,t){var r=this.__data__,n=qg(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Vg=Yg,Xg=Pg,Qg=jg,Zg=Gg,Jg=Hg,ep=Vg;function me(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}me.prototype.clear=Xg,me.prototype.delete=Qg,me.prototype.get=Zg,me.prototype.has=Jg,me.prototype.set=ep;var Ze=me,tp=Ze;function rp(){this.__data__=new tp,this.size=0}var np=rp;function ap(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var op=ap;function ip(e){return this.__data__.get(e)}var sp=ip;function lp(e){return this.__data__.has(e)}var cp=lp,up=de,dp=q,fp=up(dp,"Map"),qt=fp,gp=de,pp=gp(Object,"create"),Je=pp,oa=Je;function hp(){this.__data__=oa?oa(null):{},this.size=0}var yp=hp;function vp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var mp=vp,_p=Je,bp="__lodash_hash_undefined__",$p=Object.prototype,Ap=$p.hasOwnProperty;function Tp(e){var t=this.__data__;if(_p){var r=t[e];return r===bp?void 0:r}return Ap.call(t,e)?t[e]:void 0}var Sp=Tp,Cp=Je,Ep=Object.prototype,wp=Ep.hasOwnProperty;function xp(e){var t=this.__data__;return Cp?t[e]!==void 0:wp.call(t,e)}var Rp=xp,Ip=Je,Op="__lodash_hash_undefined__";function Lp(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ip&&t===void 0?Op:t,this}var Pp=Lp,Mp=yp,Dp=mp,Bp=Sp,Fp=Rp,Np=Pp;function _e(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_e.prototype.clear=Mp,_e.prototype.delete=Dp,_e.prototype.get=Bp,_e.prototype.has=Fp,_e.prototype.set=Np;var Wp=_e,ia=Wp,jp=Ze,kp=qt;function Kp(){this.size=0,this.__data__={hash:new ia,map:new(kp||jp),string:new ia}}var Gp=Kp;function Up(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var zp=Up,Hp=zp;function qp(e,t){var r=e.__data__;return Hp(t)?r[typeof t=="string"?"string":"hash"]:r.map}var et=qp,Yp=et;function Vp(e){var t=Yp(this,e).delete(e);return this.size-=t?1:0,t}var Xp=Vp,Qp=et;function Zp(e){return Qp(this,e).get(e)}var Jp=Zp,eh=et;function th(e){return eh(this,e).has(e)}var rh=th,nh=et;function ah(e,t){var r=nh(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var oh=ah,ih=Gp,sh=Xp,lh=Jp,ch=rh,uh=oh;function be(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}be.prototype.clear=ih,be.prototype.delete=sh,be.prototype.get=lh,be.prototype.has=ch,be.prototype.set=uh;var Yt=be,dh=Ze,fh=qt,gh=Yt,ph=200;function hh(e,t){var r=this.__data__;if(r instanceof dh){var n=r.__data__;if(!fh||n.length<ph-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new gh(n)}return r.set(e,t),this.size=r.size,this}var yh=hh,vh=Ze,mh=np,_h=op,bh=sp,$h=cp,Ah=yh;function $e(e){var t=this.__data__=new vh(e);this.size=t.size}$e.prototype.clear=mh,$e.prototype.delete=_h,$e.prototype.get=bh,$e.prototype.has=$h,$e.prototype.set=Ah;var Vt=$e;function Th(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Sh=Th,Ch=oe,Eh=Ve,wh=Sh,xh=Object.prototype,Rh=xh.hasOwnProperty;function Ih(e){if(!Ch(e))return wh(e);var t=Eh(e),r=[];for(var n in e)n=="constructor"&&(t||!Rh.call(e,n))||r.push(n);return r}var Oh=Ih,Lh=ra,Ph=Oh,Mh=Xe;function Dh(e){return Mh(e)?Lh(e,!0):Ph(e)}var Xt=Dh,Bh=Pe,Fh=Xt;function Nh(e,t){return e&&Bh(t,Fh(t),e)}var Wh=Nh,Qt={exports:{}};(function(e,t){var r=q,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var g=d.length,h=s?s(g):new d.constructor(g);return d.copy(h),h}e.exports=c})(Qt,Qt.exports);function jh(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var kh=jh;function Kh(){return[]}var sa=Kh,Gh=kh,Uh=sa,zh=Object.prototype,Hh=zh.propertyIsEnumerable,la=Object.getOwnPropertySymbols,qh=la?function(e){return e==null?[]:(e=Object(e),Gh(la(e),function(t){return Hh.call(e,t)}))}:Uh,Zt=qh,Yh=Pe,Vh=Zt;function Xh(e,t){return Yh(e,Vh(e),t)}var Qh=Xh;function Zh(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Jt=Zh,Jh=na,ey=Jh(Object.getPrototypeOf,Object),er=ey,ty=Jt,ry=er,ny=Zt,ay=sa,oy=Object.getOwnPropertySymbols,iy=oy?function(e){for(var t=[];e;)ty(t,ny(e)),e=ry(e);return t}:ay,ca=iy,sy=Pe,ly=ca;function cy(e,t){return sy(e,ly(e),t)}var uy=cy,dy=Jt,fy=U;function gy(e,t,r){var n=t(e);return fy(e)?n:dy(n,r(e))}var ua=gy,py=ua,hy=Zt,yy=De;function vy(e){return py(e,yy,hy)}var da=vy,my=ua,_y=ca,by=Xt;function $y(e){return my(e,by,_y)}var tr=$y,Ay=de,Ty=q,Sy=Ay(Ty,"DataView"),Cy=Sy,Ey=de,wy=q,xy=Ey(wy,"Promise"),Ry=xy,Iy=de,Oy=q,Ly=Iy(Oy,"Set"),fa=Ly,rr=Cy,nr=qt,ar=Ry,or=fa,ir=ln,ga=ue,Ae=sn,pa="[object Map]",Py="[object Object]",ha="[object Promise]",ya="[object Set]",va="[object WeakMap]",ma="[object DataView]",My=Ae(rr),Dy=Ae(nr),By=Ae(ar),Fy=Ae(or),Ny=Ae(ir),fe=ga;(rr&&fe(new rr(new ArrayBuffer(1)))!=ma||nr&&fe(new nr)!=pa||ar&&fe(ar.resolve())!=ha||or&&fe(new or)!=ya||ir&&fe(new ir)!=va)&&(fe=function(e){var t=ga(e),r=t==Py?e.constructor:void 0,n=r?Ae(r):"";if(n)switch(n){case My:return ma;case Dy:return pa;case By:return ha;case Fy:return ya;case Ny:return va}return t});var Te=fe,Wy=Object.prototype,jy=Wy.hasOwnProperty;function ky(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&jy.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ky=ky,Gy=q,Uy=Gy.Uint8Array,_a=Uy,ba=_a;function zy(e){var t=new e.constructor(e.byteLength);return new ba(t).set(new ba(e)),t}var sr=zy,Hy=sr;function qy(e,t){var r=t?Hy(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Yy=qy,Vy=/\w*$/;function Xy(e){var t=new e.constructor(e.source,Vy.exec(e));return t.lastIndex=e.lastIndex,t}var Qy=Xy,$a=ye,Aa=$a?$a.prototype:void 0,Ta=Aa?Aa.valueOf:void 0;function Zy(e){return Ta?Object(Ta.call(e)):{}}var Jy=Zy,ev=sr;function tv(e,t){var r=t?ev(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var rv=tv,nv=sr,av=Yy,ov=Qy,iv=Jy,sv=rv,lv="[object Boolean]",cv="[object Date]",uv="[object Map]",dv="[object Number]",fv="[object RegExp]",gv="[object Set]",pv="[object String]",hv="[object Symbol]",yv="[object ArrayBuffer]",vv="[object DataView]",mv="[object Float32Array]",_v="[object Float64Array]",bv="[object Int8Array]",$v="[object Int16Array]",Av="[object Int32Array]",Tv="[object Uint8Array]",Sv="[object Uint8ClampedArray]",Cv="[object Uint16Array]",Ev="[object Uint32Array]";function wv(e,t,r){var n=e.constructor;switch(t){case yv:return nv(e);case lv:case cv:return new n(+e);case vv:return av(e,r);case mv:case _v:case bv:case $v:case Av:case Tv:case Sv:case Cv:case Ev:return sv(e,r);case uv:return new n;case dv:case pv:return new n(e);case fv:return ov(e);case gv:return new n;case hv:return iv(e)}}var xv=wv,Rv=ke,Iv=er,Ov=Ve;function Lv(e){return typeof e.constructor=="function"&&!Ov(e)?Rv(Iv(e)):{}}var Pv=Lv,Mv=Te,Dv=Z,Bv="[object Map]";function Fv(e){return Dv(e)&&Mv(e)==Bv}var Nv=Fv,Wv=Nv,jv=Ut,Sa=Me.exports,Ca=Sa&&Sa.isMap,kv=Ca?jv(Ca):Wv,Kv=kv,Gv=Te,Uv=Z,zv="[object Set]";function Hv(e){return Uv(e)&&Gv(e)==zv}var qv=Hv,Yv=qv,Vv=Ut,Ea=Me.exports,wa=Ea&&Ea.isSet,Xv=wa?Vv(wa):Yv,Qv=Xv,Zv=Vt,Jv=Pt,em=Kt,tm=aa,rm=Wh,nm=Qt.exports,am=ze,om=Qh,im=uy,sm=da,lm=tr,cm=Te,um=Ky,dm=xv,fm=Pv,gm=U,pm=ve.exports,hm=Kv,ym=oe,vm=Qv,mm=De,_m=Xt,bm=1,$m=2,Am=4,xa="[object Arguments]",Tm="[object Array]",Sm="[object Boolean]",Cm="[object Date]",Em="[object Error]",Ra="[object Function]",wm="[object GeneratorFunction]",xm="[object Map]",Rm="[object Number]",Ia="[object Object]",Im="[object RegExp]",Om="[object Set]",Lm="[object String]",Pm="[object Symbol]",Mm="[object WeakMap]",Dm="[object ArrayBuffer]",Bm="[object DataView]",Fm="[object Float32Array]",Nm="[object Float64Array]",Wm="[object Int8Array]",jm="[object Int16Array]",km="[object Int32Array]",Km="[object Uint8Array]",Gm="[object Uint8ClampedArray]",Um="[object Uint16Array]",zm="[object Uint32Array]",O={};O[xa]=O[Tm]=O[Dm]=O[Bm]=O[Sm]=O[Cm]=O[Fm]=O[Nm]=O[Wm]=O[jm]=O[km]=O[xm]=O[Rm]=O[Ia]=O[Im]=O[Om]=O[Lm]=O[Pm]=O[Km]=O[Gm]=O[Um]=O[zm]=!0,O[Em]=O[Ra]=O[Mm]=!1;function tt(e,t,r,n,a,o){var i,s=t&bm,c=t&$m,d=t&Am;if(r&&(i=a?r(e,n,a,o):r(e)),i!==void 0)return i;if(!ym(e))return e;var f=gm(e);if(f){if(i=um(e),!s)return am(e,i)}else{var g=cm(e),h=g==Ra||g==wm;if(pm(e))return nm(e,s);if(g==Ia||g==xa||h&&!a){if(i=c||h?{}:fm(e),!s)return c?im(e,rm(i,e)):om(e,tm(i,e))}else{if(!O[g])return a?e:{};i=dm(e,g,s)}}o||(o=new Zv);var m=o.get(e);if(m)return m;o.set(e,i),vm(e)?e.forEach(function($){i.add(tt($,t,r,$,e,o))}):hm(e)&&e.forEach(function($,S){i.set(S,tt($,t,r,S,e,o))});var T=d?c?lm:sm:c?_m:mm,A=f?void 0:T(e);return Jv(A||e,function($,S){A&&(S=$,$=e[S]),em(i,S,tt($,t,r,S,e,o))}),i}var lr=tt,Hm=lr,qm=4;function Ym(e){return Hm(e,qm)}var Vm=Ym,Xm=jt,Qm=8;function cr(e,t,r){t=r?void 0:t;var n=Xm(e,Qm,void 0,void 0,void 0,void 0,void 0,t);return n.placeholder=cr.placeholder,n}cr.placeholder={};var Zm=cr,Jm=ue,e_=er,t_=Z,r_="[object Object]",n_=Function.prototype,a_=Object.prototype,Oa=n_.toString,o_=a_.hasOwnProperty,i_=Oa.call(Object);function s_(e){if(!t_(e)||Jm(e)!=r_)return!1;var t=e_(e);if(t===null)return!0;var r=o_.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Oa.call(r)==i_}var La=s_,l_=ue,c_=Z,u_=La,d_="[object DOMException]",f_="[object Error]";function g_(e){if(!c_(e))return!1;var t=l_(e);return t==f_||t==d_||typeof e.message=="string"&&typeof e.name=="string"&&!u_(e)}var p_=g_,h_=Te,y_=Z,v_="[object WeakMap]";function m_(e){return y_(e)&&h_(e)==v_}var __=m_,b_="__lodash_hash_undefined__";function $_(e){return this.__data__.set(e,b_),this}var A_=$_;function T_(e){return this.__data__.has(e)}var S_=T_,C_=Yt,E_=A_,w_=S_;function rt(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new C_;++t<r;)this.add(e[t])}rt.prototype.add=rt.prototype.push=E_,rt.prototype.has=w_;var Pa=rt;function x_(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var R_=x_;function I_(e,t){return e.has(t)}var Ma=I_,O_=Pa,L_=R_,P_=Ma,M_=1,D_=2;function B_(e,t,r,n,a,o){var i=r&M_,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var g=-1,h=!0,m=r&D_?new O_:void 0;for(o.set(e,t),o.set(t,e);++g<s;){var T=e[g],A=t[g];if(n)var $=i?n(A,T,g,t,e,o):n(T,A,g,e,t,o);if($!==void 0){if($)continue;h=!1;break}if(m){if(!L_(t,function(S,w){if(!P_(m,w)&&(T===S||a(T,S,r,n,o)))return m.push(w)})){h=!1;break}}else if(!(T===A||a(T,A,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Da=B_;function F_(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var N_=F_;function W_(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ur=W_,Ba=ye,Fa=_a,j_=kt,k_=Da,K_=N_,G_=ur,U_=1,z_=2,H_="[object Boolean]",q_="[object Date]",Y_="[object Error]",V_="[object Map]",X_="[object Number]",Q_="[object RegExp]",Z_="[object Set]",J_="[object String]",eb="[object Symbol]",tb="[object ArrayBuffer]",rb="[object DataView]",Na=Ba?Ba.prototype:void 0,dr=Na?Na.valueOf:void 0;function nb(e,t,r,n,a,o,i){switch(r){case rb:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tb:return!(e.byteLength!=t.byteLength||!o(new Fa(e),new Fa(t)));case H_:case q_:case X_:return j_(+e,+t);case Y_:return e.name==t.name&&e.message==t.message;case Q_:case J_:return e==t+"";case V_:var s=K_;case Z_:var c=n&U_;if(s||(s=G_),e.size!=t.size&&!c)return!1;var d=i.get(e);if(d)return d==t;n|=z_,i.set(e,t);var f=k_(s(e),s(t),n,a,o,i);return i.delete(e),f;case eb:if(dr)return dr.call(e)==dr.call(t)}return!1}var ab=nb,Wa=da,ob=1,ib=Object.prototype,sb=ib.hasOwnProperty;function lb(e,t,r,n,a,o){var i=r&ob,s=Wa(e),c=s.length,d=Wa(t),f=d.length;if(c!=f&&!i)return!1;for(var g=c;g--;){var h=s[g];if(!(i?h in t:sb.call(t,h)))return!1}var m=o.get(e),T=o.get(t);if(m&&T)return m==t&&T==e;var A=!0;o.set(e,t),o.set(t,e);for(var $=i;++g<c;){h=s[g];var S=e[h],w=t[h];if(n)var D=i?n(w,S,h,t,e,o):n(S,w,h,e,t,o);if(!(D===void 0?S===w||a(S,w,r,n,o):D)){A=!1;break}$||($=h=="constructor")}if(A&&!$){var I=e.constructor,k=t.constructor;I!=k&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof k=="function"&&k instanceof k)&&(A=!1)}return o.delete(e),o.delete(t),A}var cb=lb,fr=Vt,ub=Da,db=ab,fb=cb,ja=Te,ka=U,Ka=ve.exports,gb=zt,pb=1,Ga="[object Arguments]",Ua="[object Array]",nt="[object Object]",hb=Object.prototype,za=hb.hasOwnProperty;function yb(e,t,r,n,a,o){var i=ka(e),s=ka(t),c=i?Ua:ja(e),d=s?Ua:ja(t);c=c==Ga?nt:c,d=d==Ga?nt:d;var f=c==nt,g=d==nt,h=c==d;if(h&&Ka(e)){if(!Ka(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new fr),i||gb(e)?ub(e,t,r,n,a,o):db(e,t,c,r,n,a,o);if(!(r&pb)){var m=f&&za.call(e,"__wrapped__"),T=g&&za.call(t,"__wrapped__");if(m||T){var A=m?e.value():e,$=T?t.value():t;return o||(o=new fr),a(A,$,r,n,o)}}return h?(o||(o=new fr),fb(e,t,r,n,a,o)):!1}var vb=yb,mb=vb,Ha=Z;function qa(e,t,r,n,a){return e===t?!0:e==null||t==null||!Ha(e)&&!Ha(t)?e!==e&&t!==t:mb(e,t,r,n,qa,a)}var gr=qa,_b=Vt,bb=gr,$b=1,Ab=2;function Tb(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var c=s[0],d=e[c],f=s[1];if(i&&s[2]){if(d===void 0&&!(c in e))return!1}else{var g=new _b;if(n)var h=n(d,f,c,e,t,g);if(!(h===void 0?bb(f,d,$b|Ab,n,g):h))return!1}}return!0}var Sb=Tb,Cb=oe;function Eb(e){return e===e&&!Cb(e)}var Ya=Eb,wb=Ya,xb=De;function Rb(e){for(var t=xb(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,wb(a)]}return t}var Ib=Rb;function Ob(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Va=Ob,Lb=Sb,Pb=Ib,Mb=Va;function Db(e){var t=Pb(e);return t.length==1&&t[0][2]?Mb(t[0][0],t[0][1]):function(r){return r===e||Lb(r,e,t)}}var Bb=Db,Fb=U,Nb=Le,Wb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jb=/^\w*$/;function kb(e,t){if(Fb(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Nb(e)?!0:jb.test(e)||!Wb.test(e)||t!=null&&e in Object(t)}var pr=kb,Xa=Yt,Kb="Expected a function";function hr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Kb);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(hr.Cache||Xa),r}hr.Cache=Xa;var Qa=hr,Gb=Qa,Ub=500;function zb(e){var t=Gb(e,function(n){return r.size===Ub&&r.clear(),n}),r=t.cache;return t}var Hb=zb,qb=Hb,Yb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vb=/\\(\\)?/g,Xb=qb(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yb,function(r,n,a,o){t.push(a?o.replace(Vb,"$1"):n||r)}),t}),Za=Xb;function Qb(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var at=Qb,Ja=ye,Zb=at,Jb=U,e$=Le,t$=1/0,eo=Ja?Ja.prototype:void 0,to=eo?eo.toString:void 0;function ro(e){if(typeof e=="string")return e;if(Jb(e))return Zb(e,ro)+"";if(e$(e))return to?to.call(e):"";var t=e+"";return t=="0"&&1/e==-t$?"-0":t}var no=ro,r$=no;function n$(e){return e==null?"":r$(e)}var yr=n$,a$=U,o$=pr,i$=Za,s$=yr;function l$(e,t){return a$(e)?e:o$(e,t)?[e]:i$(s$(e))}var Se=l$,c$=Le,u$=1/0;function d$(e){if(typeof e=="string"||c$(e))return e;var t=e+"";return t=="0"&&1/e==-u$?"-0":t}var ge=d$,f$=Se,g$=ge;function p$(e,t){t=f$(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[g$(t[r++])];return r&&r==n?e:void 0}var ot=p$,h$=ot;function y$(e,t,r){var n=e==null?void 0:h$(e,t);return n===void 0?r:n}var ao=y$;function v$(e,t){return e!=null&&t in Object(e)}var m$=v$,_$=Se,b$=Ye,$$=U,A$=qe,T$=Gt,S$=ge;function C$(e,t,r){t=_$(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=S$(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&T$(a)&&A$(i,a)&&($$(e)||b$(e)))}var E$=C$,w$=m$,x$=E$;function R$(e,t){return e!=null&&x$(e,t,w$)}var I$=R$,O$=gr,L$=ao,P$=I$,M$=pr,D$=Ya,B$=Va,F$=ge,N$=1,W$=2;function j$(e,t){return M$(e)&&D$(t)?B$(F$(e),t):function(r){var n=L$(r,e);return n===void 0&&n===t?P$(r,e):O$(t,n,N$|W$)}}var k$=j$;function K$(e){return function(t){return t==null?void 0:t[e]}}var G$=K$,U$=ot;function z$(e){return function(t){return U$(t,e)}}var H$=z$,q$=G$,Y$=H$,V$=pr,X$=ge;function Q$(e){return V$(e)?q$(X$(e)):Y$(e)}var Z$=Q$,J$=Bb,e1=k$,t1=Ct,r1=U,n1=Z$;function a1(e){return typeof e=="function"?e:e==null?t1:typeof e=="object"?r1(e)?e1(e[0],e[1]):J$(e):n1(e)}var it=a1,o1=lr,i1=it,s1=1;function l1(e){return i1(typeof e=="function"?e:o1(e,s1))}var c1=l1,oo=ye,u1=Ye,d1=U,io=oo?oo.isConcatSpreadable:void 0;function f1(e){return d1(e)||u1(e)||!!(io&&e&&e[io])}var g1=f1,p1=Jt,h1=g1;function so(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=h1),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?so(s,t-1,r,n,a):p1(a,s):n||(a[a.length]=s)}return a}var y1=so,v1=y1;function m1(e){var t=e==null?0:e.length;return t?v1(e,1):[]}var _1=m1,b1=xt,lo=Math.max;function $1(e,t,r){return t=lo(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=lo(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),b1(e,this,s)}}var A1=$1,T1=_1,S1=A1,C1=En;function E1(e){return C1(S1(e,void 0,T1),e+"")}var vr=E1,w1=jt,x1=vr,R1=256,I1=x1(function(e,t){return w1(e,R1,void 0,void 0,void 0,t)}),O1=I1,L1=at,P1=ze,M1=U,D1=Le,B1=Za,F1=ge,N1=yr;function W1(e){return M1(e)?L1(e,F1):D1(e)?[e]:P1(B1(N1(e)))}var j1=W1,k1={ary:Xd,assign:aa,clone:Vm,curry:Zm,forEach:Pt,isArray:U,isError:p_,isFunction:Et,isWeakMap:__,iteratee:c1,keys:Ht,rearg:O1,toInteger:zn,toPath:j1},K1=ns,G1=k1;function U1(e,t,r){return K1(G1,e,t,r)}var re=U1,co=Lt,z1=vr,H1=Ot,mr=_n,q1=U,uo=$n,Y1="Expected a function",V1=8,X1=32,Q1=128,Z1=256;function J1(e){return z1(function(t){var r=t.length,n=r,a=co.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if(typeof o!="function")throw new TypeError(Y1);if(a&&!i&&mr(o)=="wrapper")var i=new co([],!0)}for(n=i?n:r;++n<r;){o=t[n];var s=mr(o),c=s=="wrapper"?H1(o):void 0;c&&uo(c[0])&&c[1]==(Q1|V1|X1|Z1)&&!c[4].length&&c[9]==1?i=i[mr(c[0])].apply(i,c[3]):i=o.length==1&&uo(o)?i[s]():i.thru(o)}return function(){var d=arguments,f=d[0];if(i&&d.length==1&&q1(f))return i.plant(f).value();for(var g=0,h=r?t[g].apply(this,d):f;++g<r;)h=t[g].call(this,h);return h}})}var eA=J1,tA=eA,rA=tA(),nA=rA,aA=re,fo=aA("flow",nA);fo.placeholder=Q;var pe=fo,oA=re,go=oA("get",ao);go.placeholder=Q;var he=go,iA=Ht,sA=Te,lA=Ye,cA=U,uA=Xe,dA=ve.exports,fA=Ve,gA=zt,pA="[object Map]",hA="[object Set]",yA=Object.prototype,vA=yA.hasOwnProperty;function mA(e){if(e==null)return!0;if(uA(e)&&(cA(e)||typeof e=="string"||typeof e.splice=="function"||dA(e)||gA(e)||lA(e)))return!e.length;var t=sA(e);if(t==pA||t==hA)return!e.size;if(fA(e))return!iA(e).length;for(var r in e)if(vA.call(e,r))return!1;return!0}var _A=mA,po={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1},bA=re,ho=bA("isEmpty",_A,po);ho.placeholder=Q;var ie=ho;function $A(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var AA=$A;function TA(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var yo=TA,SA=ot,CA=yo;function EA(e,t){return t.length<2?e:SA(e,CA(t,0,-1))}var wA=EA,xA=Se,RA=AA,IA=wA,OA=ge;function LA(e,t){return t=xA(t,e),e=IA(e,t),e==null||delete e[OA(RA(t))]}var PA=LA,MA=La;function DA(e){return MA(e)?void 0:e}var BA=DA,FA=at,NA=lr,WA=PA,jA=Se,kA=Pe,KA=BA,GA=vr,UA=tr,zA=1,HA=2,qA=4,YA=GA(function(e,t){var r={};if(e==null)return r;var n=!1;t=FA(t,function(o){return o=jA(o,e),n||(n=o.length>1),o}),kA(e,UA(e),r),n&&(r=NA(r,zA|HA|qA,KA));for(var a=t.length;a--;)WA(r,t[a]);return r}),VA=YA,XA=re,vo=XA("omit",VA);vo.placeholder=Q;var QA=vo;function ZA(e,t,r,n){var a=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}var JA=ZA;function eT(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(r(o[c],c,o)===!1)break}return t}}var tT=eT,rT=tT,nT=rT(),aT=nT,oT=aT,iT=De;function sT(e,t){return e&&oT(e,t,iT)}var lT=sT,cT=Xe;function uT(e,t){return function(r,n){if(r==null)return r;if(!cT(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var dT=uT,fT=lT,gT=dT,pT=gT(fT),hT=pT;function yT(e,t,r,n,a){return a(e,function(o,i,s){r=n?(n=!1,o):t(r,o,i,s)}),r}var vT=yT,mT=JA,_T=hT,bT=it,$T=vT,AT=U;function TT(e,t,r){var n=AT(e)?mT:$T,a=arguments.length<3;return n(e,bT(t),r,a,_T)}var ST=TT,CT=re,mo=CT("reduce",ST);mo.placeholder=Q;var ET=mo,wT=yo;function xT(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:wT(e,t,r)}var RT=xT,IT=Mt;function OT(e,t){for(var r=e.length;r--&&IT(t,e[r],0)>-1;);return r}var LT=OT,PT=Mt;function MT(e,t){for(var r=-1,n=e.length;++r<n&&PT(t,e[r],0)>-1;);return r}var DT=MT;function BT(e){return e.split("")}var FT=BT,NT="\\ud800-\\udfff",WT="\\u0300-\\u036f",jT="\\ufe20-\\ufe2f",kT="\\u20d0-\\u20ff",KT=WT+jT+kT,GT="\\ufe0e\\ufe0f",UT="\\u200d",zT=RegExp("["+UT+NT+KT+GT+"]");function HT(e){return zT.test(e)}var qT=HT,_o="\\ud800-\\udfff",YT="\\u0300-\\u036f",VT="\\ufe20-\\ufe2f",XT="\\u20d0-\\u20ff",QT=YT+VT+XT,ZT="\\ufe0e\\ufe0f",JT="["+_o+"]",_r="["+QT+"]",br="\\ud83c[\\udffb-\\udfff]",eS="(?:"+_r+"|"+br+")",bo="[^"+_o+"]",$o="(?:\\ud83c[\\udde6-\\uddff]){2}",Ao="[\\ud800-\\udbff][\\udc00-\\udfff]",tS="\\u200d",To=eS+"?",So="["+ZT+"]?",rS="(?:"+tS+"(?:"+[bo,$o,Ao].join("|")+")"+So+To+")*",nS=So+To+rS,aS="(?:"+[bo+_r+"?",_r,$o,Ao,JT].join("|")+")",oS=RegExp(br+"(?="+br+")|"+aS+nS,"g");function iS(e){return e.match(oS)||[]}var sS=iS,lS=FT,cS=qT,uS=sS;function dS(e){return cS(e)?uS(e):lS(e)}var fS=dS,gS=no,pS=kn,hS=RT,yS=LT,vS=DT,Co=fS,mS=yr;function _S(e,t,r){if(e=mS(e),e&&(r||t===void 0))return pS(e);if(!e||!(t=gS(t)))return e;var n=Co(e),a=Co(t),o=vS(n,a),i=yS(n,a)+1;return hS(n,o,i).join("")}var bS=_S,$S=re,Eo=$S("trim",bS);Eo.placeholder=Q;var wo=Eo;const xo=W.default(l.Button)`
  &.Editor__toolbar__button--large {
    width: ${l.pxToRem(80)};
  }

  &:not(:last-of-type) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }
  &:not(:first-of-type) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[aria-checked="true"] {
    z-index: 2;
    position: relative;
  }
`,AS={format_bold:l.BoldIcon,format_italic:l.ItalicIcon,format_list_bulleted:l.ListIcon,["k-u-align-left"]:l.AlignLeftIcon,["k-u-align-center"]:l.AlignCenterIcon,["k-u-align-right"]:l.AlignRightIcon,image:l.ImageIcon,video:l.VideoIcon,link:l.LinkIcon,button_link:l.EditorButtonIcon,quote:l.BlockquoteIcon},J=({tag:e,onToggle:t,style:r,active:n,icon:a,disabled:o})=>{const[{focus:i,translations:s}]=v.useContext(M),c=AS[a],d=s==null?void 0:s.controls[n?`activated_${a}`:a];return u(xo,{disabled:o,active:n&&i,"aria-checked":n&&i,onMouseDown:g=>{g.preventDefault(),!o&&t(r)},title:d,"aria-label":d,fit:"icon",tag:e,type:e==="button"?e:null,children:u(c,{})})};J.propTypes={disabled:p.default.bool,active:p.default.bool,onToggle:p.default.func,tag:p.default.string},J.defaultProps={disabled:!1,active:!1,onToggle:()=>null,tag:"button"};const le=({htmlFor:e,size:t,label:r,children:n,tooltip:a})=>{var i;const[{translations:o}]=v.useContext(M);return u(l.Field.Label,{labelProps:{htmlFor:e,size:t},tooltipId:`tooltip-${e}`,tooltip:a,tooltipProps:{actionLabel:(i=o==null?void 0:o.form)==null?void 0:i.tooltip_action_label},children:r||n})};le.propTypes={htmlFor:p.default.string.isRequired,size:p.default.string,label:p.default.string,tooltip:p.default.string},le.defaultProps={size:"micro"};const Ce=w=>{var D=w,{name:e,form:t,placeholder:r,limit:n,unit:a,type:o,digits:i,disabled:s,rows:c,defaultValue:d,style:f,className:g,onFocus:h,onChange:m,onBlur:T,normalize:A,validate:$}=D,S=Ee(D,["name","form","placeholder","limit","unit","type","digits","disabled","rows","defaultValue","style","className","onFocus","onChange","onBlur","normalize","validate"]);const[I,k,{setValue:K}]=Y.useField({name:e,validate:$});return v.useEffect(()=>{!d||I.value||K(d)},[]),P(te,{children:[u("div",{style:f,className:g,children:u(l.Field.Input,N(vt(N({},I),{id:e,error:k.error&&k.touched,onFocus:h,onChange:B=>{I.onChange(B),A&&K(A(B.target.value)),m(B)},onBlur:B=>{I.onBlur(B),A&&K(A(B.target.value)),T(B)},"data-test-id":e,placeholder:r,limit:n,unit:a,type:o,tag:o,rows:c,digits:i,disabled:s}),S))}),u(Y.ErrorMessage,{name:e,children:B=>u(l.Field.ErrorMessage,{children:B})})]})};Ce.defaultProps={type:"text",disabled:!1,validate:()=>{},onFocus:()=>{},onBlur:()=>{},onChange:()=>{}},Ce.propTypes={name:p.default.string.isRequired,placeholder:p.default.string,defaultValue:p.default.string,rows:p.default.oneOfType([p.default.string,p.default.number]),limit:p.default.oneOfType([p.default.string,p.default.number]),unit:p.default.string,type:p.default.string,digits:p.default.oneOfType([p.default.string,p.default.number]),disabled:p.default.bool,validate:p.default.func,onFocus:p.default.func,onBlur:p.default.func,onChange:p.default.func,normalize:p.default.func};const st=a=>{var o=a,{name:e,onClick:t,isDisabled:r}=o,n=Ee(o,["name","onClick","isDisabled"]);const[d,...f]=Y.useField(e),g=d,{value:i}=g,s=Ee(g,["value"]),[c]=f;return u(te,{children:u(l.TextInputWithButton,N(N({id:e,buttonProps:{onClick:t,disabled:r||c.error&&c.touched},error:c.error&&c.touched},s),n))})};st.defaultProps={onClick:()=>{},isDisabled:!1},st.propTypes={name:p.default.string.isRequired,onClick:p.default.func,isDisabled:p.default.bool};var Ro=r=>{var n=r,{className:e}=n,t=Ee(n,["className"]);const[{translations:a}]=v.useContext(M);return P(l.Button,vt(N({modifier:"helium",size:"big","aria-live":"polite",as:"div",className:ee.default("kiss-SubmitLoader","k-u-cursor-not-allowed",e)},t),{children:[u(l.KissKissLoadingAnimation,{color:l.COLORS.background1}),u(l.VisuallyHidden,{children:a.button_loading})]}))};const $r=_t.default();$r.tlds(bt.default);const Io=W.default.div`
  position: relative;
  margin: ${l.pxToRem(30)} 0;

  @media (min-width: ${l.pxToRem(l.ScreenConfig.S.min)}) {
    display: inline-block;
  }
`,TS=W.default(l.Button)`
  @media (max-width: ${l.pxToRem(l.ScreenConfig.XS.max)}) {
    min-width: initial;
    width: 100%;
  }
`,SS=W.default(l.ArrowContainer)`
  display: flex;
  position: absolute;
  min-width: max-content;
  padding: 0 ${l.pxToRem(20)};
  background-color: ${l.COLORS.background1};
  margin-top: ${l.pxToRem(5)};
  transition: opacity 0.1s ease-out, margin-top 0.1s ease-out;
`,CS=W.default(l.Text)`
  display: block;
  width: 100%;
  padding: 0;
  text-align: center;
`,ES=W.default.span`
  margin: ${l.pxToRem(5)} ${l.pxToRem(10)};
  border-left: var(--border-width, 1px) solid ${l.COLORS.font2};
`,wS=W.default(l.Text)`
  overflow: hidden;
  display: inline-block;
  max-width: ${l.pxToRem(150)};
  text-overflow: ellipsis;
  white-space: nowrap;
`,Oo=({href:e,children:t})=>u(TS,{tag:"a",href:e,target:"_blank",rel:"nofollow noopener",modifier:"helium",size:"big",children:t}),xS=({contentState:e,entityKey:t,children:r})=>{const[n,a]=v.useState(!1),{url:o}=e.getEntity(t).getData(),[{editorState:i,focus:s,translations:c},d]=v.useContext(M),f=pt(e,i,t);return v.useEffect(()=>{setTimeout(()=>a(f&&s),0)},[s,i]),P(Io,{"aria-live":"assertive",children:[u(Oo,{href:o,children:r}),n&&P(SS,{position:"top",shadow:!0,borderWidth:1,borderColor:l.COLORS.line1,contentEditable:!1,children:[u(CS,{href:"#",tag:"a",size:"micro",weight:"regular",color:"error",onClick:g=>{g.preventDefault(),e.getBlockForKey(i.getSelection().getFocusKey()).findEntityRanges(m=>m.getEntity()===t,(m,T)=>{const A=i.getSelection().merge({focusOffset:T,anchorOffset:m}),$=y.Modifier.applyEntity(e,A,null);d(F(y.EditorState.push(i,$,"apply-entity")))})},children:c.link.button.delete}),u(ES,{}),u(wS,{href:o,target:"_blank",rel:"noopener",tag:"a",size:"micro",weight:"regular",color:"font1",children:o})]})]})},Lo=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="BUTTON_LINK"},t)},RS={strategy:Lo,component:xS},IS={strategy:Lo,component:e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return u(Io,{children:u(Oo,{href:t,children:e.children})})}},Ar=({disabled:e,onChange:t})=>{const[{editorState:r,editorRef:n,translations:a},o]=v.useContext(M),i=gt(r),s=Ir(r),c=()=>i?di(r,s):ui(r);return u(l.ModalNext,{headerTitle:u(l.Title,{noMargin:!0,modifier:"quaternary",children:a.button_link.title}),trigger:u(J,{icon:"button_link",className:"Editor__toolbar__button--large",disabled:e}),children:({close:d})=>u(Y.Formik,{enableReinitialize:!0,initialValues:{url:i?i.getData().url:"",text:c()},onSubmit:({url:f})=>{t(f);const g=$r.match(f),h=r.getCurrentContent();if(i){const m=h.replaceEntityData(s,{url:g[0].url});o(F(y.EditorState.push(r,m,"change-block-data")))}else{const m=h.createEntity("BUTTON_LINK","MUTABLE",{url:g[0].url}),T=m.getLastCreatedEntityKey(),A=y.EditorState.set(r,{currentContent:m});o(F(y.RichUtils.toggleLink(A,A.getSelection(),T)))}d(),setTimeout(()=>n.current.blur(),0)},children:({handleSubmit:f})=>P(te,{children:[P(l.ModalNext.Block,{className:"k-u-margin-bottom-quadruple",children:[P("div",{className:"k-u-margin-bottom-double",children:[u(le,{htmlFor:"",children:a.button_link.text}),u(Ce,{name:"text",disabled:!0})]}),u(le,{htmlFor:"url",children:a.button_link.url}),u(Ce,{name:"url",validate:g=>{if(!$r.test(g))return a.link.error}})]}),u(l.ModalNext.Button,{fluid:!0,size:"big",type:"button",modifier:"helium",onClick:f,children:a.submit})]})})})};Ar.propTypes={disabled:p.default.bool,onChange:p.default.func},Ar.defaultProps={disabled:!1,onChange:()=>null};const OS=W.default(l.ArrowContainer)`
  display: flex;
  position: absolute;
  min-width: max-content;
  padding: 0 ${l.pxToRem(20)};
  background-color: ${l.COLORS.background1};
  margin-top: ${l.pxToRem(0)};
  transition: opacity 0.1s ease-out, margin-top 0.1s ease-out;
  z-index: 99999;
`,LS=W.default(l.Text)`
  flex: 1;
  width: 100%;
  text-align: center;
  display: block;
  padding: 0;
`,PS=W.default.span`
  flex: 0;
  border-left: var(--border-width, 1px) solid ${l.COLORS.font2};
  margin: ${l.pxToRem(5)} ${l.pxToRem(10)};
`,MS=W.default(l.Text)`
  flex: 2;
  max-width: ${l.pxToRem(240)};
  text-overflow: ellipsis;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
`,Po=({onDelete:e,url:t})=>{const[{translations:r}]=v.useContext(M);return P(OS,{position:"top",shadow:!0,borderWidth:1,borderColor:l.COLORS.line1,contentEditable:!1,children:[u(LS,{href:"#",tag:"a",size:"micro",color:"error",onClick:n=>{n.preventDefault(),n.stopPropagation(),e(n)},children:r.link.button.delete}),u(PS,{}),u(MS,{href:t,target:"_blank",rel:"noopener",tag:"a",size:"micro",color:"font1",onClick:n=>{n.preventDefault(),n.stopPropagation(),window.open(t,"_blank").focus()},children:t})]})},Mo=W.default.div`
  width: 100%;
  img {
    display: inline-block;
    height: auto;
    max-width: 100%;
  }
`,DS=({url:e,entityKey:t})=>{const[{editorState:r},n]=v.useContext(M);return u(Po,{url:e,onDelete:()=>{n(F(TE(r,t,["url"])))}})},BS=({contentState:e,entityKey:t,blockKey:r})=>{const[{editorState:n},a]=v.useContext(M),o=pt(e,n,t),{src:i,url:s}=e.getEntity(t).getData();return u(Mo,{className:"kiss-Draft__image",onClick:()=>{a(F(pi(n,r)))},children:P("div",{className:ee.default("kiss-Draft__image-focus",{"kiss-Draft__image-focus__focused":o}),children:[u("div",{className:"k-u-align-center",children:u("img",{src:ht(i),alt:""})}),o&&!!s&&u(DS,{url:s,entityKey:t})]})})},FS=({contentState:e,entityKey:t})=>{const{src:r,url:n}=e.getEntity(t).getData();return u(Mo,{className:"kiss-Draft__image-read",children:n?u("a",{href:n,target:"_blank",rel:"nofollow noopener",children:u("div",{className:"k-u-align-center",children:u("img",{src:ht(r),alt:""})})}):u("div",{className:"k-u-align-center",children:u("img",{src:ht(r),alt:""})})})},NS=W.default.input`
  display: none;
`,Do=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="IMAGE"},t)},WS={strategy:Do,component:BS},jS={strategy:Do,component:FS},kS=({imageUrl:e,setImageUrl:t,errorMessage:r,onChange:n=()=>null})=>{const[{translations:a}]=v.useContext(M),{handleSubmit:o,values:i,isSubmitting:s}=Y.useFormikContext(),[,,c]=Y.useField("fileSize"),[,,d]=Y.useField("url"),[,,f]=Y.useField("file"),g=v.useRef(null);return P(te,{children:[u(NS,{ref:g,name:"file",type:"file",id:"imageFile",onChange:h=>{n(h);const m=h.target.files[0];if(!m.type.match("image.*"))return;f.setValue(m),c.setValue(m.size),d.setValue("");const T=new FileReader;T.addEventListener("load",A=>{t(A.target.result)}),T.readAsDataURL(m)},accept:"image/gif, image/jpeg, image/jpg, image/png"}),u("div",{className:"k-u-margin-top-single",children:u(le,{htmlFor:"url",children:a.image_upload.label})}),u(st,{name:"url",placeholder:"https://",buttonValue:a.image_upload.preview,onClick:()=>{t(i.url),c.setValue(0)}}),u("div",{className:"k-u-margin-vertical-single",children:e&&u("img",{src:e,width:"100%",alt:""})}),u(Y.ErrorMessage,{name:"url",children:h=>u(l.Field.ErrorMessage,{children:h})}),u(Y.ErrorMessage,{name:"fileSize",children:h=>u(l.Field.ErrorMessage,{children:h})}),P("div",{className:"k-u-margin-top-single",children:[u("div",{className:"k-u-margin-bottom-single",children:u("a",{href:"#",className:"k-u-link k-u-link-primary1",onClick:h=>{h.preventDefault(),g.current.click()},children:u(l.Text,{tag:"span",decoration:"underline",children:a.image_upload.upload})})}),P(l.ModalNext.Paragraph,{align:"left",noMargin:!0,children:[a.image_upload.help_file.formats,u("br",{}),a.image_upload.help_file.width,u("br",{}),a.image_upload.help_file.size,r&&u(l.Field.ErrorMessage,{children:r})]}),u(l.ModalNext.Actions,{children:s?u(Ro,{fluid:!0}):u(l.ModalNext.Button,{type:"button",size:"big",modifier:"helium",onClick:o,children:a.submit})})]})]})},Tr=({disabled:e,onUpload:t,onChange:r,errorMessage:n})=>{const[a,o]=v.useState(!1),[{editorState:i,translations:s,disabled:c},d]=v.useContext(M),[f,g]=v.useState("");return v.useEffect(()=>{a||g("")},[a]),P(te,{children:[u(J,{icon:"image",disabled:c||e,onToggle:()=>{o(!a)}}),u(l.ModalNext,{onClose:()=>o(!1),isOpen:a,headerTitle:u(l.Title,{modifier:"quaternary",children:s.image_upload.title}),children:({close:h})=>u(l.ModalNext.Block,{children:u(Y.Formik,{initialValues:{url:"",fileSize:0},validationSchema:xe.object().shape({url:xe.string().url(s.image.invalid_url).matches(/(?:jpg|jpeg|gif|png)$/,s.image.invalid_extension),fileSize:xe.number().max(5e6,s.image.max_size)}),onSubmit:({url:m,fileSize:T,file:A},{setSubmitting:$})=>new Promise((S,w)=>{ie(m)&&T===0&&(w("WRONG"),$(!1)),!ie(m)&&T===0&&S(m),t(A).then(D=>S(D)).catch(()=>{$(!1)})}).then(S=>{const I=i.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:S}).getLastCreatedEntityKey(),k=y.AtomicBlockUtils.insertAtomicBlock(i,I," "),K=y.EditorState.forceSelection(k,k.getCurrentContent().getSelectionAfter());if(fi(K)){const B=gi(K);d(F(B))}else d(F(K));h(),o(!1),setTimeout(()=>o(!1),500)}),children:()=>u(kS,{imageUrl:f,setImageUrl:g,errorMessage:n,onChange:r})})})})]})};Tr.propTypes={disabled:p.default.bool,onUpload:p.default.func,errorMessage:p.default.string},Tr.defaultProps={disabled:!1,onUpload:()=>null};const Sr=_t.default();Sr.tlds(bt.default);const Bo=W.default.div`
  display: inline-block;
  position: relative;
`,KS=W.default.div`
  display: flex;
  justify-content: center;
  img {
    max-height: ${l.pxToRem(200)};
    max-width: 100%;
  }
`,GS=({src:e})=>u(KS,{children:u("img",{src:ht(e),alt:""})}),US=({contentState:e,entityKey:t,children:r})=>{const[n,a]=v.useState(!1),{url:o}=e.getEntity(t).getData(),[{editorState:i,focus:s},c]=v.useContext(M),d=pt(e,i,t);return v.useEffect(()=>{setTimeout(()=>a(d&&s),0)},[s,i]),P(Bo,{"aria-live":"assertive",children:[u("a",{href:o,target:"_blank",className:"k-u-link k-u-link-primary1",rel:"nofollow noopener",children:r}),n&&u(Po,{url:o,onDelete:()=>{var g;const f=e==null?void 0:e.getBlockForKey((g=i==null?void 0:i.getSelection())==null?void 0:g.getFocusKey());!f||f.findEntityRanges(h=>h.getEntity()===t,(h,m)=>{const T=i.getSelection().merge({focusOffset:m,anchorOffset:h}),A=y.Modifier.applyEntity(e,T,null);c(F(y.EditorState.push(i,A,"apply-entity")))})}})]})},Fo=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="LINK"},t)},zS={strategy:Fo,component:US},HS={strategy:Fo,component:e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return u(Bo,{children:u("a",{href:t,target:"_blank",rel:"nofollow noopener",className:"k-u-link k-u-link-primary1",children:e.children})})}},Cr=({disabled:e,onChange:t})=>{const[r,n]=v.useState(!1),[{editorState:a,editorRef:o,translations:i,disabled:s},c]=v.useContext(M),d=gt(a),f=Ir(a),g=()=>d?di(a,f):ui(a),h=()=>{const T=a.getSelection();setTimeout(()=>o.current.focus(),0);const A=T.merge({anchorOffset:T.getFocusOffset(),hasFocus:!0});c(F(y.EditorState.forceSelection(a,A)))},m=!s&&!e&&(d||!ie(g()));return P(te,{children:[u(J,{icon:"link",disabled:!m,onToggle:()=>{n(!r)}}),u(l.ModalNext,{onClose:()=>{n(!1),h()},isOpen:r,headerTitle:u(l.Title,{modifier:"quaternary",children:i.link.title}),children:({close:T})=>u(l.ModalNext.Block,{children:u(Y.Formik,{enableReinitialize:!0,initialValues:{url:d?d.getData().url:"",text:g()},onSubmit:({url:A})=>{const $=Sr.match(A),S=a.getCurrentContent();if(t(),d)if((d==null?void 0:d.get("type"))==="IMAGE"){const w=S.mergeEntityData(f,{url:$[0].url});c(F(y.EditorState.push(a,w,"change-block-data")))}else{const w=S.replaceEntityData(f,{url:$[0].url});c(F(y.EditorState.push(a,w,"change-block-data")))}else{const w=S.createEntity("LINK","MUTABLE",{url:$[0].url}),D=w.getLastCreatedEntityKey(),I=y.EditorState.set(a,{currentContent:w});c(F(y.RichUtils.toggleLink(I,I.getSelection(),D)))}T(),n(!1),setTimeout(()=>o.current.focus(),0)},children:({handleSubmit:A})=>{var $;return P(te,{children:[u("div",{className:"k-u-margin-bottom-double",children:(d==null?void 0:d.get("type"))==="IMAGE"?u(GS,{src:($=d==null?void 0:d.getData())==null?void 0:$.src}):P(te,{children:[u(le,{htmlFor:"",children:i.link.text.label}),u(Ce,{name:"text",disabled:!0})]})}),P("div",{className:"k-u-margin-vertical-double",children:[u(le,{size:"micro",htmlFor:"url",children:i.image_upload.url}),u(Ce,{name:"url",validate:S=>{if(!Sr.test(S))return i.link.error}})]}),u(l.ModalNext.Actions,{children:u(l.ModalNext.Button,{size:"big",type:"button",modifier:"helium",onClick:A,children:i.submit})})]})}})})})]})};Cr.propTypes={disabled:p.default.bool,onChange:p.default.func},Cr.defaultProps={disabled:!1,onChange:()=>null};const qS="https://api.embed.ly/1/",No=e=>{if(!e.key)throw new Error("You need an API key to call Embedly");return fetch(`${qS}oembed?${ki.default.stringify(N({secure:document.location.protocol==="https:",scheme:document.location.protocol.replace(":","")},e))}`).then(t=>t.json())},Er=({height:e,width:t})=>(e/t*100).toPrecision(4),Wo=e=>{if(console.log(e),e.type==="video"||e.type==="rich"&&e.provider_name!=="SoundCloud")return{ratio:Er({height:e.height,width:e.width}),html:e.html};switch(e.provider_name){case"SoundCloud":return{ratio:Er({height:6,width:16}),html:e.html};case"Ovizer":return{ratio:Er({height:e.thumbnail_height||1,width:e.thumbnail_width||1}),html:`<iframe src="${e.url}" width="100%" height="auto" allowFullScreen></iframe>`};case"Apple Podcasts":const t=e.url.replace("podcasts.apple.com","embed.podcasts.apple.com");return{height:183,ratio:.1,html:`<iframe allow="autoplay *; encrypted-media *; fullscreen *" height="175" style=";overflow:hidden;background:transparent;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="${t}&theme=auto"></iframe>`};default:return{ratio:67.5,html:`<iframe src="${e.url}" width="100%" height="auto" allowFullScreen></iframe>`}}},YS=({contentState:e,entityKey:t,blockKey:r})=>{const{embedlyHtml:n,embedRatio:a,html:o,height:i}=e.getEntity(t).getData(),[{editorState:s},c]=v.useContext(M),d=g=>{g.preventDefault(),g.stopPropagation(),c(F(pi(s,r)))},f=pt(e,s,t);return u(l.ResponsiveIframeContainer,{ratio:a||67.5,className:"kiss-Draft__media",style:N({},i&&{height:i}),children:u("div",{className:ee.default("kiss-Draft__media-focus",{"kiss-Draft__media-focus__focused":f}),onClick:d,children:l.parseHtml(n||o,{sanitize:!1})})})},VS=e=>{const{embedlyHtml:t,embedRatio:r,height:n,html:a}=e.contentState.getEntity(e.entityKey).getData();return u(l.ResponsiveIframeContainer,{ratio:r||67.5,className:"kiss-Draft__media-read",style:N({},n&&{height:n}),children:l.parseHtml(t||a,{sanitize:!1})})},jo=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&["VIDEO","MEDIA"].includes(r.getEntity(a).getType())},t)},XS={strategy:jo,component:YS},QS={strategy:jo,component:VS},wr=({disabled:e,onChange:t,embedlyApiKey:r})=>{const[{editorState:n,translations:a,disabled:o},i]=v.useContext(M),[s,c]=v.useState(!1),[d,f]=v.useState(void 0),[g,h]=v.useState(void 0),[m,T]=v.useState(void 0),[A,$]=v.useState(!1);return P(te,{children:[u(J,{icon:"video",disabled:o||e,onToggle:()=>{c(!s)}}),u(l.ModalNext,{onClose:()=>c(!1),isOpen:s,headerTitle:u(l.Title,{modifier:"quaternary",children:a.media_upload.title}),children:({close:S})=>u(l.ModalNext.Block,{children:u(Y.Formik,{initialValues:{url:""},validationSchema:xe.object().shape({url:xe.string().url(a.video.invalid_url)}),onSubmit:({url:w})=>(t(w),$(!1),No({key:r,maxwidth:640,url:w}).then(D=>{if(D.type==="error"){$(!0);return}const{html:I,ratio:k,height:K}=Wo(D),B=EE(n,N({html:I,embedRatio:k},K&&{height:K}));if(fi(B)){const se=gi(B);i(F(se))}else i(F(B));S(),setTimeout(()=>{c(!1),f(void 0)},500)})),children:({handleSubmit:w,isSubmitting:D,values:I})=>P(te,{children:[u(le,{size:"micro",className:"k-u-margin-bottom-single",htmlFor:"url",children:a.image_upload.label}),u(st,{name:"url",placeholder:"https://",buttonValue:a.image_upload.preview,onClick:()=>{$(!1),No({key:r,maxwidth:640,url:I.url}).then(k=>{if(k.type==="error"){$(!0);return}const{html:K,ratio:B,height:se=void 0}=Wo(k);h(B),f(K),T(se)})}}),d&&u("div",{className:"k-u-margin-vertical-single",children:u(l.ResponsiveIframeContainer,{ratio:g,style:N({},m&&{height:m}),children:l.parseHtml(d,{sanitize:!1})})}),A&&u(l.Field.ErrorMessage,{children:a.video.problem}),u(l.ModalNext.Actions,{children:D?u(Ro,{fluid:!0}):u(l.ModalNext.Button,{size:"big",type:"button",modifier:"helium",onClick:w,children:a.submit})})]})})})})]})};wr.propTypes={embedlyApiKey:p.default.string.isRequired,disabled:p.default.bool,onChange:p.default.func},wr.defaultProps={disabled:!1,onChange:()=>null};const ko=_t.default({fuzzyLink:!1});ko.tlds(bt.default);var Ko={strategy:(e,t)=>{const r=ko.match(e.get("text"));if(typeof r!="undefined"&&r!==null)for(let n=0;n<r.length;n+=1)t(r[n].index,r[n].lastIndex)},component:e=>u("a",{target:"_blank",rel:"nofollow noopener",className:"k-u-link k-u-link-primary1",href:e.decoratedText,children:e.children})},lt={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="LINK"},t)},component:e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData();return u("a",{href:t,className:"k-u-link k-u-link-primary1",target:"_blank",rel:"nofollow noopener noreferrer",children:e.children})}};function ZS(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var JS=ZS,xr=fa,eC=yn,tC=ur,rC=1/0,nC=xr&&1/tC(new xr([,-0]))[1]==rC?function(e){return new xr(e)}:eC,aC=nC,oC=Pa,iC=wn,sC=JS,lC=Ma,cC=aC,uC=ur,dC=200;function fC(e,t,r){var n=-1,a=iC,o=e.length,i=!0,s=[],c=s;if(r)i=!1,a=sC;else if(o>=dC){var d=t?null:cC(e);if(d)return uC(d);i=!1,a=lC,c=new oC}else c=t?[]:s;e:for(;++n<o;){var f=e[n],g=t?t(f):f;if(f=r||f!==0?f:0,i&&g===g){for(var h=c.length;h--;)if(c[h]===g)continue e;t&&c.push(g),s.push(f)}else a(c,g,r)||(c!==s&&c.push(g),s.push(f))}return s}var gC=fC,pC=gC;function hC(e){return e&&e.length?pC(e):[]}var yC=hC,vC=re,Go=vC("uniq",yC,po);Go.placeholder=Q;var mC=Go;const Uo=e=>/(.gif)$/gim.test(e),zo=e=>/(.svg)$/gim.test(e),_C=["jpg","jpeg","png","webp"],Ho=(e,t)=>{const r=e.replace(/https?:\/\/([0-9a-z.:]+)\/\S+/gi,"$1");return(t==null?void 0:t.allowedServers.indexOf(r))>-1},bC=e=>encodeURIComponent(encodeURIComponent(e)),qo=(e,{width:t=0,height:r=0,filters:n=[],upscale:a=!0},o)=>{if(zo(e)||Uo(e)||!ENABLE_RESPONSIVE_IMAGES)return e;const i=bC(e),c=`${o==null?void 0:o.host}/${t}x${r}`;a||n.push("no_upscale:1");let d="";n.forEach(g=>{const[h,m]=g.split(":");h==="format"&&_C.includes(m)&&(d=`.${m}`)});const f=mC(n).join(",");return f?`${c}/${f}/${i}${d}`:`${c}/options:false/${i}`},Yo=(e,{imageSizes:t,breakpoints:r,imageSizesInViewport:n,ratio:a=0,upscale:o=!0,format:i="jpg",config:s}={})=>{if(!e)return;if(zo(e)||Uo(e)||!ENABLE_RESPONSIVE_IMAGES||!Ho(e,s))return{src:e,srcSet:"",sizes:""};if(r.length!==n.length)return;const c=`format:${i}`,d=["quality:90",c],g=[...t].sort((A,$)=>$-A)[0],h=qo(e,{width:g,height:Math.floor(g*a),filters:d,upscale:o},s),m=t.reduce((A,$)=>A.concat(`${qo(e,{width:$,height:Math.floor($*a),filters:d,upscale:o},s)} ${$}w`),[]).join(", "),T=r.reduce((A,$,S)=>A.concat(`(min-width: ${$}px) calc(${n[S]})`),[`calc(${n[0]})`]).reverse().join(", ");return{src:h,srcSet:m,sizes:T}},$C=`100vw - ${l.CONTAINER_PADDING_THIN*2}px`,AC=`(100vw - ${l.CONTAINER_PADDING*2}px) * (7/12)`,TC=`(${l.ScreenConfig.XL.min-l.CONTAINER_PADDING*2}px) * (7/12))`,Vo=[280,335,380,785,944];function SC(e,t){for(var r=0;r<e.length;r++)if(e[r]>=t)return e[r]}var Xo={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="IMAGE"},t)},component:e=>{const[{configResponsiveImageHandler:t}]=v.useContext(M),{src:r,alt:n,style:a,width:o,height:i,imageLink:s}=e.contentState.getEntity(e.entityKey).getData(),c=v.useRef(null),d=l.useLazyObserver(c),f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><path fill='%23caf4fe' d='M0 0h400v300H0z'/></svg>";let g={src:r,sizes:null,srcSet:null};Ho(r,t)&&(g=a.width&&a.height?Yo(r,{imageSizes:[SC(Vo,parseInt(a.width))],breakpoints:[0],imageSizesInViewport:[parseInt(a.width)],upscale:!1,resolutions:1,config:t}):Yo(r,{imageSizes:Vo,breakpoints:[0,1080,1440],imageSizesInViewport:[$C,AC,TC],upscale:!1,config:t}));const h=u("img",{src:d?g.src:f,srcSet:d?g.srcSet:"",sizes:g.sizes,alt:n,width:o&&i?o:void 0,height:o&&i?i:void 0,style:{width:a.width}});return s?u("a",{href:s,className:"k-u-align-center",target:"_blank",rel:"nofollow noopener noreferrer",ref:c,children:h}):u("div",{className:"k-u-align-center",ref:c,children:h})}},ct={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="MEDIA"},t)},component:e=>{const{html:t}=e.contentState.getEntity(e.entityKey).getData();return u(l.LazyLoader,{children:u(l.ResponsiveIframeContainer,{ratio:67.5,children:l.parseHtml(t,{sanitize:!1})})})}},Qo={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="IMAGE"},t)},component:e=>{const{src:t,alt:r,style:n,width:a,height:o,imageLink:i}=e.contentState.getEntity(e.entityKey).getData(),s=v.useRef(null),c=l.useLazyObserver(s),f=u("img",{src:c?t:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><path fill='%23caf4fe' d='M0 0h400v300H0z'/></svg>",alt:r,width:a&&o?a:void 0,height:a&&o?o:void 0,style:{width:n.width}});return i?u("a",{href:i,className:"k-u-align-center",target:"_blank",rel:"nofollow noopener noreferrer",ref:s,children:f}):u("div",{className:"k-u-align-center",ref:s,children:f})}},ut={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="SEPARATOR"},t)},component:()=>u("hr",{})},dt={strategy:(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="BLOCKQUOTE"},t)},component:e=>e.children.length===1&&e.children[0].props.text===" "?null:u("span",{children:e.children})},CC=gr;function EC(e,t){return CC(e,t)}var wC=EC,xC=re,Zo=xC("isEqual",wC);Zo.placeholder=Q;var ft=Zo,RC="Expected a function";function IC(e){if(typeof e!="function")throw new TypeError(RC);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var OC=IC,LC=Kt,PC=Se,MC=qe,Jo=oe,DC=ge;function BC(e,t,r,n){if(!Jo(e))return e;t=PC(t,e);for(var a=-1,o=t.length,i=o-1,s=e;s!=null&&++a<o;){var c=DC(t[a]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=i){var f=s[c];d=n?n(f,c,s):void 0,d===void 0&&(d=Jo(f)?f:MC(t[a+1])?[]:{})}LC(s,c,d),s=s[c]}return e}var FC=BC,NC=ot,WC=FC,jC=Se;function kC(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var i=t[n],s=NC(e,i);r(s,i)&&WC(o,jC(i,e),s)}return o}var KC=kC,GC=at,UC=it,zC=KC,HC=tr;function qC(e,t){if(e==null)return{};var r=GC(HC(e),function(n){return[n]});return t=UC(t),zC(e,r,function(n,a){return t(n,a[0])})}var YC=qC,VC=it,XC=OC,QC=YC;function ZC(e,t){return QC(e,XC(VC(t)))}var JC=ZC,eE=re,ei=eE("omitBy",JC);ei.placeholder=Q;var ti=ei;const tE=he("children[0]"),ri=pe(he("children[0].nodeName"),ft("IMG")),rE=pe(he("parentElement.nodeName"),ft("A")),ni=ti(ie),nE=new y.CompositeDecorator([lt,Xo,ct,ut,dt]),aE=new y.CompositeDecorator([lt,Qo,ct,ut,dt]),oE=e=>mt.convertFromHTML({htmlToStyle:(t,r,n)=>r.style&&r.style["margin-left"]!==""?n.add("MARGIN_LEFT"):n,htmlToEntity:(t,r,n)=>{if(t==="a"){if(ri(r)){const a=tE(r);return n("IMAGE","IMMUTABLE",{src:a.src,alt:a.alt,width:a.width,height:a.height,style:ni(a.style),imageLink:r.href})}return n("LINK","MUTABLE",{url:r.href})}if(t==="img"&&!rE(r))return n("IMAGE","IMMUTABLE",{src:r.src,alt:r.alt,width:r.width,height:r.height,style:ni(r.style)});if(t==="iframe")return n("MEDIA","IMMUTABLE",{html:r.outerHTML});if(t==="hr")return n("SEPARATOR","IMMUTABLE");if(t==="blockquote")return n("BLOCKQUOTE","IMMUTABLE")},htmlToBlock:(t,r)=>{if(["img","iframe","hr"].includes(t)||ri(r))return"atomic";if(r.textContent===" ")return"br";if(t==="p"&&r.style["text-align"]!==void 0)return{type:"paragraph",data:{textAlign:r.style["text-align"]}};if(t==="h2"&&r.style["text-align"]!==void 0)return{type:"header-two",data:{textAlign:r.style["text-align"]}};if(t==="h3"&&r.style["text-align"]!==void 0)return{type:"header-three",data:{textAlign:r.style["text-align"]}};if(t==="h4"&&r.style["text-align"]!==void 0)return{type:"header-four",data:{textAlign:r.style["text-align"]}};if(t==="p")return"paragraph"}})(e),iE=he("children[0]"),sE=pe(he("children[0].nodeName"),ft("IMG")),lE=pe(he("parentElement.nodeName"),ft("A")),ai=ti(ie);new y.CompositeDecorator([lt,Xo,ct,ut,dt]),new y.CompositeDecorator([lt,Qo,ct,ut,dt]);const cE=e=>mt.convertFromHTML({htmlToStyle:(t,r,n)=>r.style&&r.style["margin-left"]!==""?n.add("MARGIN_LEFT"):n,htmlToEntity:(t,r,n)=>{if(t==="a"){if(sE(r)){const a=iE(r);return n("IMAGE","IMMUTABLE",{src:a.src,alt:a.alt,width:a.width,height:a.height,style:ai(a.style),imageLink:r.href})}return n("LINK","MUTABLE",{url:r.href})}if(t==="img"&&!lE(r))return n("IMAGE","IMMUTABLE",{src:r.src,alt:r.alt,width:r.width,height:r.height,style:ai(r.style)});if(t==="iframe")return n("MEDIA","IMMUTABLE",{html:r.outerHTML});if(t==="hr")return n("SEPARATOR","IMMUTABLE");if(t==="blockquote")return n("BLOCKQUOTE","IMMUTABLE")},htmlToBlock:(t,r)=>{if(["img","iframe","hr"].includes(t))return"atomic";if(r.textContent===" ")return"br";if(t==="p"&&r.style["text-align"]!==void 0)return{type:"paragraph",data:{textAlign:r.style["text-align"]}};if(t==="h2"&&r.style["text-align"]!==void 0)return{type:"header-two",data:{textAlign:r.style["text-align"]}};if(t==="h3"&&r.style["text-align"]!==void 0)return{type:"header-three",data:{textAlign:r.style["text-align"]}};if(t==="h4"&&r.style["text-align"]!==void 0)return{type:"header-four",data:{textAlign:r.style["text-align"]}};if(t==="p")return"paragraph"}})(e),uE=Ne.Map({paragraph:{element:"p"}}),oi=(e,t=!1)=>{const r=t?cE(e):oE(e);return r.set("blockMap",r.getBlockMap().filter(n=>!(!["atomic","br"].includes(n.getType())&&n.getText()==="")))},ii=(e,t=!1)=>y.convertToRaw(oi(e,t)),si=e=>y.EditorState.createWithContent(oi(e)),Rr=({html:e,perfEnabled:t,useRichTextStyle:r})=>{if(!e)return null;if(!l.domElementHelper.canUseDom()){const n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'><path fill='%23caf4fe' d='M0 0h400v300H0z'/></svg>",a=/<img([\S ]*?) src="[\S]+?"/gm,o=`<img $1 src="${n}"`;return e=e.replace(a,o),t&&(e=e.replace(/<(img|iframe)([\S ]+?) (src=")/gm,"<$1 $2 data-$3")),u("section",{className:ee.default({"kiss-RichText":r}),children:l.parseHtml(e)})}return u("section",{className:ee.default({"kiss-RichText":r}),children:u(y.Editor,{editorState:y.EditorState.set(e!==null?si(e):y.EditorState.createEmpty(),{decorator:t?nE:aE}),onChange:()=>null,blockRenderMap:y.DefaultDraftBlockRenderMap.merge(uE),blockStyleFn:n=>{switch(n.getData().get("textAlign")){case"right":return"draft-align-right";case"center":return"draft-align-center";case"left":return"draft-align-left";default:return""}},readOnly:!0})})};Rr.propTypes={useRichTextStyle:p.default.bool},Rr.defaultProps={useRichTextStyle:!0};const li=e=>{try{return JSON.parse(e),!0}catch{return!1}},dE=e=>l.domElementHelper.canUseDom()?li(e)?JSON.parse(e):ii(e,!0):{},fE=e=>{if(!l.domElementHelper.canUseDom())return null;if(!e||ie(e))return y.EditorState.createEmpty();try{return y.EditorState.createWithContent(li(e)?y.convertFromRaw(JSON.parse(e)):y.convertFromRaw(ii(e,!0)))}catch{return y.EditorState.createEmpty()}},ci=e=>y.EditorState.set(e,{decorator:new y.CompositeDecorator([WS,XS,zS,RS,Ko])}),gE=e=>{const t=e.getCurrentContent();return y.EditorState.push(e,y.Modifier.setBlockType(t,t.getSelectionAfter(),"unstyled"),"change-block-type")},pE=e=>{const t=e.getCurrentContent(),r=e.getSelection();return t.getBlockForKey(r.getStartKey()).getData().get("alignmentStyle")},hE=e=>{const r=e.getSelection().getAnchorKey();return e.getCurrentContent().getBlockForKey(r)},ui=e=>{const t=hE(e),r=e.getSelection(),n=r.getStartOffset(),a=r.getEndOffset();return t.getText().slice(n,a)},Ir=e=>{const t=e.getCurrentContent(),r=e.getSelection().getStartKey(),n=e.getSelection().getStartOffset();return t.getBlockForKey(r).getEntityAt(n)},gt=e=>{const t=e.getCurrentContent(),r=Ir(e);return r?t.getEntity(r):void 0},di=(e,t)=>{let r;const n=e.getCurrentContent(),a=e.getSelection(),o=n.getBlockForKey(a.getFocusKey());return o.findEntityRanges(i=>i.getEntity()===t,(i,s)=>{r=o.getText().slice(i,s)}),r},pt=(e,t,r)=>{const n=e.getBlockForKey(t.getSelection().getFocusKey());if(!n)return!1;const a=n.getEntityAt(t.getSelection().getStartOffset());return r===a},yE=e=>pe(he("blocks"),ET((t,r)=>`${t}${r.text}`,""),ie)(e),vE=e=>{const t=e.getCurrentContent(),n=e.getSelection().getAnchorKey(),a=t.getBlockBefore(n);return(a==null?void 0:a.get("type"))==="atomic"},mE=e=>{const t=e.getCurrentContent(),r=e.getSelection(),n=t.getBlockForKey(r.getAnchorKey()),a=n.getEntityAt(r.getStartOffset());let o=null;n.findEntityRanges(s=>s.getEntity()===a,(s,c)=>{o=r.merge({anchorOffset:s,focusOffset:c})});const i=y.Modifier.applyEntity(t,o,null);return y.EditorState.push(e,i,"apply-entity")},fi=e=>{const t=e.getCurrentContent(),n=t.getSelectionBefore().getAnchorKey(),a=t.getBlockForKey(n);return pe(wo,ie)(a.getText())},_E=e=>{const t=e.getCurrentContent(),n=e.getSelection().getAnchorKey(),a=t.getBlockForKey(n);return pe(wo,ie)(a.getText())},bE=e=>{const t=e.getCurrentContent(),n=e.getSelection().getAnchorKey();return!t.getBlockBefore(n)},$E=e=>{var c,d,f;const t=e.getSelection(),r=t.getAnchorKey(),a=e.getCurrentContent().getBlockForKey(r),o=(c=a==null?void 0:a.get("text"))==null?void 0:c.length,i=(d=t==null?void 0:t.getStartOffset())!=null?d:0,s=(f=t==null?void 0:t.getEndOffset())!=null?f:0;return o===s-i},gi=e=>{const t=e.getCurrentContent().getBlockMap().delete(e.getCurrentContent().getSelectionBefore().getFocusKey()),r=e.getCurrentContent().merge({blockMap:t});return y.EditorState.push(e,r,"remove-range")},AE=(e,t)=>{const r=e.getCurrentContent(),n=r.getBlockForKey(t);let a=y.SelectionState.createEmpty(n.getKey());a=a.merge({anchorKey:n.getKey(),anchorOffset:0,focusKey:n.getKey(),focusOffset:n.getLength()});const o=y.Modifier.removeRange(r,a,"backward"),i=o.getBlockMap().delete(t),s=o.merge({blockMap:i});return y.EditorState.push(e,s,"remove-range")},pi=(e,t,r=0)=>{const n=y.SelectionState.createEmpty(t).merge({focusOffset:r});return y.EditorState.forceSelection(e,n)},TE=(e,t,r)=>{const n=e.getCurrentContent().getEntity(t).getData(),a=e.getCurrentContent().replaceEntityData(t,QA(r)(n));return y.EditorState.push(e,a,"apply-entity")},Or=e=>{var s,c;const r=e.getSelection().getAnchorKey(),n=e.getCurrentContent().getKeyBefore(r),a=e.getCurrentContent().getKeyAfter(r),o=e.getCurrentContent().getBlockBefore(r);if(!a&&!n){const d=ci(y.EditorState.createEmpty());return y.EditorState.moveSelectionToEnd(d)}let i=y.SelectionState.createEmpty(n||a);return i=i.merge({anchorOffset:(s=o==null?void 0:o.getLength())!=null?s:0,focusOffset:(c=o==null?void 0:o.getLength())!=null?c:0}),y.EditorState.forceSelection(AE(e,r),i)},hi=e=>{var r;const t=(r=e==null?void 0:e.get("data"))==null?void 0:r.src;return CE(t)||SE(t)},SE=e=>/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e),CE=e=>/<img.*?src="(.*?)"[^\\>]+>/.test(e),ht=e=>{var r;const[,t]=(r=e==null?void 0:e.match(/src\s*=\s*"(.+?)"/))!=null?r:[];return t||e},yi=e=>{var t,r;return!!((t=e==null?void 0:e.get("data"))==null?void 0:t.embedlyHtml)||!!((r=e==null?void 0:e.get("data"))==null?void 0:r.html)},vi=(e,t,r={})=>{const n=new y.ContentBlock(N({key:y.genKey(),type:"unstyled",text:""},r)),a=e.getCurrentContent(),o=a.getBlockMap(),i=Ne.OrderedMap().withMutations(s=>{for(let[c,d]of o.entries())s.set(c,d),t===c&&s.set(n.getKey(),n)});return y.EditorState.forceSelection(y.EditorState.push(e,y.ContentState.createFromBlockArray(Array.from(i.values())).set("selectionBefore",a.getSelectionBefore()).set("selectionAfter",a.getSelectionAfter())),y.SelectionState.createEmpty(n.getKey()))},EE=(e,t={})=>{const a=e.getCurrentContent().createEntity("VIDEO","MUTABLE",t).getLastCreatedEntityKey();return y.AtomicBlockUtils.insertAtomicBlock(e,a," ")},mi=we.createGlobalStyle`
  .public-DraftEditorPlaceholder-root {
    ${l.TYPOGRAPHY.fontStyles.light};
    font-size: ${l.pxToRem(20)};
    line-height: ${l.pxToRem(32)};
    color: ${l.COLORS.font2};
    position: absolute;
    z-index: -1;
  }

  .public-DraftEditor-content {
    font-size: ${l.pxToRem(20)};
    line-height: ${l.pxToRem(32)};
  }

  .DraftEditor-editorContainer {
    ${l.TYPOGRAPHY.fontStyles.light};
    color: ${l.COLORS.font1};
    cursor: text;
    word-break: break-word;
    letter-spacing: 0;

    .public-DraftStyleDefault-ul {
      margin-top: ${l.pxToRem(10)};
      margin-bottom: ${l.pxToRem(10)};
      list-style: disc;

      .public-DraftStyleDefault-unorderedListItem {
        margin-left: ${l.pxToRem(20)};
      }
    }

    .kiss-Draft__image-read, .kiss-Draft__media-read {
      margin: ${l.pxToRem(40)} auto;
    }
    
    .kiss-Draft__image, .kiss-Draft__media {
      margin: ${l.pxToRem(34)} auto;
      display: flex;
      justify-content: center;
      
      img {
        display: block;
      }
    }

    .kiss-Draft__media-focus {
      padding: ${l.pxToRem(2)};
      border: ${l.pxToRem(4)} solid ${l.COLORS.background1};
      cursor: pointer;
      transition: all ease-in-out 100ms;
      > iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }
    }

    .kiss-Draft__image-focus {
      width: fit-content;
      padding: ${l.pxToRem(2)};
      border: ${l.pxToRem(4)} solid ${l.COLORS.background1};
      cursor: pointer;
      transition: all ease-in-out 100ms;
    }

    .kiss-Draft__image-focus:hover, .kiss-Draft__media-focus:hover {
      border-color: ${l.COLORS.primary4};
    }

    .kiss-Draft__image-focus__focused, .kiss-Draft__media-focus__focused {
      border-color: ${l.COLORS.primary1} !important;
      caret-color: transparent;
    }

    blockquote {
      font-style: italic;
      padding-left: ${l.pxToRem(15)};
      margin-left: ${l.pxToRem(50)};
      margin-top: ${l.pxToRem(20)};
      margin-bottom: ${l.pxToRem(20)};
      border-left: ${l.pxToRem(3)} solid ${l.COLORS.line1};
    }
  }

  .DraftEditor-editorContainer__disabled {
    color: ${l.COLORS.font2};
    cursor: not-allowed;

    a {
      color: ${l.COLORS.line2};
      &:hover,
      &:focus {
        color: ${l.COLORS.line2};
      }
    }
  }

  .DraftEditor-editorContainer__no-richText {
    font-size: ${l.pxToRem(14)};
  }

  .DraftEditor-editorContainer__compact {
    line-height: ${l.pxToRem(20)};
  }

  li.DraftEditor-editorContainer__compact,
  li.DraftEditor-editorContainer__richText {
    .public-DraftStyleDefault-block {
      margin: 0;
    }
  }

  .u-Editor__compact,
  .u-Editor__root {
    .public-DraftStyleDefault-ul {
      margin: 0;
    }
  }

  .public-DraftStyleDefault-block {
    margin: ${l.pxToRem(10)} auto;
  }
`,_i=({isDisabled:e,useRichTextStyle:t,compact:r})=>n=>{const a=n.getData().get("alignmentStyle");return ee.default({"DraftEditor-editorContainer__disabled":e,"DraftEditor-editorContainer__richText":t,"DraftEditor-editorContainer__no-richText":!t,"DraftEditor-editorContainer__compact":r,[a]:a})};var wE=e=>(t,r)=>{const n=gt(r);if(t==="backspace"&&hi(n)||yi(n))return e(Or(r)),"handled";if(t==="backspace"&&(n==null?void 0:n.getType())==="IMAGE")return e(mE(r)),"handled";if(t==="backspace"&&$E(r)&&vE(r)||t==="backspace"&&bE(r)&&_E(r))return e(Or(r)),"handled";const a=y.RichUtils.handleKeyCommand(r,t);return a?(e(a),"handled"):"not-handled"},xE=e=>(t,r)=>{const n=r.getCurrentContent(),a=r.getSelection().getAnchorKey(),o=n.getBlockForKey(a),i=gt(r);return yi(i)||hi(i)?(e(vi(r,a)),"handled"):o.getText()===""&&["unordered-list-item","blockquote"].includes(o.getType())?(e(gE(r)),"handled"):["header-two","header-three"].includes(o.getType())?(e(vi(r,a)),"handled"):"not-handled"};const bi=y.DefaultDraftBlockRenderMap.merge(Ne.Map({"header-one":{element:"span",wrapper:u(l.Title,{tag:"h1",modifier:"secondary",noMargin:!0,className:"k-u-margin-bottom-singleHalf k-u-margin-bottom-double@s-up"})},"header-two":{element:"span",wrapper:u(l.Title,{tag:"h2",modifier:"tertiary",noMargin:!0,className:"k-u-margin-bottom-singleHalf k-u-margin-bottom-double@l-up"})},"header-three":{element:"span",wrapper:u(l.Title,{tag:"h3",modifier:"quaternary",noMargin:!0,className:"k-u-margin-bottom-singleHalf"})},"header-four":{element:"span",wrapper:u(l.Title,{tag:"h4",modifier:"quinary",noMargin:!0,className:"k-u-margin-bottom-single k-u-margin-bottom-singleHalf@s-up"})}})),RE=W.default.div`
  border-radius: var(--border-radius-s);
  cursor: text;

  &.u-Editor--hasBorder {
    border: var(--border);
    padding: ${l.pxToRem(15)};

    &.u-Editor--focused, &:focus-within {
      border: var(--border-active);
      outline: var(--outline-input);
      outline-offset: var(--outline-offset-input);
    }

    &.u-Editor--hasError {
      border: var(--border-danger);
    }
  }
`,Lr=h=>{var m=h,{className:e,hasError:t,onFocus:r,onBlur:n,rawValue:a,initialValue:o,placeholder:i,withoutBorder:s,useRichTextStyle:c,isDisabled:d,compact:f}=m,g=Ee(m,["className","hasError","onFocus","onBlur","rawValue","initialValue","placeholder","withoutBorder","useRichTextStyle","isDisabled","compact"]);const T=v.useRef(null),[{editorState:A,focus:$},S]=v.useContext(M),w=I=>S(F(I));v.useEffect(()=>{g.onChange(a?y.convertToRaw(A.getCurrentContent()):A.getCurrentContent())},[A]),v.useEffect(()=>{S(Zi(T))},[T]),v.useEffect(()=>{w(ci(fE(o)))},[o]);const D=I=>{!(T==null?void 0:T.current)||T.current.focus()};return P(RE,{className:ee.default("u-Editor",e,{"u-Editor--hasError":t,"u-Editor--focused":$,"u-Editor--hasBorder":!s}),onClick:D,children:[u(mi,{}),u(l.Paragraph,{"data-test-id":g["data-test-id"],tag:"section",modifier:"tertiary",noMargin:!0,className:ee.default("u-Editor__root",{"u-Editor__compact":f}),children:u(y.Editor,{ref:T,editorState:A,placeholder:i,readOnly:d,handleKeyCommand:wE(w),handleReturn:xE(w),onChange:w,onFocus:()=>{S(Xr(!0)),r()},onBlur:()=>{S(Xr(!1)),n()},blockStyleFn:_i({isDisabled:d,useRichTextStyle:c,compact:f}),blockRenderMap:bi})})]})};Lr.propTypes={onChange:p.default.func,onFocus:p.default.func,onBlur:p.default.func,onInit:p.default.func,hasError:p.default.bool,initialValue:p.default.oneOfType([p.default.string,p.default.object]),rawValue:p.default.bool,placeholder:p.default.string,withoutBorder:p.default.bool,useRichTextStyle:p.default.bool,isDisabled:p.default.bool,compact:p.default.bool},Lr.defaultProps={onChange:()=>null,onFocus:()=>null,onBlur:()=>null,hasError:!1,initialValue:y.EditorState.createEmpty(),rawValue:!0,placeholder:"",withoutBorder:!1,useRichTextStyle:!1,isDisabled:!1,compact:!1};const IE=W.default.div`
  display: flex;
  overflow-y: scroll;
  padding: ${l.pxToRem(12)} 0;
  background-color: ${l.COLORS.background3};

  > :last-child {
    margin-right: 0;
  }

  @media (min-width: ${l.pxToRem(l.ScreenConfig.M.min)}) {
    overflow-y: initial;
    padding: ${l.pxToRem(15)} 0;
  }

  &.Editor-Toolbar__whiteMode {
    background-color: ${l.COLORS.background1};
  }

  &.Editor-Toolbar__centered {
    justify-content: center;
  }

  ${({whiteMode:e})=>e&&we.css`
      background-color: ${l.COLORS.background1};
    `}
`,OE=W.default(l.Details)`
  summary.Editor__toolbar__tagListToggle {
    border-radius: ${l.pxToRem(8)};

    .Editor__toolbar__tagListToggle__button {
      pointer-events: none;
      width: ${l.pxToRem(75)};
    }

    &:focus {
      z-index: 3;
    }
  }

  &[open] {
    summary.Editor__toolbar__tagListToggle {
      .Editor__toolbar__tagListToggle__button {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }

  ${({disabled:e})=>e&&we.css`
      pointer-events: none;
      cursor: not-allowed;
    `}

  .Editor__toolbar__tagsList {
    position: absolute;
    z-index: 5;
    display: flex;
    flex-direction: column;
    width: ${l.pxToRem(75)};
    list-style: none;
    margin: 0;
    padding: 0;

    & li:last-child .Editor__toolbar__tagsList__Item {
      border-bottom: var(--border, ${l.pxToRem(1)} solid ${l.COLORS.line1});
    }

    .Editor__toolbar__tagsList__Item {
      width: 100%;
      position: relative;
      padding: ${l.pxToRem(15)} ${l.pxToRem(20)};
      background-color: var(--color-grey-000);
      border: ${l.pxToRem(1)} solid transparent;
      border-left: var(--border, ${l.pxToRem(1)} solid ${l.COLORS.line1});
      border-right: var(--border, ${l.pxToRem(1)} solid ${l.COLORS.line1});
      text-align: left;
      cursor: pointer;
      transition: border var(--transition), background-color var(--transition);

      appareance: none;
      box-sizing: border-box;

      &:hover,
      &:focus {
        background-color: var(--color-primary-100);
        border-color: var(--color-primary-700) !important;
      }

      &:focus {
        z-index: 3;
      }

      &[aria-selected="true"] {
        svg,
        path {
          fill: ${l.COLORS.primary1};
        }
      }

    }

  }
`,$i=e=>{switch(e){case"header-one":return u(l.Title1Icon,{});case"header-two":return u(l.Title2Icon,{});case"header-three":return u(l.Title3Icon,{});case"header-four":return u(l.Title4Icon,{});case"unstyled":default:return u(l.ParagraphIcon,{})}},Pr=({disabled:e,onChange:t,tags:r})=>{const[{editorState:n,disabled:a},o]=v.useContext(M),i=n.getCurrentContent(),s=n.getSelection(),c=i.getBlockForKey(s.getStartKey()).getType();v.useEffect(()=>{t(c)},[c]);const d=f=>()=>{o(F(y.RichUtils.toggleBlockType(n,f)))};return u(OE,{summaryRender:({open:f})=>P(xo,{className:"Editor__toolbar__tagListToggle__button",tabIndex:"-1",disabled:a||e,fit:"icon",tag:"span",active:f,children:[$i(c),u(l.ArrowIcon,{width:"6",direction:f?"top":"bottom"})]}),summaryProps:{className:"Editor__toolbar__tagListToggle"},disabled:a||e,children:u("ul",{className:"Editor__toolbar__tagsList",children:r.map(f=>{const g=$i(f);if(!!g)return u("li",{children:u("button",{onClick:d(f),type:"button","aria-selected":f===c,className:"Editor__toolbar__tagsList__Item",children:g})},f)})})},i)};Pr.propTypes={tags:p.default.array,disabled:p.default.bool,onChange:p.default.func},Pr.defaultProps={tags:["header-one","header-two","header-three","header-four","unstyled"],disabled:!1,onChange:()=>null};const LE=W.default.div`
  display: flex;

  > * {
    margin-left: calc(-1 * var(--border-width, 1px));
  }

  :first-child > :first-child {
    margin-left: 0;
  }

  @media (min-width: ${l.pxToRem(l.ScreenConfig.S.min)}) {
    margin-right: ${l.pxToRem(20)};

    > :not(:first-child) {
      margin-left: calc(-1 * var(--border-width, 1px));
    }
  }

  > :hover:not(:disabled),
  > :focus:not(:disabled) {
    z-index: 1;
  }

  .Editor__toolbar__button--isSelected {
    z-index: 2;
  }
`,Mr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=v.useContext(M),o=r.getCurrentContent(),i=r.getSelection(),c=o.getBlockForKey(i.getStartKey()).get("type")==="blockquote";return u(J,{icon:"quote",active:c,disabled:n||e,onToggle:()=>{t(),a(F(y.RichUtils.toggleBlockType(r,"blockquote")))}})};Mr.propTypes={disabled:p.default.bool,onChange:p.default.func},Mr.defaultProps={disabled:!1,onChange:()=>null};const Dr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=v.useContext(M),o=r.getCurrentContent(),i=r.getSelection(),s=o.getBlockForKey(i.getStartKey()).get("type");return u(J,{active:s==="unordered-list-item",icon:"format_list_bulleted",onToggle:c=>{t(),a(F(y.RichUtils.toggleBlockType(r,c)))},style:"unordered-list-item",disabled:e||n},"format_list_bulleted")};Dr.propTypes={disabled:p.default.bool,onChange:p.default.func},Dr.defaultProps={disabled:!1,onChange:()=>null};const Br=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=v.useContext(M),o=r.getCurrentInlineStyle();return u(J,{active:o.has("BOLD"),icon:"format_bold",onToggle:i=>{t(),a(F(y.RichUtils.toggleInlineStyle(r,i)))},style:"BOLD",disabled:n||e},"format_bold")};Br.propTypes={disabled:p.default.bool,onChange:p.default.func},Br.defaultProps={disabled:!1,onChange:()=>null};const Fr=({disabled:e,onChange:t})=>{const[{editorState:r,disabled:n},a]=v.useContext(M),o=r.getCurrentInlineStyle();return u(J,{active:o.has("ITALIC"),icon:"format_italic",onToggle:i=>{t(),a(F(y.RichUtils.toggleInlineStyle(r,i)))},style:"ITALIC",disabled:n||e},"format_italic")};Fr.propTypes={disabled:p.default.bool,onChange:p.default.func},Fr.defaultProps={disabled:!1,onChange:()=>null};const Be=({disabled:e,label:t,onChange:r})=>{var s;const[{editorState:n,disabled:a},o]=v.useContext(M),i=(s=pE(n))!=null?s:"k-u-align-left";return u(J,{icon:t,disabled:a||e,active:i===t,onToggle:()=>{r();const c=n.getCurrentContent(),d=n.getSelection();o(F(y.EditorState.push(n,y.Modifier.setBlockData(c,d,Ne.Map({alignmentStyle:t})),"change-inline-style")))}},t)};Be.propTypes={label:p.default.string.isRequired,disabled:p.default.bool,onChange:p.default.func},Be.defaultProps={disabled:!1,onChange:()=>null};const Nr=e=>u(Be,N({label:"k-u-align-left"},e));Nr.propTypes={disabled:p.default.bool,onChange:p.default.func},Nr.defaultProps={disabled:!1,onChange:()=>null};const Wr=e=>u(Be,N({label:"k-u-align-right"},e));Wr.propTypes={disabled:p.default.bool,onChange:p.default.func},Wr.defaultProps={disabled:!1,onChange:()=>null};const jr=e=>u(Be,N({label:"k-u-align-center"},e));jr.propTypes={disabled:p.default.bool,onChange:p.default.func},jr.defaultProps={disabled:!1,onChange:()=>null};const z=({whiteMode:e,disabled:t,className:r,centered:n,children:a})=>{const[,o]=v.useContext(M);return v.useEffect(()=>{o(Qi({disabled:t}))},[t]),u(IE,{className:ee.default(r,{"Editor-Toolbar__whiteMode":e,"Editor-Toolbar__centered":n}),children:a})};z.Image=Tr,z.TagList=Pr,z.Bold=Br,z.Italic=Fr,z.Quote=Mr,z.Left=Nr,z.Right=Wr,z.Center=jr,z.UnorderedList=Dr,z.Link=Cr,z.Button=Ar,z.Video=wr,z.Group=LE,z.propTypes={disabled:p.default.bool,whiteMode:p.default.bool,centered:p.default.bool,className:p.default.string},z.defaultProps={disabled:!1,whiteMode:!1,centered:!1};var PE=re,Ai=PE("memoize",Qa);Ai.placeholder=Q;var ME=Ai;const DE=ME(e=>{if(!l.domElementHelper.canUseDom())return null;if(!e)return y.EditorState.createEmpty();try{return y.EditorState.createWithContent(y.convertFromRaw(JSON.parse(e)),new y.CompositeDecorator([jS,QS,HS,IS,Ko]))}catch{const r=y.convertFromHTML(`<p>${e}</p>`),n=y.ContentState.createFromBlockArray(r);return y.EditorState.createWithContent(n)}}),BE=e=>{try{return JSON.parse(e),!0}catch{return!1}},FE=e=>{try{const r=JSON.parse(e).blocks.reduce((n,a)=>`${n} ${a.text}`,"");return u("div",{children:r})}catch{return u("div",{children:e})}},kr=({text:e,useRichTextStyle:t,perfEnabled:r,isDisabled:n,compact:a,configResponsiveImageHandler:o})=>l.domElementHelper.canUseDom()?BE(e)?P($t,{configResponsiveImageHandler:o,children:[u(mi,{}),u("section",{className:ee.default("u-Editor__root",{"u-Editor__compact":a}),children:u(y.Editor,{onChange:()=>null,editorState:DE(e),blockStyleFn:_i({isDisabled:n,useRichTextStyle:t,compact:a}),blockRenderMap:bi,readOnly:!0})})]}):u($t,{configResponsiveImageHandler:o,children:u(Rr,{html:e,perfEnabled:r,useRichTextStyle:t})}):FE(e);kr.propTypes={text:p.default.oneOfType([p.default.object,p.default.string]).isRequired,useRichTextStyle:p.default.bool,isDisabled:p.default.bool,perfEnabled:p.default.bool,compact:p.default.bool},kr.defaultProps={useRichTextStyle:!1,isDisabled:!1,perfEnabled:!1,compact:!1};const NE=we.createGlobalStyle`
  .DraftEditor-wrapper {
      .public-DraftEditorPlaceholder-root {
        ${l.TYPOGRAPHY.fontStyles.bold};
        font-size: ${l.pxToRem(28)};
        @media (min-width: ${l.pxToRem(l.ScreenConfig.M.min)}) {
          font-size: ${l.pxToRem(36)};
        }
        @media (min-width: ${l.pxToRem(l.ScreenConfig.L.min)}) {
          font-size: ${l.pxToRem(48)};
        }
      }
  }
  .DraftEditor-editorContainer__title {
    ${l.TYPOGRAPHY.fontStyles.bold};
    font-size: ${l.pxToRem(28)};
    @media (min-width: ${l.pxToRem(l.ScreenConfig.M.min)}) {
      font-size: ${l.pxToRem(36)};
    }
    @media (min-width: ${l.pxToRem(l.ScreenConfig.L.min)}) {
      font-size: ${l.pxToRem(48)};
    }
  }
`,Kr=({onFocus:e,onBlur:t,onChange:r,initialValue:n,placeholder:a})=>{const[o,i]=v.useState(y.EditorState.createEmpty());return v.useEffect(()=>{i(si(n))},[n]),P("div",{className:"DraftEditor-wrapper",children:[u(NE,{}),u(y.Editor,{editorState:o,onChange:s=>{i(s),r(Ni.stateToHTML(s.getCurrentContent(),{defaultBlockTag:"span",blockStyleFn:()=>({style:{display:"block"}})}))},onFocus:e,onBlur:t,placeholder:a,blockStyleFn:()=>"DraftEditor-editorContainer__title"})]})};Kr.propTypes={initialValue:p.default.string,placeholder:p.default.string,onFocus:p.default.func,onBlur:p.default.func,onChange:p.default.func},Kr.defaultProps={initalValue:"",placeholder:"",onFocus:()=>null,onBlur:()=>null,onChange:()=>null};const WE={button_link:{title:"Add a button",text:"Button text",url:"button URL"},link:{text:{label:"Your text"},title:"Add a link",error:"This link seems incorrect",button:{delete:"Delete"}},controls:{format_bold:"Bold",activated_format_bold:"Bold (activated)",format_italic:"Italic",activated_format_italic:"Italic (activated)",format_list_bulleted:"Add a list",activated_format_list_bulleted:"Add a list (activated)",["k-u-align-left"]:"Left Alignment",["activated_k-u-align-left"]:"Left Alignment (activated)",["k-u-align-center"]:"Alignment in the center",["activated_k-u-align-center"]:"Alignment in the center (activated)",["k-u-align-right"]:"Right Alignment",["activated_k-u-align-right"]:"Right Alignment (activated)",image:"Add an image",activated_image:"Add an image (activated)",video:"Add a video",activated_video:"Add a video (activated)",link:"Add a link",activated_link:"Add a link (activated)",quote:"Add a quote",activated_quote:"Add a quote (activated)"},image_upload:{title:"Insert a picture",label:"URL:",url:"URL:",preview:"Preview",upload:"Select a file on your computer",help_file:{formats:"Available formats: jpg, jpeg, gif, png, bmp",width:"Maximum weight: 5 MB",size:"Maximum width and height: 1000x4000 pixels"}},image:{invalid_url:"Your url doesn't seem correct",invalid_extension:"The format of your image is not supported",max_size:"The size of your image exceeds 5 MB"},media_upload:{title:"Insert a media"},video:{problem:"An error occurred while loading the content. Please try again",invalid_url:"Your url doesn't seem correct"},submit:"Validate",form:{tooltip_action_label:"More informations",button_loading:"Loading"}},Gr=({onInit:e,translations:t,configResponsiveImageHandler:r,children:n})=>(v.useEffect(()=>{e()},[]),u($t,{translations:N(N({},WE),t),configResponsiveImageHandler:r,children:n})),Ur={props:{onInit:p.default.func,configResponsiveImageHandler:p.default.shape({}),translations:p.default.shape()},defaultProps:{onInit:()=>null,configResponsiveImageHandler:{},translations:{}}};Gr.propTypes=Ur.props,Gr.defaultProps=Ur.defaultProps,Object.defineProperty(E,"convertToRaw",{enumerable:!0,get:function(){return y.convertToRaw}}),Object.defineProperty(E,"convertToHTML",{enumerable:!0,get:function(){return mt.convertToHTML}}),E.Controls=z,E.Displayer=kr,E.Editor=Gr,E.Playground=Lr,E.Title=Kr,E.editorPropTypes=Ur,E.getJSONContent=dE,E.isEditorEmpty=yE,Object.defineProperty(E,"__esModule",{value:!0}),E[Symbol.toStringTag]="Module"});
